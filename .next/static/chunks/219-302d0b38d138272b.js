"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{3172:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(5893),i=(t(7294),t(3300)),s=t(1681),r=t(1664),o=t(387),l=function(){var e=(0,o.useRouter)();return(0,a.jsxs)("div",{className:"sub-header",children:[(0,a.jsx)(r.default,{href:"/explore/flatmates",children:(0,a.jsx)("div",{className:"sub-header-link ".concat("/explore/flatmates"===e.pathname&&"active"),children:(0,a.jsx)("i",{className:"fas fa-users"})})}),(0,a.jsx)(r.default,{href:"/explore/flats",children:(0,a.jsx)("div",{className:"sub-header-link ".concat("/explore/flats"===e.pathname&&"active"),children:(0,a.jsx)("i",{className:"fas fa-home"})})})]})},c=function(e){var n=e.children;return(0,a.jsxs)("div",{className:"Explore",children:[(0,a.jsx)(s.Z,{variant:"gradient"}),(0,a.jsx)(l,{}),(0,a.jsx)("div",{className:"container",children:n}),(0,a.jsx)(i.Z,{})]})}},2763:function(e,n,t){t.d(n,{Z:function(){return I}});var a=t(5893),i=t(7294),s=(t(9008),t(387)),r=t(6934),o=t(1018),l=t(6155),c=t(5182),u=t(1664),d=function(e){var n=e.name,t=e.age,i=e.gender,s=e.location,r=e.money,l=e.available,c=e.bio,d=e.pfp,f=e.premium,m=e.lastActive,h=e.id,v=(0,o.a)(),p=v.currentUser,g=v.userLoaded,x=function(e){if(console.log(m),!e)return"Neur\u010dito";var n=new Date-e,t=Math.floor(n/864e5),a=Math.floor(n%864e5/36e5),i=Math.floor(n%36e5/6e4),s=Math.floor(n%6e4/1e3);return t>0?"".concat(t," ").concat(1===t?"den":t>1&&t<5?"dny":"dn\xed"):a>0?"".concat(a," ").concat(1===a?"hodina":a>1&&a<5?"hodiny":"hodin"):i>0?"".concat(i," ").concat(1===i?"minuta":i>1&&i<5?"minuty":"minut"):"".concat(s," ").concat(1===s?"sekunda":s>1&&s<5?"sekundy":"sekund")};return(0,a.jsx)(u.default,{href:"/flatmate/".concat(h),children:(0,a.jsxs)("div",{className:"explore-flatmate ".concat(f&&"premium"),children:[(0,a.jsx)("div",{className:"listing-pfp-container",children:i?(0,a.jsx)(a.Fragment,{children:d?(0,a.jsx)("img",{className:"listing-pfp",src:d,alt:""}):(0,a.jsx)("img",{src:"male"===i?"/img/pfps/radek-pfp.png":"/img/pfps/radka-pfp.png",className:"listing-pfp",alt:""})}):(0,a.jsx)("div",{className:"listing-pfp"})}),(0,a.jsxs)("div",{className:"listing-content",children:[p&&(0,a.jsxs)("div",{className:"content-last-active content-last-active-m",children:["Naposledy aktivn\xed: ",x(null===m||void 0===m?void 0:m.toDate())]}),(0,a.jsxs)("div",{className:"content-header",children:[(0,a.jsx)("span",{children:n}),", ",t," ",f&&(0,a.jsx)("i",{className:"fas fa-check-circle"})]}),(0,a.jsx)("div",{className:"content-bio",children:(0,a.jsxs)("p",{children:[c.substr(0,70),c.length>70&&"..."]})}),p&&(0,a.jsxs)("div",{className:"content-last-active",children:["Naposledy aktivn\xed: ",x(null===m||void 0===m?void 0:m.toDate())]}),!p&&g&&(0,a.jsx)("div",{className:"content-more",children:"Zobrazit v\xedce..."}),(0,a.jsxs)("div",{className:"content-info",children:[(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsxs)("div",{className:"info-budget row-col",children:[(0,a.jsx)("span",{children:"Rozpo\u010det: "}),r>=1e4?r.toString().substr(0,2)+" "+r.toString().substr(2,6):r.toString().substr(0,1)+" "+r.toString().substr(1,5),",-"]}),(0,a.jsxs)("div",{className:"info-locations row-col",children:[(0,a.jsx)("span",{children:"Lokace:"})," ",s.substr(0,7),s.length>7&&"..."]})]}),(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsxs)("div",{className:"info-gender row-col",children:[(0,a.jsx)("span",{children:"Pohlav\xed:"})," ","female"==i?"\u017dena":"male"==i?"Mu\u017e":"Jin\xe9"]}),(0,a.jsxs)("div",{className:"info-available row-col",children:[(0,a.jsx)("span",{children:"Dostupnost:"})," ",l]})]})]})]})]})})},f=function(e){var n=e.name,t=e.bio,i=e.price,s=e.size,r=e.startTime,l=e.stayTime,c=e.mainImg,d=e.premium,f=e.lastActive,m=e.id,h=(0,o.a)(),v=h.currentUser,p=h.userLoaded,g=function(e){if(!e)return"Neur\u010dito";var n=new Date-e,t=Math.floor(n/864e5),a=Math.floor(n%864e5/36e5),i=Math.floor(n%36e5/6e4),s=Math.floor(n%6e4/1e3);return t>0?"".concat(t," ").concat(1===t?"den":t>1&&t<5?"dny":"dn\xed"):a>0?"".concat(a," ").concat(1===a?"hodina":a>1&&a<5?"hodiny":"hodin"):i>0?"".concat(i," ").concat(1===i?"minuta":i>1&&i<5?"minuty":"minut"):"".concat(s," ").concat(1===s?"sekunda":s>1&&s<5?"sekundy":"sekund")};return(0,a.jsx)(u.default,{href:"/flat/".concat(m),children:(0,a.jsxs)("div",{className:"explore-flat ".concat(d&&"premium"),children:[(0,a.jsx)("div",{className:"listing-pfp-container",children:c?(0,a.jsx)("img",{src:c,className:"listing-pfp"}):(0,a.jsx)("img",{src:"/img/listing/default-byt.jpg",className:"listing-pfp"})}),(0,a.jsxs)("div",{className:"listing-content",children:[v&&(0,a.jsxs)("div",{className:"content-last-active content-last-active-m",children:["Naposledy aktivn\xed: ",g(null===f||void 0===f?void 0:f.toDate())]}),(0,a.jsxs)("div",{className:"content-header",children:[(0,a.jsx)("span",{children:n})," ",d&&(0,a.jsx)("i",{className:"fas fa-check-circle"})]}),(0,a.jsx)("div",{className:"content-bio",children:(0,a.jsxs)("p",{children:[t.substr(0,75),"..."]})}),v&&(0,a.jsxs)("div",{className:"content-last-active",children:["Naposledy aktivn\xed: ",g(null===f||void 0===f?void 0:f.toDate())]}),!v&&p&&(0,a.jsx)("div",{className:"content-more",children:"Zobrazit v\xedce..."}),(0,a.jsxs)("div",{className:"content-info",children:[(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsxs)("div",{className:"info-budget row-col",children:[(0,a.jsx)("span",{children:"Cena: "}),i>=1e4?i.toString().substr(0,2)+" "+i.toString().substr(2,6):i.toString().substr(0,1)+" "+i.toString().substr(1,5),",-"]}),(0,a.jsxs)("div",{className:"info-locations row-col",children:[(0,a.jsx)("span",{children:"Smlouva:"})," ",l]})]}),(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsxs)("div",{className:"info-gender row-col",children:[(0,a.jsx)("span",{children:"Plocha:"})," ",s||"","m",(0,a.jsx)("sup",{children:"2"})]}),(0,a.jsxs)("div",{className:"info-available row-col",children:[(0,a.jsx)("span",{children:"Dostupnost:"})," ",r.substr(0,5),"."]})]})]})]})]})})},m=t(1739),h=t(9918),v=t(4900),p=t(913),g=t(3841),x=t(4020),j=t(5819);function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function N(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return b(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(e){var n=e.variant,t=e.setOpen,s=e.activeFilters,r=e.setActiveFilters,o=e.applyFilters,l=(0,i.useState)([]),c=l[0],u=l[1],d=(0,i.useState)([]),f=d[0],m=d[1],b=(0,i.useState)(""),y=b[0],k=b[1],w=(0,i.useState)([]),S=w[0],Z=w[1],A=(0,i.useState)(""),P=A[0],z=A[1],I=(0,i.useState)(""),L=I[0],C=I[1],T=(0,i.useState)(""),O=T[0],E=T[1],F=(0,i.useState)(""),M=F[0],V=F[1],B=(0,i.useState)(""),D=B[0],K=B[1],R=(0,i.useState)(""),U=R[0],J=R[1];(0,i.useEffect)((function(){_()}),[s]);var _=function(){"flatmate"===n&&(u(s.gender?s.gender:[]),m(s.age?s.age:[]),k(s.smoking?s.smoking:""),Z(s.job?s.job:[]),V(s.location?s.location:"")),"flat"===n&&(V(s.location?s.location:""),z(s.layout?s.layout:""),J(s.internet?s.internet:""),K(s.elevator?s.elevator:""),C(s.petAllowed?s.petAllowed:""),E(s.smokingAllowed?s.smokingAllowed:""))};return(0,a.jsxs)("div",{onClick:function(e){return e.stopPropagation()},className:"filter",children:[(0,a.jsx)("i",{onClick:function(){return t(!1)},className:"filter-close fas fa-times"}),(0,a.jsx)("div",{className:"filter-header",children:"flatmate"===n?"Filtrovat lidi":"Filtrovat byty"}),(0,a.jsxs)("div",{className:"filter-description",children:["Zde m\u016f\u017eete zadat va\u0161e preference","flatmate"===n?" ide\xe1ln\xedho spolubydl\xedc\xedho.":" ide\xe1ln\xedho bydlen\xed."," ","Zaklikejte hodnoty, podle kter\xfdch chcete filtrovat, ostatn\xed m\u016f\u017eete nechat pr\xe1zdn\xe9."]}),"flatmate"===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"filter-section",children:[(0,a.jsx)("div",{className:"section-header",children:"Lokace"}),(0,a.jsx)("div",{className:"section-tags",children:(0,a.jsx)(v.Z,{location:M,setLocation:V})})]}),(0,a.jsx)("section",{className:"filter-section",children:(0,a.jsx)("div",{className:"section-tags",children:(0,a.jsx)(h.Z,{active:M,children:M||"Vyberte lokaci"})})}),(0,a.jsxs)("section",{className:"filter-section",children:[(0,a.jsx)("p",{className:"section-header",children:"Pohlav\xed"}),(0,a.jsxs)("div",{className:"section-tags",children:[(0,a.jsx)(h.Z,{active:c.includes("Mu\u017e"),onClick:function(){var e="Mu\u017e";c.includes(e)?u((function(n){return n.filter((function(n){return n!=e}))})):2===c.length?u([]):u((function(n){return N(n).concat([e])}))},children:"Mu\u017e"}),(0,a.jsx)(h.Z,{active:c.includes("\u017dena"),onClick:function(){var e="\u017dena";c.includes(e)?u((function(n){return n.filter((function(n){return n!=e}))})):2===c.length?u([]):u((function(n){return N(n).concat([e])}))},children:"\u017dena"}),(0,a.jsx)(h.Z,{active:c.includes("Jin\xe9"),onClick:function(){var e="Jin\xe9";c.includes(e)?u((function(n){return n.filter((function(n){return n!=e}))})):2===c.length?u([]):u((function(n){return N(n).concat([e])}))},children:"Jin\xe9"})]})]}),(0,a.jsxs)("section",{className:"filter-section",children:[(0,a.jsx)("p",{className:"section-header",children:"V\u011bk"}),(0,a.jsxs)("div",{className:"section-tags",children:[(0,a.jsx)(h.Z,{active:f.includes("18-25"),onClick:function(){var e="18-25";f.includes(e)?m((function(n){return n.filter((function(n){return n!=e}))})):2===f.length?m([]):m((function(n){return N(n).concat([e])}))},children:"18-25"}),(0,a.jsx)(h.Z,{active:f.includes("25-35"),onClick:function(){var e="25-35";f.includes(e)?m((function(n){return n.filter((function(n){return n!=e}))})):2===f.length?m([]):m((function(n){return N(n).concat([e])}))},children:"25-35"}),(0,a.jsx)(h.Z,{active:f.includes("35+"),onClick:function(){var e="35+";f.includes(e)?m((function(n){return n.filter((function(n){return n!=e}))})):2===f.length?m([]):m((function(n){return N(n).concat([e])}))},children:"35+"})]})]}),(0,a.jsxs)("section",{className:"filter-section",children:[(0,a.jsx)("p",{className:"section-header",children:"Kou\u0159en\xed"}),(0,a.jsxs)("div",{className:"section-tags",children:[(0,a.jsx)(h.Z,{active:"Ku\u0159\xe1k"===y,onClick:function(){return k("Ku\u0159\xe1k"===y?"":"Ku\u0159\xe1k")},children:"Ku\u0159\xe1k"}),(0,a.jsx)(h.Z,{active:"Neku\u0159\xe1k"===y,onClick:function(){return k("Neku\u0159\xe1k"===y?"":"Neku\u0159\xe1k")},children:"Neku\u0159\xe1k"})]})]}),(0,a.jsxs)("section",{className:"filter-section",children:[(0,a.jsx)("p",{className:"section-header",children:"Zam\u011bstn\xe1n\xed"}),(0,a.jsxs)("div",{className:"section-tags",children:[(0,a.jsx)(h.Z,{active:S.includes("Zam\u011bstnan\xfd"),onClick:function(){var e="Zam\u011bstnan\xfd";S.includes(e)?Z((function(n){return n.filter((function(n){return n!=e}))})):2===S.length?Z([]):Z((function(n){return N(n).concat([e])}))},children:"Zam\u011bstnan\xfd"}),(0,a.jsx)(h.Z,{active:S.includes("Nezam\u011bstnan\xfd"),onClick:function(){var e="Nezam\u011bstnan\xfd";S.includes(e)?Z((function(n){return n.filter((function(n){return n!=e}))})):2===S.length?Z([]):Z((function(n){return N(n).concat([e])}))},children:"Nezam\u011bstnan\xfd"}),(0,a.jsx)(h.Z,{active:S.includes("Student"),onClick:function(){var e="Student";S.includes(e)?Z((function(n){return n.filter((function(n){return n!=e}))})):2===S.length?Z([]):Z((function(n){return N(n).concat([e])}))},children:"Student"})]})]})]}),"flat"===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"filter-section",children:[(0,a.jsx)("div",{className:"section-header",children:"Lokace"}),(0,a.jsx)("div",{className:"section-tags",children:(0,a.jsx)(v.Z,{location:M,setLocation:V})})]}),(0,a.jsxs)("section",{className:"filter-section",children:[(0,a.jsx)("div",{className:"section-header",children:"Dispozice"}),(0,a.jsx)("div",{className:"section-tags",children:(0,a.jsxs)(p.Z,{fullWidth:!0,children:[(0,a.jsx)(g.Z,{id:"demo-simple-select-label",children:"Dispozice"}),(0,a.jsxs)(x.Z,{label:"Dispozice",onChange:function(e){return z("none"===e.target.value?"":e.target.value)},value:P||"none",children:[(0,a.jsx)(j.Z,{value:"none",children:"Libovoln\xe9"}),(0,a.jsx)(j.Z,{value:"1+1",children:"1+1"}),(0,a.jsx)(j.Z,{value:"1+kk",children:"1+kk"}),(0,a.jsx)(j.Z,{value:"2+1",children:"2+1"}),(0,a.jsx)(j.Z,{value:"2+kk",children:"2+kk"}),(0,a.jsx)(j.Z,{value:"3+1",children:"3+1"}),(0,a.jsx)(j.Z,{value:"3+kk",children:"3+kk"}),(0,a.jsx)(j.Z,{value:"4+1",children:"4+1"}),(0,a.jsx)(j.Z,{value:"4+kk",children:"4+kk"})]})]})})]}),(0,a.jsxs)("section",{className:"filter-section",children:[(0,a.jsx)("div",{className:"section-header",children:"V\xfdtah"}),(0,a.jsxs)("div",{className:"section-tags",children:[(0,a.jsx)(h.Z,{active:"V\xfdtah"===D,onClick:function(){return K("V\xfdtah"===D?"":"V\xfdtah")},variant:"box",icon:"caret-square-up",children:"Ano"}),(0,a.jsx)(h.Z,{active:"Bez v\xfdtahu"===D,onClick:function(){return K("Bez v\xfdtahu"===D?"":"Bez v\xfdtahu")},variant:"box",icon:"caret-square-up",children:"Ne"})]})]}),(0,a.jsxs)("section",{className:"filter-section",children:[(0,a.jsx)("div",{className:"section-header",children:"Internet"}),(0,a.jsxs)("div",{className:"section-tags",children:[(0,a.jsx)(h.Z,{active:"Internet"===U,onClick:function(){return J("Internet"===U?"":"Internet")},variant:"box",icon:"wifi",children:"Ano"}),(0,a.jsx)(h.Z,{active:"Bez internetu"===U,onClick:function(){return J("Bez internetu"===U?"":"Bez internetu")},variant:"box",icon:"wifi",children:"Ne"})]})]}),(0,a.jsxs)("section",{className:"filter-section",children:[(0,a.jsx)("div",{className:"section-header",children:"Mazl\xed\u010dci"}),(0,a.jsxs)("div",{className:"section-tags",children:[(0,a.jsx)(h.Z,{active:"Mazl\xed\u010dci povoleno"===L,onClick:function(){return C("Mazl\xed\u010dci povoleno"===L?"":"Mazl\xed\u010dci povoleno")},variant:"box",icon:"dog",children:"Povoleno"}),(0,a.jsx)(h.Z,{active:"Mazl\xed\u010dci nepovoleno"===L,onClick:function(){return C("Mazl\xed\u010dci nepovoleno"===L?"":"Mazl\xed\u010dci nepovoleno")},variant:"box",icon:"dog",children:"Nepovoleno"})]})]}),(0,a.jsxs)("section",{className:"filter-section",children:[(0,a.jsx)("div",{className:"section-header",children:"Kou\u0159en\xed"}),(0,a.jsxs)("div",{className:"section-tags",children:[(0,a.jsx)(h.Z,{active:"Kou\u0159en\xed povoleno"===O,onClick:function(){return E("Kou\u0159en\xed povoleno"===O?"":"Kou\u0159en\xed povoleno")},variant:"box",icon:"smoking",children:"Povoleno"}),(0,a.jsx)(h.Z,{active:"Kou\u0159en\xed nepovoleno"===O,onClick:function(){return E("Kou\u0159en\xed nepovoleno"===O?"":"Kou\u0159en\xed nepovoleno")},variant:"box",icon:"smoking",children:"Nepovoleno"})]})]})]}),(0,a.jsxs)("div",{className:"filter-buttons",children:[(0,a.jsx)("button",{onClick:function(){return function(){if("flatmate"===n){var e={};c.length&&(e.gender=c),f.length&&(e.age=f),y&&(e.smoking=y),S.length&&(e.job=S),M&&(e.location=M),r(e),o(e)}if("flat"===n){var a={};M&&(a.location=M),P&&(a.layout=P),D&&(a.elevator=D),U&&(a.internet=U),L&&(a.petAllowed=L),O&&(a.smokingAllowed=O),r(a),o(a)}t(!1)}()},className:"main-btn",children:"P\u0159idat filtry"}),(0,a.jsx)("button",{onClick:function(){return u([]),m([]),k(""),Z([]),z(""),C(""),E(""),o({}),r({}),void t(!1)},className:"general-btn",children:"Odebrat filtry"})]})]})},k=t(9029),w=t(8456),S=t(7227);function Z(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function A(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,i,s=[],r=!0,o=!1;try{for(t=t.call(e);!(r=(a=t.next()).done)&&(s.push(a.value),!n||s.length!==n);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==t.return||t.return()}finally{if(o)throw i}}return s}}(e,n)||z(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,n){if(e){if("string"===typeof e)return Z(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Z(e,n):void 0}}var I=function(e){var n=e.variant,t=(0,r.s)(),u=t.getListings,h=(t.getListingsFilter,t.getListing),v=(0,s.useRouter)(),p=(0,o.a)(),g=p.currentUser,x=p.currentUserInfo,j=A((0,c.r)(),2),b=(j[0],j[1],(0,l.M)()),N=b.flatListingsValue,Z=b.flatmateListingsValue,z=b.flatSnapsValue,I=b.flatmateSnapsValue,L=b.premiumFlatSnapsValue,C=b.premiumFlatmateSnapsValue,T=b.activeFiltersValue,O=b.flatmatePageValue,E=b.flatPageValue,F=b.currentVariantValue,M=A(N,2),V=M[0],B=M[1],D=A(Z,2),K=D[0],R=D[1],U=A(z,2),J=U[0],_=U[1],$=A(I,2),q=$[0],H=$[1],G=A(L,2),W=G[0],Q=G[1],X=A(C,2),Y=X[0],ee=X[1],ne=A(T,2),te=ne[0],ae=ne[1],ie=A(O,2),se=ie[0],re=ie[1],oe=A(E,2),le=oe[0],ce=oe[1],ue=A(F,2),de=ue[0],fe=ue[1],me=(0,i.useState)(!1),he=me[0],ve=me[1],pe=(0,i.useState)(!1),ge=pe[0],xe=pe[1],je=(0,i.useState)(!1),be=je[0],Ne=je[1],ye=(0,i.useState)(!1),ke=ye[0],we=ye[1],Se=(0,i.useState)(!1),Ze=Se[0],Ae=Se[1],Pe=(0,i.useState)(!1),ze=Pe[0],Ie=Pe[1];(0,i.useEffect)((function(){if("flatmate"===n){if(K)return;Le("flatmate","first",null,null,te)}if("flat"===n){if(V)return;Le("flat","first",null,null,te)}}),[]),(0,i.useEffect)((function(){if(de){if(de==n)return;Object.keys(te).length&&(ae({}),"flatmate"===de&&R(null),"flat"===de&&B(null)),fe(n)}else fe(n)}),[n]);var Le=function(e,n,t,a,i){if(console.log(Y&&Y.map((function(e){return e.data().userInfo.username}))),"flatmate"===e)if("first"===n){var s=[];u("flatmate","first",null,null,i).then((function(e){var n=e.newPremiumListings.concat(e.newListings);H(e.newListings),ee(e.newPremiumListings),n.forEach((function(e){s=P(s).concat([e])})),R(s),Ie(!1)})).catch((function(e){"network-failed"===e.message&&Ae(!0),console.log(e)}))}else if("next"===n){var r=[];Ie(!0),u("flatmate","next",t,a,i).then((function(e){var n=e.newPremiumListings.concat(e.newListings);n.length>0&&(re((function(e){return e+1})),H(e.newListings),ee(e.newPremiumListings),n.forEach((function(e){r=P(r).concat([e])})),R(r),window.scrollTo({top:0,behavior:"smooth"})),Ie(!1)}))}else if("prev"===n){var o=[];Ie(!0),u("flatmate","prev",t,a,i).then((function(e){var n=e.newPremiumListings.concat(e.newListings);n.length>0&&(re((function(e){return e-1})),H(e.newListings),ee(e.newPremiumListings),n.forEach((function(e){o=P(o).concat([e])})),R(o),window.scrollTo({top:0,behavior:"smooth"})),Ie(!1)}))}if("flat"===e)if("first"===n){var l=[];u("flat",n,null,null,i).then((function(e){var n=e.newPremiumListings.concat(e.newListings);_(e.newListings),Q(e.newPremiumListings),n.forEach((function(e){l=P(l).concat([e])})),B(l),Ie(!1)})).catch((function(e){"network-failed"===e.message&&Ae(!0)}))}else if("next"===n){var c=[];Ie(!0),u("flat","next",t,a,i).then((function(e){var n=e.newPremiumListings.concat(e.newListings);n.length>0&&(_(e.newListings),Q(e.newPremiumListings),ce((function(e){return e+1})),n.forEach((function(e){c=P(c).concat([e])})),B(c)),Ie(!1)}))}else if("prev"===n){var d=[];Ie(!0),u("flat","prev",t,a,i).then((function(e){var n=e.newPremiumListings.concat(e.newListings);n.length>0&&(_(e.newListings),Q(e.newPremiumListings),ce((function(e){return e-1})),n.forEach((function(e){d=P(d).concat([e])})),B(d)),Ie(!1)}))}},Ce=function(e){"flatmate"===n&&(R(null),re(1),Le("flatmate","first",null,null,e)),"flat"===n&&(B(null),ce(1),Le("flat","first",null,null,e))},Te=function(e){g?("flatmate"===n&&("next"===e&&Le("flatmate","next",q,Y,te),"prev"===e&&Le("flatmate","prev",q,Y,te)),"flat"===n&&("next"===e&&Le("flat","next",J,W,te),"prev"===e&&Le("flat","prev",J,W,te))):xe(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(k.Z,{image:"/img/dialogs/login-dialog.png",heading:"Pro pokra\u010dov\xe1n\xed je nutn\xe9 se p\u0159ihl\xe1sit.",open:ge,setOpen:xe,children:[(0,a.jsx)("div",{className:"dialog-body",children:"Pro pokra\u010dov\xe1n\xed a zobrazen\xed dal\u0161\xedch inzer\xe1t\u016f je nutn\xe9 se zaregistrovat nebo p\u0159ihl\xe1sit do \xfa\u010dtu Roomie."}),(0,a.jsxs)("div",{className:"dialog-action",children:[(0,a.jsx)("button",{onClick:function(){return v.push("/register")},className:"acc-btn",children:"Registrovat"}),(0,a.jsx)("button",{onClick:function(){return v.push("/login")},className:"main-btn",children:"P\u0159ihl\xe1sit"})]})]}),(0,a.jsxs)(k.Z,{image:"/img/dialogs/login-dialog.png",heading:"Pro pokra\u010dov\xe1n\xed je nutn\xe9 m\xedt premium",open:be,setOpen:Ne,children:[(0,a.jsx)("div",{className:"dialog-body",children:"Pro pokra\u010dov\xe1n\xed a zobrazen\xed dal\u0161\xedch inzer\xe1t\u016f je nutn\xe9 m\xed premium \xfa\u010det Roomie."}),(0,a.jsx)("div",{className:"dialog-action",children:(0,a.jsx)("button",{onClick:function(){return v.push("/premium")},className:"main-btn",children:"Z\xedskat premium"})})]}),(0,a.jsxs)("div",{className:"explore-feed",children:[(0,a.jsx)(S.Z,{sx:{zIndex:function(e){return e.zIndex.drawer+1}},open:he,children:(0,a.jsx)(y,{variant:n,setOpen:ve,activeFilters:te,setActiveFilters:ae,applyFilters:Ce})}),(0,a.jsxs)("div",{className:"feed-header",children:[(0,a.jsx)("h3",{className:"header-title",children:"flatmate"===n?"Prohl\xed\u017eet spolubydl\xedc\xed":"Prohl\xed\u017eet byty"}),(0,a.jsxs)("div",{className:"header-filters",children:[(0,a.jsxs)("div",{className:"filters-filter ".concat(Object.keys(te).length&&!ke&&"active"," ").concat(ke&&"disabled"),onClick:function(){g?(ve(!0),we(!1)):xe(!0)},children:[(0,a.jsx)("p",{children:"Filtry"}),(0,a.jsx)("i",{className:"fas fa-chevron-down"})]}),(0,a.jsxs)("div",{className:"filters-match ".concat(ke&&"active"," ").concat(x?"flat"===n&&"offerer"===x.mainInfo.type||n===x.mainInfo.type?"disabled":"":"disabled"),onClick:function(){return function(){if(("flatmate"!==x.mainInfo.type||"flatmate"!==n)&&("offerer"!==x.mainInfo.type||"flat"!==n)){if(ke)return ae({}),Ce({}),void we((function(e){return!e}));we((function(e){return!e})),h(x.listing.id).then((function(e){if("flatmate"===n){var t={location:e.data().flatBoxes.location?e.data().flatBoxes.location:null,gender:e.data().personTags.gender?e.data().personTags.gender:null,age:e.data().personTags.age?e.data().personTags.age:null,smoking:e.data().personTags.smoking?e.data().personTags.smoking:null,job:e.data().personTags.job?e.data().personTags.job:null};ae(t),Ce(t)}if("flat"===n){var a={location:e.data().flatTags.location?e.data().flatTags.location:null,layout:e.data().flatTags.layout?e.data().flatTags.layout:null,elevator:e.data().flatTags.elevator?e.data().flatTags.elevator:null,internet:e.data().flatTags.internet?e.data().flatTags.internet:null,petAllowed:e.data().flatTags.petAllowed?e.data().flatTags.petAllowed:null,smokingAllowed:e.data().flatTags.smokingAllowed?e.data().flatTags.smokingAllowed:null};ae(a),Ce(a)}})).catch((function(e){console.log(e)}))}}()},children:[(0,a.jsx)("p",{children:"P\u0159\xedmo pro v\xe1s"}),(0,a.jsx)("i",{className:"fas fa-puzzle-piece"})]})]})]}),"flatmate"===n&&!Ze&&(0,a.jsx)(a.Fragment,{children:K?(0,a.jsx)(a.Fragment,{children:K&&K.length?(0,a.jsxs)(a.Fragment,{children:[K.map((function(e,n){return(0,a.jsx)(d,{name:e.data().userInfo.username,age:e.data().userInfo.age,gender:e.data().userInfo.gender,location:e.data().flatTags.location,money:e.data().mainInfo.budget,available:e.data().mainInfo.startTime,bio:e.data().bio,id:e.id,pfp:e.data().userInfo.images.pfp,premium:e.data().userInfo.premium,lastActive:e.data().userInfo.lastActive},n)})),K.length>7||1!=se?(0,a.jsx)(m.Z,{page:se,setPage:re,handlePagination:Te,isDisabled:ze}):""]}):(0,a.jsxs)("div",{className:"feed-not-found",children:[(0,a.jsx)("img",{src:"/img/bad-results/notfound.png",width:184,height:208}),(0,a.jsx)("div",{className:"not-found-description",children:"Omlouv\xe1me se, ale va\u0161\xedm po\u017eadavk\u016fm neodpov\xeddaj\xed \u017e\xe1dn\xe9 inzer\xe1ty. Zkuste upravit sv\xe9 filtry."})]})}):(0,a.jsx)("div",{className:"loading",children:(0,a.jsx)(w.Z,{})})}),"flat"===n&&!Ze&&(0,a.jsx)(a.Fragment,{children:V?(0,a.jsx)(a.Fragment,{children:V.length?(0,a.jsxs)(a.Fragment,{children:[V.map((function(e,n){return(0,a.jsx)(f,{name:"Byt ".concat(e.data().flatBoxes.layout?e.data().flatBoxes.layout:""," ").concat(e.data().flatBoxes.location),bio:e.data().flatBio,price:e.data().mainInfo.price,startTime:e.data().mainInfo.startTime,stayTime:e.data().mainInfo.stayTime,mainImg:e.data().userInfo.images.listingImgs[0],premium:e.data().userInfo.premium,size:e.data().flatBoxes.size,lastActive:e.data().userInfo.lastActive,id:e.id},n)})),(V.length>7||1!=le)&&(0,a.jsx)(m.Z,{page:le,setPage:ce,handlePagination:Te,isDisabled:ze})]}):(0,a.jsxs)("div",{className:"feed-not-found",children:[(0,a.jsx)("img",{src:"/img/bad-results/notfound.png",width:184,height:208}),(0,a.jsx)("div",{className:"not-found-description",children:"Omlouv\xe1me se, ale va\u0161\xedm po\u017eadavk\u016fm neodpov\xeddaj\xed \u017e\xe1dn\xe9 inzer\xe1ty. Zkuste upravit sv\xe9 filtry."})]})}):(0,a.jsx)("div",{className:"loading",children:(0,a.jsx)(w.Z,{})})}),Ze&&(0,a.jsxs)("div",{className:"feed-connection-lost",children:[(0,a.jsx)("p",{className:"lost-description",children:"Va\u0161e p\u0159ipojen\xed bylo ztraceno."}),(0,a.jsx)("button",{onClick:function(){return v.reload("explore/".concat(n))},className:"acc-btn",children:"Opakovat"})]})]})]})}},4900:function(e,n,t){var a=t(5893),i=t(7294),s=t(5906),r=t(8456);function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function l(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.Z=function(e){var n=e.setLocation,t=e.location,o=(0,i.useState)(""),c=o[0],u=o[1],d=(0,i.useState)([]),f=d[0],m=d[1],h=(0,i.useState)(!1),v=h[0],p=h[1],g=(0,i.useState)(!1),x=g[0],j=g[1],b=(0,i.useState)(!1),N=b[0],y=b[1],k=(0,i.useRef)(t);(0,i.useEffect)((function(){var e=c.toLowerCase();if(!0!==N){if(""===c)return n(""),void j(!1);var t=[];e.includes("prah")&&(e=e.includes("praha")?e.replace("praha","Prague"):e.replace("prah","Prag")),j(!0),p(!0),fetch("https://wft-geo-db.p.rapidapi.com/v1/geo/cities?limit=10&countryIds=cz&namePrefix=".concat(e),{method:"GET",headers:{"x-rapidapi-host":"wft-geo-db.p.rapidapi.com","x-rapidapi-key":"055a115952msh3056abcfce60747p145c08jsn61e5785761bb"}}).then((function(e){return e.json()})).then((function(e){e.data.forEach((function(e){var n=e.name;n.includes("Prague")&&(n=n.replace("Prague","Praha")),t=l(t).concat([n])})),p(!1),m(t)})).catch((function(e){}))}}),[N]),(0,i.useEffect)((function(){t?(k.current.value=t,u(t)):(k.current.value="",u(""))}),[t]);return(0,a.jsxs)("div",{className:"location-dropdown",children:[(0,a.jsxs)("div",{className:"location-dropdown-input",children:[(0,a.jsx)("input",{maxLength:30,ref:k,onChange:function(e){y(!0),setTimeout((function(){y(!1)}),2e3),u(e.target.value)},type:"text"}),(0,a.jsx)("i",{value:c,style:{color:c&&c==t?"green":c&&c!=t?"red":c?"":"#333"},className:"fas fa-".concat(c&&c==t?"check":c&&c!=t?"times":c?"":"search")})]}),(0,a.jsxs)(s.E.div,{variants:{active:{maxHeight:"20vh",opacity:1,display:"block"},disabled:{maxHeight:0,opacity:0,display:"none"},transition:{duration:1}},animate:x?"active":"",initial:"disabled",transition:"transition",className:"location-dropdown-options",children:[!v&&(0,a.jsx)("ul",{children:f.length>0?f.map((function(e,t){return(0,a.jsxs)("li",{onClick:function(){n(e),u(e),j(!1)},children:[(0,a.jsx)("p",{children:e}),(0,a.jsx)("i",{className:"fas fa-plus"})]},t)})):(0,a.jsx)("li",{className:"options-not-found",children:"Nic nebylo nalezeno."})}),v&&(0,a.jsx)("div",{className:"location-dropdown-loading",children:(0,a.jsx)(r.Z,{})})]})]})}},9918:function(e,n,t){var a=t(5893);t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}n.Z=function(e){var n=e.children,t=e.plus,r=e.active,o=e.variant,l=e.icon,c=s(e,["children","plus","active","variant","icon"]);return(0,a.jsxs)("div",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){i(e,n,t[n])}))}return e}({},c,{className:"tag ".concat(r&&"active"),children:[(0,a.jsx)("i",{className:"tag-icon ".concat("box"===o&&"box-tag-icon"," fas fa-").concat("box"===o?l:t?"plus":"check")}),(0,a.jsx)("p",{className:"tag-description",children:n})]}))}}}]);