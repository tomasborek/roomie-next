(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{4474:function(t,e,n){"use strict";n.d(e,{Z:function(){return it}});var r=n(1526),i=Math.abs,o=String.fromCharCode,s=Object.assign;function a(t){return t.trim()}function c(t,e,n){return t.replace(e,n)}function u(t,e){return t.indexOf(e)}function l(t,e){return 0|t.charCodeAt(e)}function h(t,e,n){return t.slice(e,n)}function d(t){return t.length}function f(t){return t.length}function p(t,e){return e.push(t),t}var m=1,g=1,v=0,y=0,b=0,w="";function T(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:m,column:g,length:s,return:""}}function E(t,e){return s(T("",null,null,"",null,null,0),t,{length:-t.length},e)}function I(){return b=y>0?l(w,--y):0,g--,10===b&&(g=1,m--),b}function S(){return b=y<v?l(w,y++):0,g++,10===b&&(g=1,m++),b}function k(){return l(w,y)}function x(){return y}function A(t,e){return h(w,t,e)}function _(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function C(t){return m=g=1,v=d(w=t),y=0,[]}function R(t){return w="",t}function P(t){return a(A(y-1,D(91===t?t+2:40===t?t+1:t)))}function O(t){for(;(b=k())&&b<33;)S();return _(t)>2||_(b)>3?"":" "}function N(t,e){for(;--e&&S()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return A(t,x()+(e<6&&32==k()&&32==S()))}function D(t){for(;S();)switch(b){case t:return y;case 34:case 39:34!==t&&39!==t&&D(b);break;case 40:41===t&&D(t);break;case 92:S()}return y}function L(t,e){for(;S()&&t+b!==57&&(t+b!==84||47!==k()););return"/*"+A(e,y-1)+"*"+o(47===t?t:S())}function M(t){for(;!_(k());)S();return A(t,y)}var j="-ms-",V="-moz-",U="-webkit-",F="comm",$="rule",B="decl",q="@keyframes";function Z(t,e){for(var n="",r=f(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function z(t,e,n,r){switch(t.type){case"@import":case B:return t.return=t.return||t.value;case F:return"";case q:return t.return=t.value+"{"+Z(t.children,r)+"}";case $:t.value=t.props.join(",")}return d(n=Z(t.children,r))?t.return=t.value+"{"+n+"}":""}function H(t,e){switch(function(t,e){return(((e<<2^l(t,0))<<2^l(t,1))<<2^l(t,2))<<2^l(t,3)}(t,e)){case 5103:return U+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return U+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return U+t+V+t+j+t+t;case 6828:case 4268:return U+t+j+t+t;case 6165:return U+t+j+"flex-"+t+t;case 5187:return U+t+c(t,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+t;case 5443:return U+t+j+"flex-item-"+c(t,/flex-|-self/,"")+t;case 4675:return U+t+j+"flex-line-pack"+c(t,/align-content|flex-|-self/,"")+t;case 5548:return U+t+j+c(t,"shrink","negative")+t;case 5292:return U+t+j+c(t,"basis","preferred-size")+t;case 6060:return U+"box-"+c(t,"-grow","")+U+t+j+c(t,"grow","positive")+t;case 4554:return U+c(t,/([^-])(transform)/g,"$1-webkit-$2")+t;case 6187:return c(c(c(t,/(zoom-|grab)/,U+"$1"),/(image-set)/,U+"$1"),t,"")+t;case 5495:case 3959:return c(t,/(image-set\([^]*)/,U+"$1$`$1");case 4968:return c(c(t,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+U+t+t;case 4095:case 3583:case 4068:case 2532:return c(t,/(.+)-inline(.+)/,U+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(d(t)-1-e>6)switch(l(t,e+1)){case 109:if(45!==l(t,e+4))break;case 102:return c(t,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+V+(108==l(t,e+3)?"$3":"$2-$3"))+t;case 115:return~u(t,"stretch")?H(c(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==l(t,e+1))break;case 6444:switch(l(t,d(t)-3-(~u(t,"!important")&&10))){case 107:return c(t,":",":"+U)+t;case 101:return c(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+U+(45===l(t,14)?"inline-":"")+"box$3$1"+U+"$2$3$1"+j+"$2box$3")+t}break;case 5936:switch(l(t,e+11)){case 114:return U+t+j+c(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return U+t+j+c(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return U+t+j+c(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return U+t+j+t+t}return t}function K(t){return R(W("",null,null,null,[""],t=C(t),0,[0],t))}function W(t,e,n,r,i,s,a,l,h){for(var f=0,m=0,g=a,v=0,y=0,b=0,w=1,T=1,E=1,A=0,_="",C=i,R=s,D=r,j=_;T;)switch(b=A,A=S()){case 40:if(108!=b&&58==j.charCodeAt(g-1)){-1!=u(j+=c(P(A),"&","&\f"),"&\f")&&(E=-1);break}case 34:case 39:case 91:j+=P(A);break;case 9:case 10:case 13:case 32:j+=O(b);break;case 92:j+=N(x()-1,7);continue;case 47:switch(k()){case 42:case 47:p(X(L(S(),x()),e,n),h);break;default:j+="/"}break;case 123*w:l[f++]=d(j)*E;case 125*w:case 59:case 0:switch(A){case 0:case 125:T=0;case 59+m:y>0&&d(j)-g&&p(y>32?Y(j+";",r,n,g-1):Y(c(j," ","")+";",r,n,g-2),h);break;case 59:j+=";";default:if(p(D=G(j,e,n,f,m,i,l,_,C=[],R=[],g),s),123===A)if(0===m)W(j,e,D,D,C,s,g,l,R);else switch(v){case 100:case 109:case 115:W(t,D,D,r&&p(G(t,D,D,0,0,i,l,_,i,C=[],g),R),i,R,g,l,r?C:R);break;default:W(j,D,D,D,[""],R,0,l,R)}}f=m=y=0,w=E=1,_=j="",g=a;break;case 58:g=1+d(j),y=b;default:if(w<1)if(123==A)--w;else if(125==A&&0==w++&&125==I())continue;switch(j+=o(A),A*w){case 38:E=m>0?1:(j+="\f",-1);break;case 44:l[f++]=(d(j)-1)*E,E=1;break;case 64:45===k()&&(j+=P(S())),v=k(),m=g=d(_=j+=M(x())),A++;break;case 45:45===b&&2==d(j)&&(w=0)}}return s}function G(t,e,n,r,o,s,u,l,d,p,m){for(var g=o-1,v=0===o?s:[""],y=f(v),b=0,w=0,E=0;b<r;++b)for(var I=0,S=h(t,g+1,g=i(w=u[b])),k=t;I<y;++I)(k=a(w>0?v[I]+" "+S:c(S,/&\f/g,v[I])))&&(d[E++]=k);return T(t,e,n,0===o?$:l,d,p,m)}function X(t,e,n){return T(t,e,n,F,o(b),h(t,2,-2),0)}function Y(t,e,n,r){return T(t,e,n,B,h(t,0,r),h(t,r+1,-1),r)}var J=function(t,e,n){for(var r=0,i=0;r=i,i=k(),38===r&&12===i&&(e[n]=1),!_(i);)S();return A(t,y)},Q=function(t,e){return R(function(t,e){var n=-1,r=44;do{switch(_(r)){case 0:38===r&&12===k()&&(e[n]=1),t[n]+=J(y-1,e,n);break;case 2:t[n]+=P(r);break;case 4:if(44===r){t[++n]=58===k()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=o(r)}}while(r=S());return t}(C(t),e))},tt=new WeakMap,et=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||tt.get(n))&&!r){tt.set(t,!0);for(var i=[],o=Q(e,i),s=n.props,a=0,c=0;a<o.length;a++)for(var u=0;u<s.length;u++,c++)t.props[c]=i[a]?o[a].replace(/&\f/g,s[u]):s[u]+" "+o[a]}}},nt=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}},rt=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case B:t.return=H(t.value,t.length);break;case q:return Z([E(t,{value:c(t.value,"@","@"+U)})],r);case $:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Z([E(t,{props:[c(e,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Z([E(t,{props:[c(e,/:(plac\w+)/,":-webkit-input-$1")]}),E(t,{props:[c(e,/:(plac\w+)/,":-moz-$1")]}),E(t,{props:[c(e,/:(plac\w+)/,j+"input-$1")]})],r)}return""}))}}],it=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var i=t.stylisPlugins||rt;var o,s,a={},c=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)a[e[n]]=!0;c.push(t)}));var u,l,h=[z,(l=function(t){u.insert(t)},function(t){t.root||(t=t.return)&&l(t)})],d=function(t){var e=f(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}([et,nt].concat(i,h));s=function(t,e,n,r){u=n,Z(K(t?t+"{"+e.styles+"}":e.styles),d),r&&(p.inserted[e.name]=!0)};var p={key:e,sheet:new r.m({key:e,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:s};return p.sheet.hydrate(c),p}},7866:function(t,e){"use strict";e.Z=function(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}},5638:function(t,e,n){"use strict";n.d(e,{T:function(){return a},w:function(){return s}});var r=n(7294),i=n(4474),o=(n(3772),(0,r.createContext)("undefined"!==typeof HTMLElement?(0,i.Z)({key:"css"}):null));o.Provider;var s=function(t){return(0,r.forwardRef)((function(e,n){var i=(0,r.useContext)(o);return t(e,i,n)}))},a=(0,r.createContext)({})},917:function(t,e,n){"use strict";n.d(e,{xB:function(){return c},iv:function(){return u},F4:function(){return l}});var r=n(7294),i=(n(4474),n(5638)),o=(n(8679),n(444)),s=n(3772),a=n(1526),c=(0,i.w)((function(t,e){var n=t.styles,c=(0,s.O)([n],void 0,(0,r.useContext)(i.T)),u=(0,r.useRef)();return(0,r.useLayoutEffect)((function(){var t=e.key+"-global",n=new a.m({key:t,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+t+" "+c.name+'"]');return e.sheet.tags.length&&(n.before=e.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",t),n.hydrate([i])),u.current=[n,r],function(){n.flush()}}),[e]),(0,r.useLayoutEffect)((function(){var t=u.current,n=t[0];if(t[1])t[1]=!1;else{if(void 0!==c.next&&(0,o.M)(e,c.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}e.insert("",c,n,!1)}}),[e,c.name]),null}));function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,s.O)(e)}var l=function(){var t=u.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},3772:function(t,e,n){"use strict";n.d(e,{O:function(){return m}});var r=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(7866),s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,c=function(t){return 45===t.charCodeAt(1)},u=function(t){return null!=t&&"boolean"!==typeof t},l=(0,o.Z)((function(t){return c(t)?t:t.replace(s,"-$&").toLowerCase()})),h=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(a,(function(t,e,n){return f={name:e,styles:n,next:f},e}))}return 1===i[t]||c(t)||"number"!==typeof e||0===e?e:e+"px"};function d(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return f={name:n.name,styles:n.styles,next:f},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)f={name:r.name,styles:r.styles,next:f},r=r.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(t,e,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=e&&void 0!==e[s]?r+=o+"{"+e[s]+"}":u(s)&&(r+=l(o)+":"+h(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=e&&void 0!==e[s[0]]){var a=d(t,e,s);switch(o){case"animation":case"animationName":r+=l(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var c=0;c<s.length;c++)u(s[c])&&(r+=l(o)+":"+h(o,s[c])+";")}return r}(t,e,n);case"function":if(void 0!==t){var i=f,o=n(t);return f=i,d(t,e,o)}break;case"string":}if(null==e)return n;var s=e[n];return void 0!==s?s:n}var f,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var m=function(t,e,n){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var i=!0,o="";f=void 0;var s=t[0];null==s||void 0===s.raw?(i=!1,o+=d(n,e,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=d(n,e,t[a]),i&&(o+=s[a]);p.lastIndex=0;for(var c,u="";null!==(c=p.exec(o));)u+="-"+c[1];return{name:r(o)+u,styles:o,next:f}}},1526:function(t,e,n){"use strict";n.d(e,{m:function(){return r}});var r=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(r){0}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}()},444:function(t,e,n){"use strict";n.d(e,{f:function(){return r},M:function(){return i}});function r(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):r+=n+" "})),r}var i=function(t,e,n){var r=t.key+"-"+e.name;if(!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles),void 0===t.inserted[e.name]){var i=e;do{t.insert(e===i?"."+r:"",i,t.sheet,!0);i=i.next}while(void 0!==i)}}},7965:function(t,e,n){"use strict";n.d(e,{w9:function(){return bt},Xb:function(){return Mt},h8:function(){return Bt},v0:function(){return en},Aj:function(){return Ft},aF:function(){return Lt},e5:function(){return jt},w7:function(){return $t},gQ:function(){return Vt}});var r=n(4444),i=n(2238),o=n(655),s=n(3333),a=n(8463);function c(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u=c,l=new r.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),h=new s.Yd("@firebase/auth");function d(t,...e){h.logLevel<=s.in.ERROR&&h.error(`Auth (${i.Jn}): ${t}`,...e)}function f(t,...e){throw g(t,...e)}function p(t,...e){return g(t,...e)}function m(t,e,n){const i=Object.assign(Object.assign({},u()),{[e]:n});return new r.LL("auth","Firebase",i).create(e,{appName:t.name})}function g(t,...e){if("string"!==typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l.create(t,...e)}function v(t,e,...n){if(!t)throw g(e,...n)}function y(t){const e="INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function b(t,e){t||y(e)}const w=new Map;function T(t){b(t instanceof Function,"Expected a class definition");let e=w.get(t);return e?(b(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,w.set(t,e),e)}function E(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function I(){return"http:"===S()||"https:"===S()}function S(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class k{constructor(t,e){this.shortDelay=t,this.longDelay=e,b(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,r.uI)()||(0,r.b$)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(I()||(0,r.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function x(t,e){b(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class A{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},C=new k(3e4,6e4);function R(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function P(t,e,n,i,o={}){return O(t,o,(async()=>{let o={},s={};i&&("GET"===e?s=i:o={body:JSON.stringify(i)});const a=(0,r.xO)(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),A.fetch()(D(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))}async function O(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},_),e);try{const e=new L(t),r=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw M(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const e=r.ok?o.errorMessage:o.error.message,[n,s]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw M(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw M(t,"email-already-in-use",o);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw m(t,a,s);f(t,a)}}catch(o){if(o instanceof r.ZR)throw o;f(t,"network-request-failed")}}async function N(t,e,n,r,i={}){const o=await P(t,e,n,r,i);return"mfaPendingCredential"in o&&f(t,"multi-factor-auth-required",{_serverResponse:o}),o}function D(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?x(t.config,i):`${t.config.apiScheme}://${i}`}class L{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(p(this.auth,"network-request-failed"))),C.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function M(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=p(t,e,r);return i.customData._tokenResponse=n,i}function j(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function V(t){return 1e3*Number(t)}function U(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return d("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,r.tV)(n);return t?JSON.parse(t):(d("Failed to decode base64 JWT payload"),null)}catch(o){return d("Caught error parsing JWT payload as JSON",o),null}}async function F(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof r.ZR&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}class ${constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&this.schedule(!0))}this.schedule()}}class B{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=j(this.lastLoginAt),this.creationTime=j(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function q(t){var e;const n=t.auth,r=await t.getIdToken(),i=await F(t,async function(t,e){return P(t,"POST","/v1/accounts:lookup",e)}(n,{idToken:r}));v(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?s.providerUserInfo.map((t=>{var{providerId:e}=t,n=(0,o._T)(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const c=(u=t.providerData,l=a,[...u.filter((t=>!l.some((e=>e.providerId===t.providerId)))),...l]);var u,l;const h=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(null===c||void 0===c?void 0:c.length),f=!!h&&d,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new B(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){v(t.idToken,"internal-error"),v("undefined"!==typeof t.idToken,"internal-error"),v("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):function(t){const e=U(t);return v(e,"internal-error"),v("undefined"!==typeof e.exp,"internal-error"),v("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return v(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:o}=await async function(t,e){const n=await O(t,{},(async()=>{const n=(0,r.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=D(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",A.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,o=new Z;return n&&(v("string"===typeof n,"internal-error",{appName:t}),o.refreshToken=n),r&&(v("string"===typeof r,"internal-error",{appName:t}),o.accessToken=r),i&&(v("number"===typeof i,"internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return y("not implemented")}}function z(t,e){v("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class H{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=(0,o._T)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new $(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new B(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await F(this,this.stsTokenManager.getToken(this.auth,t));return v(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const n=(0,r.m9)(t),i=await n.getIdToken(e),o=U(i);v(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:o,token:i,authTime:j(V(o.auth_time)),issuedAtTime:j(V(o.iat)),expirationTime:j(V(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=(0,r.m9)(t);await q(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(v(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new H(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await q(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await F(this,async function(t,e){return P(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,o,s,a,c,u;const l=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=e.photoURL)&&void 0!==o?o:void 0,p=null!==(s=e.tenantId)&&void 0!==s?s:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=e.createdAt)&&void 0!==c?c:void 0,y=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:w,isAnonymous:T,providerData:E,stsTokenManager:I}=e;v(b&&I,t,"internal-error");const S=Z.fromJSON(this.name,I);v("string"===typeof b,t,"internal-error"),z(l,t.name),z(h,t.name),v("boolean"===typeof w,t,"internal-error"),v("boolean"===typeof T,t,"internal-error"),z(d,t.name),z(f,t.name),z(p,t.name),z(m,t.name),z(g,t.name),z(y,t.name);const k=new H({uid:b,auth:t,email:h,emailVerified:w,displayName:l,isAnonymous:T,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(k.providerData=E.map((t=>Object.assign({},t)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(t,e,n=!1){const r=new Z;r.updateFromServerResponse(e);const i=new H({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await q(i),i}}class K{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}K.type="NONE";const W=K;function G(t,e,n){return`firebase:${t}:${e}:${n}`}class X{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=G(this.userKey,r.apiKey,i),this.fullPersistenceKey=G("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?H._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new X(T(W),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||T(W);const o=G(n,t.config.apiKey,t.name);let s=null;for(const u of e)try{const e=await u._get(o);if(e){const n=H._fromJSON(t,e);u!==i&&(s=n),i=u;break}}catch(c){}const a=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(o)}catch(c){}}))),new X(i,t,n)):new X(i,t,n)}}function Y(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(et(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rt(e))return"Blackberry";if(it(e))return"Webos";if(Q(e))return"Safari";if((e.includes("chrome/")||tt(e))&&!e.includes("edge/"))return"Chrome";if(nt(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function J(t=(0,r.z$)()){return/firefox\//i.test(t)}function Q(t=(0,r.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tt(t=(0,r.z$)()){return/crios\//i.test(t)}function et(t=(0,r.z$)()){return/iemobile/i.test(t)}function nt(t=(0,r.z$)()){return/android/i.test(t)}function rt(t=(0,r.z$)()){return/blackberry/i.test(t)}function it(t=(0,r.z$)()){return/webos/i.test(t)}function ot(t=(0,r.z$)()){return/iphone|ipad|ipod/i.test(t)}function st(t=(0,r.z$)()){return ot(t)||nt(t)||it(t)||rt(t)||/windows phone/i.test(t)||et(t)}function at(t,e=[]){let n;switch(t){case"Browser":n=Y((0,r.z$)());break;case"Worker":n=`${Y((0,r.z$)())}-${t}`;break;default:n=t}const o=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.Jn}/${o}`}class ct{constructor(t,e){this.app=t,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lt(this),this.idTokenSubscription=new lt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=T(e)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await X.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(t)):void 0}async initializeCurrentUser(t){var e;let n=await this.assertedPersistence.getCurrentUser();if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,i=null===n||void 0===n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(t);r&&r!==i||!(null===o||void 0===o?void 0:o.user)||(n=o.user)}return n?n._redirectEventId?(v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await q(t)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?(0,r.m9)(t):null;return e&&v(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){if(!this._deleted)return t&&v(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(T(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new r.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&T(t)||this._popupRedirectResolver;v(e,this,"argument-error"),this.redirectPersistenceManager=await X.create(this,[T(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"===typeof e?e:e.next.bind(e),o=this._isInitialized?Promise.resolve():this._initializationPromise;return v(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"===typeof e?t.addObserver(e,n,r):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=at(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),t}}function ut(t){return(0,r.m9)(t)}class lt{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,r.ne)((t=>this.observer=t))}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class ht{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return y("not implemented")}_getIdTokenResponse(t){return y("not implemented")}_linkToIdToken(t,e){return y("not implemented")}_getReauthenticationResolver(t){return y("not implemented")}}async function dt(t,e){return P(t,"POST","/v1/accounts:update",e)}class ft extends ht{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new ft(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new ft(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return async function(t,e){return N(t,"POST","/v1/accounts:signInWithPassword",R(t,e))}(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return N(t,"POST","/v1/accounts:signInWithEmailLink",R(t,e))}(t,{email:this._email,oobCode:this._password});default:f(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return dt(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return N(t,"POST","/v1/accounts:signInWithEmailLink",R(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:f(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function pt(t,e){return N(t,"POST","/v1/accounts:signInWithIdp",R(t,e))}class mt extends ht{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new mt(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):f("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=(0,o._T)(e,["providerId","signInMethod"]);if(!n||!r)return null;const s=new mt(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){return pt(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,pt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,pt(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=(0,r.xO)(e)}return t}}const gt={USER_NOT_FOUND:"user-not-found"};class vt extends ht{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new vt({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new vt({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return N(t,"POST","/v1/accounts:signInWithPhoneNumber",R(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await N(t,"POST","/v1/accounts:signInWithPhoneNumber",R(t,e));if(n.temporaryProof)throw M(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return N(t,"POST","/v1/accounts:signInWithPhoneNumber",R(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),gt)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new vt({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class yt{constructor(t){var e,n,i,o,s,a;const c=(0,r.zd)((0,r.pd)(t)),u=null!==(e=c.apiKey)&&void 0!==e?e:null,l=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);v(u&&l&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=l,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=(0,r.zd)((0,r.pd)(t)).link,n=e?(0,r.zd)((0,r.pd)(e)).deep_link_id:null,i=(0,r.zd)((0,r.pd)(t)).deep_link_id;return(i?(0,r.zd)((0,r.pd)(i)).link:null)||i||n||e||t}(t);try{return new yt(e)}catch(n){return null}}}class bt{constructor(){this.providerId=bt.PROVIDER_ID}static credential(t,e){return ft._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=yt.parseLink(e);return v(n,"argument-error"),ft._fromEmailAndCode(t,n.code,n.tenantId)}}bt.PROVIDER_ID="password",bt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",bt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wt{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Tt extends wt{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Et extends Tt{constructor(){super("facebook.com")}static credential(t){return mt._fromParams({providerId:Et.PROVIDER_ID,signInMethod:Et.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Et.credentialFromTaggedObject(t)}static credentialFromError(t){return Et.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Et.credential(t.oauthAccessToken)}catch(e){return null}}}Et.FACEBOOK_SIGN_IN_METHOD="facebook.com",Et.PROVIDER_ID="facebook.com";class It extends Tt{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return mt._fromParams({providerId:It.PROVIDER_ID,signInMethod:It.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return It.credentialFromTaggedObject(t)}static credentialFromError(t){return It.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return It.credential(e,n)}catch(r){return null}}}It.GOOGLE_SIGN_IN_METHOD="google.com",It.PROVIDER_ID="google.com";class St extends Tt{constructor(){super("github.com")}static credential(t){return mt._fromParams({providerId:St.PROVIDER_ID,signInMethod:St.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return St.credentialFromTaggedObject(t)}static credentialFromError(t){return St.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return St.credential(t.oauthAccessToken)}catch(e){return null}}}St.GITHUB_SIGN_IN_METHOD="github.com",St.PROVIDER_ID="github.com";class kt extends Tt{constructor(){super("twitter.com")}static credential(t,e){return mt._fromParams({providerId:kt.PROVIDER_ID,signInMethod:kt.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return kt.credentialFromTaggedObject(t)}static credentialFromError(t){return kt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return kt.credential(e,n)}catch(r){return null}}}async function xt(t,e){return N(t,"POST","/v1/accounts:signUp",R(t,e))}kt.TWITTER_SIGN_IN_METHOD="twitter.com",kt.PROVIDER_ID="twitter.com";class At{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,r=!1){const i=await H._fromIdTokenResponse(t,n,r),o=_t(n);return new At({user:i,providerId:o,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=_t(n);return new At({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function _t(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ct extends r.ZR{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ct.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new Ct(t,e,n,r)}}function Rt(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Ct._fromErrorAndOperation(t,n,e,r);throw n}))}async function Pt(t,e,n=!1){const r=await F(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return At._forOperation(t,"link",r)}async function Ot(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await F(t,Rt(r,i,e,t),n);v(o.idToken,r,"internal-error");const s=U(o.idToken);v(s,r,"internal-error");const{sub:a}=s;return v(t.uid===a,r,"user-mismatch"),At._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&f(r,"user-mismatch"),o}}async function Nt(t,e,n=!1){const r="signIn",i=await Rt(t,r,e),o=await At._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Dt(t,e){return Nt(ut(t),e)}async function Lt(t,e){return Ot((0,r.m9)(t),e)}async function Mt(t,e,n){const r=ut(t),i=await xt(r,{returnSecureToken:!0,email:e,password:n}),o=await At._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function jt(t,e,n){return Dt((0,r.m9)(t),bt.credential(e,n))}function Vt(t,e){return Ut((0,r.m9)(t),null,e)}async function Ut(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const o=await F(t,dt(r,i));await t._updateTokensIfNecessary(o,!0)}function Ft(t,e,n,i){return(0,r.m9)(t).onAuthStateChanged(e,n,i)}function $t(t){return(0,r.m9)(t).signOut()}async function Bt(t){return(0,r.m9)(t).delete()}new WeakMap;const qt="__sak";class Zt{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(qt,"1"),this.storage.removeItem(qt),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class zt extends Zt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=(0,r.z$)();return Q(t)||ot(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=st(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},o=this.storage.getItem(n);(0,r.w1)()&&10===document.documentMode&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,10):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}zt.type="LOCAL";const Ht=zt;class Kt extends Zt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Kt.type="SESSION";const Wt=Kt;class Gt{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new Gt(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async t=>t(e.origin,i))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Xt(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}Gt.receivers=[];class Yt{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=Xt("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(e.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Jt(){return window}function Qt(){return"undefined"!==typeof Jt().WorkerGlobalScope&&"function"===typeof Jt().importScripts}const te="firebaseLocalStorageDb",ee="firebaseLocalStorage",ne="fbase_key";class re{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function ie(t,e){return t.transaction([ee],e?"readwrite":"readonly").objectStore(ee)}function oe(){const t=indexedDB.open(te,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(ee,{keyPath:ne})}catch(r){n(r)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(ee)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(te);return new re(t).toPromise()}(),e(await oe()))}))}))}async function se(t,e,n){const r=ie(t,!0).put({[ne]:e,value:n});return new re(r).toPromise()}function ae(t,e){const n=ie(t,!0).delete(e);return new re(n).toPromise()}class ce{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await oe()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gt._getInstance(Qt()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Yt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await oe();return await se(t,qt,"1"),await ae(t,qt),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>se(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=ie(t,!1).get(e),r=await new re(n).toPromise();return void 0===r?null:r.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>ae(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=ie(t,!1).getAll();return new re(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ce.type="LOCAL";const ue=ce;function le(t){return new Promise(((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=p("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}))}function he(t){return`__${t}${Math.floor(1e6*Math.random())}`}he("rcb"),new k(3e4,6e4);const de="recaptcha";async function fe(t,e,n){var r;const i=await n.verify();try{let o;if(v("string"===typeof i,t,"argument-error"),v(n.type===de,t,"argument-error"),o="string"===typeof e?{phoneNumber:e}:e,"session"in o){const e=o.session;if("phoneNumber"in o){v("enroll"===e.type,t,"internal-error");return(await function(t,e){return P(t,"POST","/v2/accounts/mfaEnrollment:start",R(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo}{v("signin"===e.type,t,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;v(n,t,"missing-multi-factor-info");return(await function(t,e){return P(t,"POST","/v2/accounts/mfaSignIn:start",R(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return P(t,"POST","/v1/accounts:sendVerificationCode",R(t,e))}(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}}class pe{constructor(t){this.providerId=pe.PROVIDER_ID,this.auth=ut(t)}verifyPhoneNumber(t,e){return fe(this.auth,t,(0,r.m9)(e))}static credential(t,e){return vt._fromVerification(t,e)}static credentialFromResult(t){const e=t;return pe.credentialFromTaggedObject(e)}static credentialFromError(t){return pe.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?vt._fromTokenResponse(e,n):null}}function me(t,e){return e?T(e):(v(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}pe.PROVIDER_ID="phone",pe.PHONE_SIGN_IN_METHOD="phone";class ge extends ht{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return pt(t,this._buildIdpRequest())}_linkToIdToken(t,e){return pt(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return pt(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function ve(t){return Nt(t.auth,new ge(t),t.bypassAuthState)}function ye(t){const{auth:e,user:n}=t;return v(n,e,"internal-error"),Ot(n,new ge(t),t.bypassAuthState)}async function be(t){const{auth:e,user:n}=t;return v(n,e,"internal-error"),Pt(n,new ge(t),t.bypassAuthState)}class we{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=t;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ve;case"linkViaPopup":case"linkViaRedirect":return be;case"reauthViaPopup":case"reauthViaRedirect":return ye;default:f(this.auth,"internal-error")}}resolve(t){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Te=new k(2e3,1e4);class Ee extends we{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ee.currentPopupAction&&Ee.currentPopupAction.cancel(),Ee.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return v(t,this.auth,"internal-error"),t}async onExecution(){b(1===this.filter.length,"Popup operations only handle one event");const t=Xt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(p(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ee.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(t,Te.get())};t()}}Ee.currentPopupAction=null;const Ie=new Map;class Se extends we{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=Ie.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=xe(e),r=ke(t);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}Ie.set(this.auth._key(),t)}return this.bypassAuthState||Ie.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ke(t){return T(t._redirectPersistence)}function xe(t){return G("pendingRedirect",t.config.apiKey,t.name)}async function Ae(t,e,n=!1){const r=ut(t),i=me(r,e),o=new Se(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}class _e{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Re(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Re(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(p(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ce(t))}saveEventToCache(t){this.cachedEventUids.add(Ce(t)),this.lastProcessedEventTime=Date.now()}}function Ce(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function Re({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null===e||void 0===e?void 0:e.code)}const Pe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oe=/^https?/;async function Ne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return P(t,"GET","/v1/projects",e)}(t);for(const r of e)try{if(De(r))return}catch(n){}f(t,"unauthorized-domain")}function De(t){const e=E(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Oe.test(n))return!1;if(Pe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Le=new k(3e4,6e4);function Me(){const t=Jt().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let je=null;function Ve(t){return je=je||function(t){return new Promise(((e,n)=>{var r,i,o;function s(){Me(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Me(),n(p(t,"network-request-failed"))},timeout:Le.get()})}if(null===(i=null===(r=Jt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(o=Jt().gapi)||void 0===o?void 0:o.load)){const e=he("iframefcb");return Jt()[e]=()=>{gapi.load?s():n(p(t,"network-request-failed"))},le(`https://apis.google.com/js/api.js?onload=${e}`).catch((t=>n(t)))}s()}})).catch((t=>{throw je=null,t}))}(t),je}const Ue=new k(5e3,15e3),Fe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Be(t){const e=t.config;v(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?x(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,o={apiKey:e.apiKey,appName:t.name,v:i.Jn},s=$e.get(t.config.apiHost);s&&(o.eid=s);const a=t._getFrameworks();return a.length&&(o.fw=a.join(",")),`${n}?${(0,r.xO)(o).slice(1)}`}const qe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ze{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function ze(t,e,n,i=500,o=600){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},qe),{width:i.toString(),height:o.toString(),top:s,left:a}),l=(0,r.z$)().toLowerCase();n&&(c=tt(l)?"_blank":n),J(l)&&(e=e||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(function(t=(0,r.z$)()){var e;return ot(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==c)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",c),new Ze(null);const d=window.open(e||"",c,h);v(d,t,"popup-blocked");try{d.focus()}catch(f){}return new Ze(d)}const He="__/auth/handler",Ke="emulator/auth/handler";function We(t,e,n,o,s,a){v(t.config.authDomain,t,"auth-domain-config-required"),v(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:o,v:i.Jn,eventId:s};if(e instanceof wt){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",(0,r.xb)(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))c[t]=e}if(e instanceof Tt){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(c.scopes=t.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const r of Object.keys(u))void 0===u[r]&&delete u[r];return`${function({config:t}){if(!t.emulator)return`https://${t.authDomain}/${He}`;return x(t,Ke)}(t)}?${(0,r.xO)(u).slice(1)}`}const Ge="webStorageSupport";const Xe=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wt,this._completeRedirectFn=Ae}async _openPopup(t,e,n,r){var i;b(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ze(t,We(t,e,n,E(),r),Xt())}async _openRedirect(t,e,n,r){var i;return await this._originValidation(t),i=We(t,e,n,E(),r),Jt().location.href=i,new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await async function(t){const e=await Ve(t),n=Jt().gapi;return v(n,t,"internal-error"),e.open({where:document.body,url:Be(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fe,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=p(t,"network-request-failed"),o=Jt().setTimeout((()=>{r(i)}),Ue.get());function s(){Jt().clearTimeout(o),n(e)}e.ping(s).then(s,(()=>{r(i)}))}))))}(t),n=new _e(t);return e.register("authEvent",(e=>{v(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ge,{type:Ge},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&e(!!i),f(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Ne(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return st()||Q()||ot()}};var Ye,Je="@firebase/auth",Qe="0.19.7";class tn{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{var n;t((null===(n=e)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function en(t=(0,i.Mq)()){const e=(0,i.qX)(t,"auth");return e.isInitialized()?e.getImmediate():function(t,e){const n=(0,i.qX)(t,"auth");if(n.isInitialized()){const t=n.getImmediate(),i=n.getOptions();if((0,r.vZ)(i,null!==e&&void 0!==e?e:{}))return t;f(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Xe,persistence:[ue,Ht,Wt]})}Ye="Browser",(0,i.Xd)(new a.wA("auth",((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(t=>{v(r&&!r.includes(":"),"invalid-api-key",{appName:t.name}),v(!(null===i||void 0===i?void 0:i.includes(":")),"argument-error",{appName:t.name});const n={apiKey:r,authDomain:i,clientPlatform:Ye,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:at(Ye)},o=new ct(t,n);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(T);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null===e||void 0===e?void 0:e.popupRedirectResolver)}(o,e),o})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),(0,i.Xd)(new a.wA("auth-internal",(t=>(t=>new tn(t))(ut(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.KN)(Je,Qe,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ye)),(0,i.KN)(Je,Qe,"esm2017")},1294:function(t,e,n){"use strict";n.d(e,{hJ:function(){return Qu},JU:function(){return tl},Lx:function(){return Xl},QT:function(){return nh},PL:function(){return ih},ad:function(){return rl},b9:function(){return zl},vh:function(){return Hl},Xo:function(){return ql},IO:function(){return Ul},TQ:function(){return Wl},r7:function(){return oh},ar:function(){return $l}});var r,i=n(2238),o=n(8463),s=n(3333),a=n(4444),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},u={},l=l||{},h=c||self;function d(){}function f(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function T(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function E(){this.s=this.s,this.o=this.o}var I={};E.prototype.s=!1,E.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++g)}(this);delete I[t]}},E.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},k=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"===typeof t?t.split(""):t;for(let o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function x(t){return Array.prototype.concat.apply([],arguments)}function A(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function _(t){return/^[\s\xa0]*$/.test(t)}var C,R=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function P(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var N=h.navigator;if(N){var D=N.userAgent;if(D){C=D;break t}}C=""}function L(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function M(t){const e={};for(const n in t)e[n]=t[n];return e}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<j.length;e++)n=j[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function U(t){return U[" "](t),t}U[" "]=d;var F,$=P(C,"Opera"),B=P(C,"Trident")||P(C,"MSIE"),q=P(C,"Edge"),Z=q||B,z=P(C,"Gecko")&&!(P(C.toLowerCase(),"webkit")&&!P(C,"Edge"))&&!(P(C,"Trident")||P(C,"MSIE"))&&!P(C,"Edge"),H=P(C.toLowerCase(),"webkit")&&!P(C,"Edge");function K(){var t=h.document;return t?t.documentMode:void 0}t:{var W="",G=function(){var t=C;return z?/rv:([^\);]+)(\)|;)/.exec(t):q?/Edge\/([\d\.]+)/.exec(t):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):H?/WebKit\/(\S+)/.exec(t):$?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(G&&(W=G?G[1]:""),B){var X=K();if(null!=X&&X>parseFloat(W)){F=String(X);break t}}F=W}var Y,J={};function Q(){return function(t){var e=J;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){let t=0;const e=R(String(F)).split("."),n=R("9").split("."),r=Math.max(e.length,n.length);for(let s=0;0==t&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;t=O(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||O(0==i[2].length,0==o[2].length)||O(i[2],o[2]),i=i[3],o=o[3]}while(0==t)}return 0<=t}))}if(h.document&&B){var tt=K();Y=tt||(parseInt(F,10)||void 0)}else Y=void 0;var et=Y,nt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{h.addEventListener("test",d,e),h.removeEventListener("test",d,e)}catch(n){}return t}();function rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function it(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(z){t:{try{U(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ot[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&it.Z.h.call(this)}}rt.prototype.h=function(){this.defaultPrevented=!0},T(it,rt);var ot={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),at=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++at,this.ca=this.fa=!1}function ut(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function lt(t){this.src=t,this.g={},this.h=0}function ht(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=S(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}lt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=dt(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new ct(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),pt={};function mt(t,e,n,r,i){if(r&&r.once)return vt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)mt(t,e[o],n,r,i);return null}return n=St(n),t&&t[st]?t.N(e,n,p(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=Et(t);if(a||(t[ft]=a=new lt(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}var e=Tt;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=St(n),t&&t[st]?t.O(e,n,p(r)?!!r.capture:!!r,i):gt(t,e,n,!0,r,i)}function yt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=St(n),t&&t[st]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=dt(o=t.g[e],n,r,i))&&(ut(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=Et(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dt(e,n,r,i)),(n=-1<t?e[t]:null)&&bt(n))}function bt(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[st])ht(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Et(e))?(ht(n,t),0==n.h&&(n.src=null,e[ft]=null)):ut(t)}}}function wt(t){return t in pt?pt[t]:pt[t]="on"+t}function Tt(t,e){if(t.ca)t=!0;else{e=new it(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&bt(t),t=n.call(r,e)}return t}function Et(t){return(t=t[ft])instanceof lt?t:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"===typeof t?t:(t[It]||(t[It]=function(e){return t.handleEvent(e)}),t[It])}function kt(){E.call(this),this.i=new lt(this),this.P=this,this.I=null}function xt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"===typeof e)e=new rt(e,t);else if(e instanceof rt)e.target=e.target||t;else{var i=e;V(e=new rt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=At(s,r,!0,e)&&i}if(i=At(s=e.g=t,r,!0,e)&&i,i=At(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=At(s=e.g=n[o],r,!1,e)&&i}function At(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,c=s.ia||s.src;s.fa&&ht(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}T(kt,E),kt.prototype[st]=!0,kt.prototype.removeEventListener=function(t,e,n,r){yt(this,t,e,n,r)},kt.prototype.M=function(){if(kt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ut(n[r]);delete e.g[t],e.h--}}this.I=null},kt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var _t=h.JSON.stringify;function Ct(){var t=Mt;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Rt,Pt=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Ot),(t=>t.reset()));class Ot{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Nt(t){h.setTimeout((()=>{throw t}),0)}function Dt(t,e){Rt||function(){var t=h.Promise.resolve(void 0);Rt=function(){t.then(jt)}}(),Lt||(Rt(),Lt=!0),Mt.add(t,e)}var Lt=!1,Mt=new class{constructor(){this.h=this.g=null}add(t,e){const n=Pt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function jt(){for(var t;t=Ct();){try{t.h.call(t.g)}catch(n){Nt(n)}var e=Pt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Lt=!1}function Vt(t,e){kt.call(this),this.h=t||1,this.g=e||h,this.j=b(this.kb,this),this.l=Date.now()}function Ut(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Ft(t,e,n){if("function"===typeof t)n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:h.setTimeout(t,e||0)}function $t(t){t.g=Ft((()=>{t.g=null,t.i&&(t.i=!1,$t(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}T(Vt,kt),(r=Vt.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xt(this,"tick"),this.da&&(Ut(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Vt.Z.M.call(this),Ut(this),delete this.g};class Bt extends E{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:$t(this)}M(){super.M(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qt(t){E.call(this),this.h=t,this.g={}}T(qt,E);var Zt=[];function zt(t,e,n,r){Array.isArray(n)||(n&&(Zt[0]=n.toString()),n=Zt);for(var i=0;i<n.length;i++){var o=mt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Ht(t){L(t.g,(function(t,e){this.g.hasOwnProperty(e)&&bt(t)}),t),t.g={}}function Kt(){this.g=!0}function Wt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return _t(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}qt.prototype.M=function(){qt.Z.M.call(this),Ht(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kt.prototype.Aa=function(){this.g=!1},Kt.prototype.info=function(){};var Gt={},Xt=null;function Yt(){return Xt=Xt||new kt}function Jt(t){rt.call(this,Gt.Ma,t)}function Qt(t){const e=Yt();xt(e,new Jt(e,t))}function te(t,e){rt.call(this,Gt.STAT_EVENT,t),this.stat=e}function ee(t){const e=Yt();xt(e,new te(e,t))}function ne(t,e){rt.call(this,Gt.Na,t),this.size=e}function re(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){t()}),e)}Gt.Ma="serverreachability",T(Jt,rt),Gt.STAT_EVENT="statevent",T(te,rt),Gt.Na="timingevent",T(ne,rt);var ie={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oe={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function se(){}function ae(t){return t.h||(t.h=t.i())}function ce(){}se.prototype.h=null;var ue,le={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function he(){rt.call(this,"d")}function de(){rt.call(this,"c")}function fe(){}function pe(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new qt(this),this.P=ge,t=Z?125:void 0,this.W=new Vt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}T(he,rt),T(de,rt),T(fe,se),fe.prototype.g=function(){return new XMLHttpRequest},fe.prototype.i=function(){return{}},ue=new fe;var ge=45e3,ve={},ye={};function be(t,e,n){t.K=1,t.v=Be(Me(e)),t.s=n,t.U=!0,we(t,null)}function we(t,e){t.F=Date.now(),Se(t),t.A=Me(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),en(n.h,"t",r),t.C=0,n=t.l.H,t.h=new me,t.g=rr(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Bt(b(t.Ia,t,t.g),t.O)),zt(t.V,t.g,"readystatechange",t.gb),e=t.H?M(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Qt(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Te(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function Ee(t,e,n){let r,i=!0;for(;!t.I&&t.C<n.length;){if(r=Ie(t,n),r==ye){4==e&&(t.o=4,ee(14),i=!1),Wt(t.j,t.m,null,"[Incomplete Response]");break}if(r==ve){t.o=4,ee(15),Wt(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Wt(t.j,t.m,r,null),Ce(t,r)}Te(t)&&r!=ye&&r!=ve&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ee(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gn(e),e.L=!0,ee(11))):(Wt(t.j,t.m,n,"[Invalid Chunked Response]"),_e(t),Ae(t))}function Ie(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ye:(n=Number(e.substring(n,r)),isNaN(n)?ve:(r+=1)+n>e.length?ye:(e=e.substr(r,n),t.C=r+n,e))}function Se(t){t.Y=Date.now()+t.P,ke(t,t.P)}function ke(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=re(b(t.eb,t),e)}function xe(t){t.B&&(h.clearTimeout(t.B),t.B=null)}function Ae(t){0==t.l.G||t.I||Jn(t.l,t)}function _e(t){xe(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Ut(t.W),Ht(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ce(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||un(n.i,t)))if(n.I=t.N,!t.J&&un(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Yn(n),Fn(n)}Wn(n),ee(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=re(b(n.ab,n),6e3));if(1>=cn(n.i)&&n.ka){try{n.ka()}catch(u){}n.ka=void 0}}else tr(n,11)}else if((t.J||n.g==t)&&Yn(n),!_(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const e=u[3];null!=e&&(n.ma=e,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=u[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var o=r.i;!o.g&&(P(t,"spdy")||P(t,"quic")||P(t,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(ln(o,o.h),o.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.sa=t,$e(r.F,r.D,t))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var s=t;if((r=n).oa=nr(r,r.H?r.la:null,r.W),s.J){hn(r.i,s);var a=s,c=r.K;c&&a.setTimeout(c),a.B&&(xe(a),Se(a)),r.g=s}else Kn(r);0<n.l.length&&qn(n)}else"stop"!=u[0]&&"close"!=u[0]||tr(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?tr(n,7):Un(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}Qt(4)}catch(u){}}function Re(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"===typeof t)k(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(f(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Pe(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pe)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Oe(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ne(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ne(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ne(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=pe.prototype).setTimeout=function(t){this.P=t},r.gb=function(t){t=t.target;const e=this.L;e&&3==Dn(t)?e.l():this.Ia(t)},r.Ia=function(t){try{if(t==this.g)t:{const l=Dn(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||Z||this.g&&(this.h.h||this.g.ga()||Ln(this.g)))){this.I||4!=l||7==e||Qt(8==e||0>=d?3:2),xe(this);var n=this.g.ba();this.N=n;e:if(Te(this)){var r=Ln(this.g);t="";var i=r.length,o=4==Dn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){_e(this),Ae(this);var s="";break e}this.h.i=new h.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){e:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(a)){var u=a;break e}}u=null}if(!(n=u)){this.i=!1,this.o=3,ee(12),_e(this),Ae(this);break t}Wt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ce(this,n)}this.U?(Ee(this,l,s),Z&&this.i&&3==l&&(zt(this.V,this.W,"tick",this.fb),this.W.start())):(Wt(this.j,this.m,s,null),Ce(this,s)),4==l&&_e(this),this.i&&!this.I&&(4==l?Jn(this.l,this):(this.i=!1,Se(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,ee(12)):(this.o=0,ee(13)),_e(this),Ae(this)}}}catch(l){}},r.fb=function(){if(this.g){var t=Dn(this.g),e=this.g.ga();this.C<e.length&&(xe(this),Ee(this,t,e),this.i&&4!=t&&Se(this))}},r.cancel=function(){this.I=!0,_e(this)},r.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Qt(3),ee(17)),_e(this),this.o=2,Ae(this)):ke(this,this.Y-t)},(r=Pe.prototype).R=function(){Oe(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},r.T=function(){return Oe(this),this.g.concat()},r.get=function(t,e){return Ne(this.h,t)?this.h[t]:e},r.set=function(t,e){Ne(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},r.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var De=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Le(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Le){this.g=void 0!==e?e:t.g,je(this,t.j),this.s=t.s,Ve(this,t.i),Ue(this,t.m),this.l=t.l,e=t.h;var n=new Ye;n.i=e.i,e.g&&(n.g=new Pe(e.g),n.h=e.h),Fe(this,n),this.o=t.o}else t&&(n=String(t).match(De))?(this.g=!!e,je(this,n[1]||"",!0),this.s=qe(n[2]||""),Ve(this,n[3]||"",!0),Ue(this,n[4]),this.l=qe(n[5]||"",!0),Fe(this,n[6]||"",!0),this.o=qe(n[7]||"")):(this.g=!!e,this.h=new Ye(null,this.g))}function Me(t){return new Le(t)}function je(t,e,n){t.j=n?qe(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ve(t,e,n){t.i=n?qe(e,!0):e}function Ue(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Fe(t,e,n){e instanceof Ye?(t.h=e,function(t,e){e&&!t.j&&(Je(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Qe(this,e),en(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Ze(e,Ge)),t.h=new Ye(e,t.g))}function $e(t,e,n){t.h.set(e,n)}function Be(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ze(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Le.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ze(e,He,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ze(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ze(n,"/"==n.charAt(0)?We:Ke,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ze(n,Xe)),t.join("")};var He=/[#\/\?@]/g,Ke=/[#\?:]/g,We=/[#\?]/g,Ge=/[#\?@]/g,Xe=/#/g;function Ye(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Je(t){t.g||(t.g=new Pe,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qe(t,e){Je(t),e=nn(t,e),Ne(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ne((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Oe(t)))}function tn(t,e){return Je(t),e=nn(t,e),Ne(t.g.h,e)}function en(t,e,n){Qe(t,e),0<n.length&&(t.i=null,t.g.set(nn(t,e),A(n)),t.h+=n.length)}function nn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(r=Ye.prototype).add=function(t,e){Je(this),this.i=null,t=nn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},r.forEach=function(t,e){Je(this),this.g.forEach((function(n,r){k(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.T=function(){Je(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.R=function(t){Je(this);var e=[];if("string"===typeof t)tn(this,t)&&(e=x(e,this.g.get(nn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=x(e,t[n])}return e},r.set=function(t,e){return Je(this),this.i=null,tn(this,t=nn(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},r.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};function rn(t){this.l=t||sn,h.PerformanceNavigationTiming?t=0<(t=h.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(h.g&&h.g.Ea&&h.g.Ea()&&h.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var on,sn=10;function an(t){return!!t.h||!!t.g&&t.g.size>=t.j}function cn(t){return t.h?1:t.g?t.g.size:0}function un(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ln(t,e){t.g?t.g.add(e):t.h=e}function hn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function dn(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return A(t.i)}function fn(){}function pn(){this.g=new fn}function mn(t,e,n){const r=n||"";try{Re(t,(function(t,n){let i=t;p(t)&&(i=_t(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function gn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function vn(t){this.l=t.$b||null,this.j=t.ib||!1}function yn(t,e){kt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=bn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rn.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},fn.prototype.stringify=function(t){return h.JSON.stringify(t,void 0)},fn.prototype.parse=function(t){return h.JSON.parse(t,void 0)},T(vn,se),vn.prototype.g=function(){return new yn(this.l,this.j)},vn.prototype.i=(on={},function(){return on}),T(yn,kt);var bn=0;function wn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Tn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,En(t)}function En(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(r=yn.prototype).open=function(t,e){if(this.readyState!=bn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,En(this)},r.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||h).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tn(this)),this.readyState=bn},r.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Tn(this):En(this),3==this.readyState&&wn(this)}},r.Ua=function(t){this.g&&(this.response=this.responseText=t,Tn(this))},r.Ta=function(t){this.g&&(this.response=t,Tn(this))},r.ha=function(){this.g&&Tn(this)},r.setRequestHeader=function(t,e){this.v.append(t,e)},r.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var In=h.JSON.parse;function Sn(t){kt.call(this),this.headers=new Pe,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kn,this.K=this.L=!1}T(Sn,kt);var kn="",xn=/^https?$/i,An=["POST","PUT"];function _n(t){return"content-type"==t.toLowerCase()}function Cn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Rn(t),On(t)}function Rn(t){t.D||(t.D=!0,xt(t,"complete"),xt(t,"error"))}function Pn(t){if(t.h&&"undefined"!=typeof l&&(!t.C[1]||4!=Dn(t)||2!=t.ba()))if(t.v&&4==Dn(t))Ft(t.Fa,0,t);else if(xt(t,"readystatechange"),4==Dn(t)){t.h=!1;try{const c=t.ba();t:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===c){var i=String(t.H).match(De)[1]||null;if(!i&&h.self&&h.self.location){var o=h.self.location.protocol;i=o.substr(0,o.length-1)}r=!xn.test(i?i.toLowerCase():"")}n=r}if(n)xt(t,"complete"),xt(t,"success");else{t.m=6;try{var s=2<Dn(t)?t.g.statusText:""}catch(a){s=""}t.j=s+" ["+t.ba()+"]",Rn(t)}}finally{On(t)}}}function On(t,e){if(t.g){Nn(t);const r=t.g,i=t.C[0]?d:null;t.g=null,t.C=null,e||xt(t,"ready");try{r.onreadystatechange=i}catch(n){}}}function Nn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(h.clearTimeout(t.A),t.A=null)}function Dn(t){return t.g?t.g.readyState:0}function Ln(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case kn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){let e="";return L(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):$e(t,e,n))}function jn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Vn(t){this.za=0,this.l=[],this.h=new Kt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jn("baseRetryDelayMs",5e3,t),this.$a=jn("retryDelaySeedMs",1e4,t),this.Ya=jn("forwardChannelMaxRetries",2,t),this.ra=jn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new rn(t&&t.concurrentRequestLimit),this.Ca=new pn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Un(t){if($n(t),3==t.G){var e=t.V++,n=Me(t.F);$e(n,"SID",t.J),$e(n,"RID",e),$e(n,"TYPE","terminate"),zn(t,n),(e=new pe(t,t.h,e,void 0)).K=2,e.v=Be(Me(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(e.v.toString(),"")),!n&&h.Image&&((new Image).src=e.v,n=!0),n||(e.g=rr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Se(e)}er(t)}function Fn(t){t.g&&(Gn(t),t.g.cancel(),t.g=null)}function $n(t){Fn(t),t.u&&(h.clearTimeout(t.u),t.u=null),Yn(t),t.i.cancel(),t.m&&("number"===typeof t.m&&h.clearTimeout(t.m),t.m=null)}function Bn(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&qn(t)}function qn(t){an(t.i)||t.m||(t.m=!0,Dt(t.Ha,t),t.C=0)}function Zn(t,e){var n;n=e?e.m:t.V++;const r=Me(t.F);$e(r,"SID",t.J),$e(r,"RID",n),$e(r,"AID",t.U),zn(t,r),t.o&&t.s&&Mn(r,t.o,t.s),n=new pe(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Hn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),ln(t.i,n),be(n,r,e)}function zn(t,e){t.j&&Re({},(function(t,n){$e(e,n,t)}))}function Hn(t,e,n){n=Math.min(t.l.length,n);var r=t.j?b(t.j.Oa,t.j,t):null;t:{var i=t.l;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let s=0;s<n;s++){let n=i[s].h;const a=i[s].g;if(n-=e,0>n)e=Math.max(0,i[s].h-100),o=!1;else try{mn(a,t,"req"+n+"_")}catch(Dr){r&&r(a)}}if(o){r=t.join("&");break t}}}return t=t.l.splice(0,n),e.D=t,r}function Kn(t){t.g||t.u||(t.Y=1,Dt(t.Ga,t),t.A=0)}function Wn(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=re(b(t.Ga,t),Qn(t,t.A)),t.A++,!0)}function Gn(t){null!=t.B&&(h.clearTimeout(t.B),t.B=null)}function Xn(t){t.g=new pe(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Me(t.oa);$e(e,"RID","rpc"),$e(e,"SID",t.J),$e(e,"CI",t.N?"0":"1"),$e(e,"AID",t.U),zn(t,e),$e(e,"TYPE","xmlhttp"),t.o&&t.s&&Mn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Be(Me(e)),n.s=null,n.U=!0,we(n,t)}function Yn(t){null!=t.v&&(h.clearTimeout(t.v),t.v=null)}function Jn(t,e){var n=null;if(t.g==e){Yn(t),Gn(t),t.g=null;var r=2}else{if(!un(t.i,e))return;n=e.D,hn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;xt(r=Yt(),new ne(r,n,e,i)),qn(t)}else Kn(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(cn(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=re(b(t.Ha,t,e),Qn(t,t.C)),t.C++,!0))}(t,e)||2==r&&Wn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:tr(t,5);break;case 4:tr(t,10);break;case 3:tr(t,6);break;default:tr(t,2)}}function Qn(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function tr(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=b(t.jb,t);n||(n=new Le("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||je(n,"https"),Be(n)),function(t,e){const n=new Kt;if(h.Image){const r=new Image;r.onload=w(gn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=w(gn,n,r,"TestLoadImage: error",!1,e),r.onabort=w(gn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=w(gn,n,r,"TestLoadImage: timeout",!1,e),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ee(2);t.G=0,t.j&&t.j.va(e),er(t),$n(t)}function er(t){t.G=0,t.I=-1,t.j&&(0==dn(t.i).length&&0==t.l.length||(t.i.i.length=0,A(t.l),t.l.length=0),t.j.ua())}function nr(t,e,n){let r=function(t){return t instanceof Le?Me(t):new Le(t,void 0)}(n);if(""!=r.i)e&&Ve(r,e+"."+r.i),Ue(r,r.m);else{const t=h.location;r=function(t,e,n,r){var i=new Le(null,void 0);return t&&je(i,t),e&&Ve(i,e),n&&Ue(i,n),r&&(i.l=r),i}(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,n)}return t.aa&&L(t.aa,(function(t,e){$e(r,e,t)})),e=t.D,n=t.sa,e&&n&&$e(r,e,n),$e(r,"VER",t.ma),zn(t,r),r}function rr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new Sn(new vn({ib:!0})):new Sn(t.qa)).L=t.H,e}function ir(){}function or(){if(B&&!(10<=Number(et)))throw Error("Environmental error: no available transport.")}function sr(t,e){kt.call(this),this.g=new Vn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!_(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new ur(this)}function ar(t){he.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function cr(){de.call(this),this.status=1}function ur(t){this.g=t}(r=Sn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ue.g(),this.C=this.u?ae(this.u):ae(ue),this.g.onreadystatechange=b(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Cn(this,o)}t=n||"";const i=new Pe(this.headers);r&&Re(r,(function(t,e){i.set(e,t)})),r=function(t){t:{var e=_n;const n=t.length,r="string"===typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.T()),n=h.FormData&&t instanceof h.FormData,!(0<=S(An,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Nn(this),0<this.B&&((this.K=function(t){return B&&Q()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=b(this.pa,this)):this.A=Ft(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Cn(this,o)}},r.pa=function(){"undefined"!=typeof l&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xt(this,"timeout"),this.abort(8))},r.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xt(this,"complete"),xt(this,"abort"),On(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),On(this,!0)),Sn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?Pn(this):this.cb())},r.cb=function(){Pn(this)},r.ba=function(){try{return 2<Dn(this)?this.g.status:-1}catch(on){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(on){return""}},r.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),In(e)}},r.Da=function(){return this.m},r.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Vn.prototype).ma=8,r.G=1,r.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},r.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new pe(this,this.h,t,void 0);let o=this.s;if(this.P&&(o?(o=M(o),V(o,this.P)):o=this.P),null===this.o&&(i.H=o),this.ja)t:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"===typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.l.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Hn(this,i,e),$e(n=Me(this.F),"RID",t),$e(n,"CVER",22),this.D&&$e(n,"X-HTTP-Session-Id",this.D),zn(this,n),this.o&&o&&Mn(n,this.o,o),ln(this.i,i),this.Ra&&$e(n,"TYPE","init"),this.ja?($e(n,"$req",e),$e(n,"SID","null"),i.$=!0,be(i,n,null)):be(i,n,e),this.G=2}}else 3==this.G&&(t?Zn(this,t):0==this.l.length||an(this.i)||Zn(this))},r.Ga=function(){if(this.u=null,Xn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=re(b(this.bb,this),t)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ee(10),Fn(this),Xn(this))},r.ab=function(){null!=this.v&&(this.v=null,Fn(this),Wn(this),ee(19))},r.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ee(2)):(this.h.info("Failed to ping google.com"),ee(1))},(r=ir.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},or.prototype.g=function(t,e){return new sr(t,e)},T(sr,kt),sr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Dt(b(t.hb,t,e))),ee(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=nr(t,null,t.W),qn(t)},sr.prototype.close=function(){Un(this.g)},sr.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,Bn(this.g,e)}else this.v?((e={}).__data__=_t(t),Bn(this.g,e)):Bn(this.g,t)},sr.prototype.M=function(){this.g.j=null,delete this.j,Un(this.g),delete this.g,sr.Z.M.call(this)},T(ar,he),T(cr,de),T(ur,ir),ur.prototype.xa=function(){xt(this.g,"a")},ur.prototype.wa=function(t){xt(this.g,new ar(t))},ur.prototype.va=function(t){xt(this.g,new cr(t))},ur.prototype.ua=function(){xt(this.g,"b")},or.prototype.createWebChannel=or.prototype.g,sr.prototype.send=sr.prototype.u,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,oe.COMPLETE="complete",ce.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",kt.prototype.listen=kt.prototype.N,Sn.prototype.listenOnce=Sn.prototype.O,Sn.prototype.getLastError=Sn.prototype.La,Sn.prototype.getLastErrorCode=Sn.prototype.Da,Sn.prototype.getStatus=Sn.prototype.ba,Sn.prototype.getResponseJson=Sn.prototype.Qa,Sn.prototype.getResponseText=Sn.prototype.ga,Sn.prototype.send=Sn.prototype.ea;var lr=u.createWebChannelTransport=function(){return new or},hr=u.getStatEventTarget=function(){return Yt()},dr=u.ErrorCode=ie,fr=u.EventType=oe,pr=u.Event=Gt,mr=u.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gr=u.FetchXmlHttpFactory=vn,vr=u.WebChannel=ce,yr=u.XhrIo=Sn;n(3454);const br="@firebase/firestore";class wr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let Tr="9.6.5";const Er=new s.Yd("@firebase/firestore");function Ir(){return Er.logLevel}function Sr(t,...e){if(Er.logLevel<=s.in.DEBUG){const n=e.map(Ar);Er.debug(`Firestore (${Tr}): ${t}`,...n)}}function kr(t,...e){if(Er.logLevel<=s.in.ERROR){const n=e.map(Ar);Er.error(`Firestore (${Tr}): ${t}`,...n)}}function xr(t,...e){if(Er.logLevel<=s.in.WARN){const n=e.map(Ar);Er.warn(`Firestore (${Tr}): ${t}`,...n)}}function Ar(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function _r(t="Unexpected state"){const e=`FIRESTORE (${Tr}) INTERNAL ASSERTION FAILED: `+t;throw kr(e),new Error(e)}function Cr(t,e){t||_r()}function Rr(t,e){return t}const Pr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Or extends a.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Dr{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Lr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(wr.UNAUTHENTICATED)))}shutdown(){}}class Mr{constructor(t){this.t=t,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Nr,t.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},s=t=>{Sr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((t=>s(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?s(t):(Sr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Nr)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Sr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Cr("string"==typeof e.accessToken),new Dr(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Cr(null===t||"string"==typeof t),new wr(t)}}class jr{constructor(t,e,n){this.type="FirstParty",this.user=wr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Vr{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new jr(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable((()=>e(wr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ur{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fr{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=n=>{t.enqueueRetryable((()=>(t=>(null!=t.error&&Sr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`),e(t.token)))(n)))};const n=t=>{Sr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.g.onInit((t=>n(t))),setTimeout((()=>{if(!this.appCheck){const t=this.g.getImmediate({optional:!0});t?n(t):Sr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Cr("string"==typeof t.token),new Ur(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class $r{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.p(t),this.T=t=>e.writeSequenceNumber(t))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function Br(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}$r.I=-1;class qr{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=Br(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length))}return n}}function Zr(t,e){return t<e?-1:t>e?1:0}function zr(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class Hr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Or(Pr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Or(Pr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Or(Pr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Or(Pr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Hr.fromMillis(Date.now())}static fromDate(t){return Hr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Hr(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Zr(this.nanoseconds,t.nanoseconds):Zr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Kr(t)}static min(){return new Kr(new Hr(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Wr(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xr(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Yr{constructor(t,e,n){void 0===e?e=0:e>t.length&&_r(),void 0===n?n=t.length-e:n>t.length-e&&_r(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Yr.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Yr?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Jr extends Yr{construct(t,e,n){return new Jr(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Or(Pr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new Jr(e)}static emptyPath(){return new Jr([])}}const Qr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends Yr{construct(t,e,n){return new ti(t,e,n)}static isValidIdentifier(t){return Qr.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ti(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Or(Pr.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let o=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new Or(Pr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Or(Pr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(o=!o,r++):"."!==e||o?(n+=e,r++):(i(),r++)}if(i(),o)throw new Or(Pr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ti(e)}static emptyPath(){return new ti([])}}class ei{constructor(t){this.fields=t,t.sort(ti.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return zr(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class ni{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ni(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new ni(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ni.EMPTY_BYTE_STRING=new ni("");const ri=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(t){if(Cr(!!t),"string"==typeof t){let e=0;const n=ri.exec(t);if(Cr(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:oi(t.seconds),nanos:oi(t.nanos)}}function oi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function si(t){return"string"==typeof t?ni.fromBase64String(t):ni.fromUint8Array(t)}function ai(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ci(t){const e=t.mapValue.fields.__previous_value__;return ai(e)?ci(e):e}function ui(t){const e=ii(t.mapValue.fields.__local_write_time__.timestampValue);return new Hr(e.seconds,e.nanos)}function li(t){return null==t}function hi(t){return 0===t&&1/t==-1/0}function di(t){return"number"==typeof t&&Number.isInteger(t)&&!hi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class fi{constructor(t){this.path=t}static fromPath(t){return new fi(Jr.fromString(t))}static fromName(t){return new fi(Jr.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===Jr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Jr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new fi(new Jr(t.slice()))}}function pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ai(t)?4:10:_r()}function mi(t,e){if(t===e)return!0;const n=pi(t);if(n!==pi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ui(t).isEqual(ui(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=ii(t.timestampValue),r=ii(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return si(t.bytesValue).isEqual(si(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return oi(t.geoPointValue.latitude)===oi(e.geoPointValue.latitude)&&oi(t.geoPointValue.longitude)===oi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return oi(t.integerValue)===oi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=oi(t.doubleValue),r=oi(e.doubleValue);return n===r?hi(n)===hi(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return zr(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Wr(n)!==Wr(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!mi(n[i],r[i])))return!1;return!0}(t,e);default:return _r()}}function gi(t,e){return void 0!==(t.values||[]).find((t=>mi(t,e)))}function vi(t,e){if(t===e)return 0;const n=pi(t),r=pi(e);if(n!==r)return Zr(n,r);switch(n){case 0:return 0;case 1:return Zr(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=oi(t.integerValue||t.doubleValue),r=oi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return yi(t.timestampValue,e.timestampValue);case 4:return yi(ui(t),ui(e));case 5:return Zr(t.stringValue,e.stringValue);case 6:return function(t,e){const n=si(t),r=si(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=Zr(n[i],r[i]);if(0!==t)return t}return Zr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=Zr(oi(t.latitude),oi(e.latitude));return 0!==n?n:Zr(oi(t.longitude),oi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=vi(n[i],r[i]);if(t)return t}return Zr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){const n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const t=Zr(r[s],o[s]);if(0!==t)return t;const e=vi(n[r[s]],i[o[s]]);if(0!==e)return e}return Zr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw _r()}}function yi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Zr(t,e);const n=ii(t),r=ii(e),i=Zr(n.seconds,r.seconds);return 0!==i?i:Zr(n.nanos,r.nanos)}function bi(t){return wi(t)}function wi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=ii(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?si(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,fi.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=wi(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${wi(t.fields[i])}`;return n+"}"}(t.mapValue):_r();var e,n}function Ti(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ei(t){return!!t&&"integerValue"in t}function Ii(t){return!!t&&"arrayValue"in t}function Si(t){return!!t&&"nullValue"in t}function ki(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xi(t){return!!t&&"mapValue"in t}function Ai(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gr(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Ai(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ai(t.arrayValue.values[n]);return e}return Object.assign({},t)}class _i{constructor(t){this.value=t}static empty(){return new _i({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!xi(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ai(e)}setAll(t){let e=ti.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Ai(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());xi(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return mi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];xi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Gr(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new _i(Ai(this.value))}}function Ci(t){const e=[];return Gr(t.fields,((t,n)=>{const r=new ti([t]);if(xi(n)){const t=Ci(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new ei(e)}class Ri{constructor(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(t){return new Ri(t,0,Kr.min(),_i.empty(),0)}static newFoundDocument(t,e,n){return new Ri(t,1,e,n,0)}static newNoDocument(t,e){return new Ri(t,2,e,_i.empty(),0)}static newUnknownDocument(t,e){return new Ri(t,3,e,_i.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ri&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ri(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pi{constructor(t,e=null,n=[],r=[],i=null,o=null,s=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.R=null}}function Oi(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Pi(t,e,n,r,i,o,s)}function Ni(t){const e=Rr(t);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>function(t){return t.field.canonicalString()+t.op.toString()+bi(t.value)}(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),li(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Hi(e.startAt)),e.endAt&&(t+="|ub:",t+=Hi(e.endAt)),e.R=t}return e.R}function Di(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Wi(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!mi(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xi(t.startAt,e.startAt)&&Xi(t.endAt,e.endAt)}function Li(t){return fi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Mi extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,n):new ji(t,e,n):"array-contains"===e?new $i(t,n):"in"===e?new Bi(t,n):"not-in"===e?new qi(t,n):"array-contains-any"===e?new Zi(t,n):new Mi(t,e,n)}static P(t,e,n){return"in"===e?new Vi(t,n):new Ui(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(vi(e,this.value)):null!==e&&pi(this.value)===pi(e)&&this.v(vi(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return _r()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ji extends Mi{constructor(t,e,n){super(t,e,n),this.key=fi.fromName(n.referenceValue)}matches(t){const e=fi.comparator(t.key,this.key);return this.v(e)}}class Vi extends Mi{constructor(t,e){super(t,"in",e),this.keys=Fi("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Ui extends Mi{constructor(t,e){super(t,"not-in",e),this.keys=Fi("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Fi(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>fi.fromName(t.referenceValue)))}class $i extends Mi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ii(e)&&gi(e.arrayValue,this.value)}}class Bi extends Mi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&gi(this.value.arrayValue,e)}}class qi extends Mi{constructor(t,e){super(t,"not-in",e)}matches(t){if(gi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!gi(this.value.arrayValue,e)}}class Zi extends Mi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ii(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>gi(this.value.arrayValue,t)))}}class zi{constructor(t,e){this.position=t,this.before=e}}function Hi(t){return`${t.before?"b":"a"}:${t.position.map((t=>bi(t))).join(",")}`}class Ki{constructor(t,e="asc"){this.field=t,this.dir=e}}function Wi(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Gi(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?fi.comparator(fi.fromName(s.referenceValue),n.key):vi(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Xi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}class Yi{constructor(t,e=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.S=null,this.D=null,this.startAt,this.endAt}}function Ji(t,e,n,r,i,o,s,a){return new Yi(t,e,n,r,i,o,s,a)}function Qi(t){return new Yi(t)}function to(t){return!li(t.limit)&&"F"===t.limitType}function eo(t){return!li(t.limit)&&"L"===t.limitType}function no(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ro(t){for(const e of t.filters)if(e.V())return e.field;return null}function io(t){return null!==t.collectionGroup}function oo(t){const e=Rr(t);if(null===e.S){e.S=[];const t=ro(e),n=no(e);if(null!==t&&null===n)t.isKeyField()||e.S.push(new Ki(t)),e.S.push(new Ki(ti.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.S.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Ki(ti.keyField(),t))}}}return e.S}function so(t){const e=Rr(t);if(!e.D)if("F"===e.limitType)e.D=Oi(e.path,e.collectionGroup,oo(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const i of oo(e)){const e="desc"===i.dir?"asc":"desc";t.push(new Ki(i.field,e))}const n=e.endAt?new zi(e.endAt.position,!e.endAt.before):null,r=e.startAt?new zi(e.startAt.position,!e.startAt.before):null;e.D=Oi(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e.D}function ao(t,e,n){return new Yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function co(t,e){return Di(so(t),so(e))&&t.limitType===e.limitType}function uo(t){return`${Ni(so(t))}|lt:${t.limitType}`}function lo(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>{return`${(e=t).field.canonicalString()} ${e.op} ${bi(e.value)}`;var e})).join(", ")}]`),li(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: "+Hi(t.startAt)),t.endAt&&(e+=", endAt: "+Hi(t.endAt)),`Target(${e})`}(so(t))}; limitType=${t.limitType})`}function ho(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):fi.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Gi(t.startAt,oo(t),e))&&(!t.endAt||!Gi(t.endAt,oo(t),e))}(t,e)}function fo(t){return(e,n)=>{let r=!1;for(const i of oo(t)){const t=po(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function po(t,e,n){const r=t.field.isKeyField()?fi.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?vi(r,i):_r()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _r()}}function mo(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hi(e)?"-0":e}}function go(t){return{integerValue:""+t}}function vo(t,e){return di(e)?go(e):mo(t,e)}class yo{constructor(){this._=void 0}}function bo(t,e,n){return t instanceof Eo?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Io?So(t,e):t instanceof ko?xo(t,e):function(t,e){const n=To(t,e),r=_o(n)+_o(t.N);return Ei(n)&&Ei(t.N)?go(r):mo(t.k,r)}(t,e)}function wo(t,e,n){return t instanceof Io?So(t,e):t instanceof ko?xo(t,e):n}function To(t,e){return t instanceof Ao?Ei(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class Eo extends yo{}class Io extends yo{constructor(t){super(),this.elements=t}}function So(t,e){const n=Co(e);for(const r of t.elements)n.some((t=>mi(t,r)))||n.push(r);return{arrayValue:{values:n}}}class ko extends yo{constructor(t){super(),this.elements=t}}function xo(t,e){let n=Co(e);for(const r of t.elements)n=n.filter((t=>!mi(t,r)));return{arrayValue:{values:n}}}class Ao extends yo{constructor(t,e){super(),this.k=t,this.N=e}}function _o(t){return oi(t.integerValue||t.doubleValue)}function Co(t){return Ii(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ro{constructor(t,e){this.version=t,this.transformResults=e}}class Po{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Po}static exists(t){return new Po(void 0,t)}static updateTime(t){return new Po(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class No{}function Do(t,e,n){t instanceof Uo?function(t,e,n){const r=t.value.clone(),i=Bo(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(t,e,n){if(!Oo(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=Bo(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll($o(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Lo(t,e,n){t instanceof Uo?function(t,e,n){if(!Oo(t.precondition,e))return;const r=t.value.clone(),i=qo(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Vo(e),r).setHasLocalMutations()}(t,e,n):t instanceof Fo?function(t,e,n){if(!Oo(t.precondition,e))return;const r=qo(t.fieldTransforms,n,e),i=e.data;i.setAll($o(t)),i.setAll(r),e.convertToFoundDocument(Vo(e),i).setHasLocalMutations()}(t,e,n):function(t,e){Oo(t.precondition,e)&&e.convertToNoDocument(Kr.min())}(t,e)}function Mo(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=To(r.transform,t||null);null!=i&&(null==n&&(n=_i.empty()),n.set(r.field,i))}return n||null}function jo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&zr(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Io&&e instanceof Io||t instanceof ko&&e instanceof ko?zr(t.elements,e.elements,mi):t instanceof Ao&&e instanceof Ao?mi(t.N,e.N):t instanceof Eo&&e instanceof Eo}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Vo(t){return t.isFoundDocument()?t.version:Kr.min()}class Uo extends No{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Fo extends No{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function $o(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Bo(t,e,n){const r=new Map;Cr(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,wo(s,a,n[i]))}return r}function qo(t,e,n){const r=new Map;for(const i of t){const t=i.transform,o=n.data.field(i.field);r.set(i.field,bo(t,o,e))}return r}class Zo extends No{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class zo extends No{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class Ho{constructor(t){this.count=t}}var Ko,Wo;function Go(t){switch(t){default:return _r();case Pr.CANCELLED:case Pr.UNKNOWN:case Pr.DEADLINE_EXCEEDED:case Pr.RESOURCE_EXHAUSTED:case Pr.INTERNAL:case Pr.UNAVAILABLE:case Pr.UNAUTHENTICATED:return!1;case Pr.INVALID_ARGUMENT:case Pr.NOT_FOUND:case Pr.ALREADY_EXISTS:case Pr.PERMISSION_DENIED:case Pr.FAILED_PRECONDITION:case Pr.ABORTED:case Pr.OUT_OF_RANGE:case Pr.UNIMPLEMENTED:case Pr.DATA_LOSS:return!0}}function Xo(t){if(void 0===t)return kr("GRPC error has no .code"),Pr.UNKNOWN;switch(t){case Ko.OK:return Pr.OK;case Ko.CANCELLED:return Pr.CANCELLED;case Ko.UNKNOWN:return Pr.UNKNOWN;case Ko.DEADLINE_EXCEEDED:return Pr.DEADLINE_EXCEEDED;case Ko.RESOURCE_EXHAUSTED:return Pr.RESOURCE_EXHAUSTED;case Ko.INTERNAL:return Pr.INTERNAL;case Ko.UNAVAILABLE:return Pr.UNAVAILABLE;case Ko.UNAUTHENTICATED:return Pr.UNAUTHENTICATED;case Ko.INVALID_ARGUMENT:return Pr.INVALID_ARGUMENT;case Ko.NOT_FOUND:return Pr.NOT_FOUND;case Ko.ALREADY_EXISTS:return Pr.ALREADY_EXISTS;case Ko.PERMISSION_DENIED:return Pr.PERMISSION_DENIED;case Ko.FAILED_PRECONDITION:return Pr.FAILED_PRECONDITION;case Ko.ABORTED:return Pr.ABORTED;case Ko.OUT_OF_RANGE:return Pr.OUT_OF_RANGE;case Ko.UNIMPLEMENTED:return Pr.UNIMPLEMENTED;case Ko.DATA_LOSS:return Pr.DATA_LOSS;default:return _r()}}(Wo=Ko||(Ko={}))[Wo.OK=0]="OK",Wo[Wo.CANCELLED=1]="CANCELLED",Wo[Wo.UNKNOWN=2]="UNKNOWN",Wo[Wo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wo[Wo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wo[Wo.NOT_FOUND=5]="NOT_FOUND",Wo[Wo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wo[Wo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wo[Wo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wo[Wo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wo[Wo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wo[Wo.ABORTED=10]="ABORTED",Wo[Wo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wo[Wo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wo[Wo.INTERNAL=13]="INTERNAL",Wo[Wo.UNAVAILABLE=14]="UNAVAILABLE",Wo[Wo.DATA_LOSS=15]="DATA_LOSS";class Yo{constructor(t,e){this.comparator=t,this.root=e||Qo.EMPTY}insert(t,e){return new Yo(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Qo.BLACK,null,null))}remove(t){return new Yo(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jo(this.root,t,this.comparator,!0)}}class Jo{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qo{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Qo.RED,this.left=null!=r?r:Qo.EMPTY,this.right=null!=i?i:Qo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new Qo(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Qo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Qo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _r();if(this.right.isRed())throw _r();const t=this.left.check();if(t!==this.right.check())throw _r();return t+(this.isRed()?0:1)}}Qo.EMPTY=null,Qo.RED=!0,Qo.BLACK=!1,Qo.EMPTY=new class{constructor(){this.size=0}get key(){throw _r()}get value(){throw _r()}get color(){throw _r()}get left(){throw _r()}get right(){throw _r()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Qo(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ts{constructor(t){this.comparator=t,this.data=new Yo(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new es(this.data.getIterator())}getIteratorFrom(t){return new es(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof ts))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ts(this.comparator);return e.data=t,e}}class es{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ns=new Yo(fi.comparator);function rs(){return ns}const is=new Yo(fi.comparator);function os(){return is}const ss=new Yo(fi.comparator);function as(){return ss}const cs=new ts(fi.comparator);function us(...t){let e=cs;for(const n of t)e=e.add(n);return e}const ls=new ts(Zr);function hs(){return ls}class ds{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,fs.createSynthesizedTargetChangeForCurrentChange(t,e)),new ds(Kr.min(),n,hs(),rs(),us())}}class fs{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e){return new fs(ni.EMPTY_BYTE_STRING,e,us(),us(),us())}}class ps{constructor(t,e,n,r){this.$=t,this.removedTargetIds=e,this.key=n,this.O=r}}class ms{constructor(t,e){this.targetId=t,this.M=e}}class gs{constructor(t,e,n=ni.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class vs{constructor(){this.F=0,this.L=ws(),this.B=ni.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=us(),e=us(),n=us();return this.L.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:_r()}})),new fs(this.B,this.U,t,e,n)}H(){this.q=!1,this.L=ws()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class ys{constructor(t){this.et=t,this.nt=new Map,this.st=rs(),this.it=bs(),this.rt=new ts(Zr)}ot(t){for(const e of t.$)t.O&&t.O.isFoundDocument()?this.ct(e,t.O):this.at(e,t.key,t.O);for(const e of t.removedTargetIds)this.at(e,t.key,t.O)}ut(t){this.forEachTarget(t,(e=>{const n=this.ht(e);switch(t.state){case 0:this.lt(e)&&n.W(t.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(t.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(e);break;case 3:this.lt(e)&&(n.tt(),n.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),n.W(t.resumeToken));break;default:_r()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach(((t,n)=>{this.lt(n)&&e(n)}))}dt(t){const e=t.targetId,n=t.M.count,r=this.wt(e);if(r){const t=r.target;if(Li(t))if(0===n){const n=new fi(t.path);this.at(e,n,Ri.newNoDocument(n,Kr.min()))}else Cr(1===n);else this._t(e)!==n&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach(((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Li(i.target)){const e=new fi(i.target.path);null!==this.st.get(e)||this.yt(r,e)||this.at(r,e,Ri.newNoDocument(e,t))}n.j&&(e.set(r,n.G()),n.H())}}));let n=us();this.it.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.wt(t);return!e||2===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))}));const r=new ds(t,e,this.rt,this.st,n);return this.st=rs(),this.it=bs(),this.rt=new ts(Zr),r}ct(t,e){if(!this.lt(t))return;const n=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,n),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}at(t,e,n){if(!this.lt(t))return;const r=this.ht(t);this.yt(t,e)?r.J(e,1):r.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),n&&(this.st=this.st.insert(e,n))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new vs,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new ts(Zr),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||Sr("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new vs),this.et.getRemoteKeysForTarget(t).forEach((e=>{this.at(t,e,null)}))}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function bs(){return new Yo(fi.comparator)}function ws(){return new Yo(fi.comparator)}const Ts={asc:"ASCENDING",desc:"DESCENDING"},Es={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Is{constructor(t,e){this.databaseId=t,this.C=e}}function Ss(t,e){return t.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ks(t,e){return t.C?e.toBase64():e.toUint8Array()}function xs(t,e){return Ss(t,e.toTimestamp())}function As(t){return Cr(!!t),Kr.fromTimestamp(function(t){const e=ii(t);return new Hr(e.seconds,e.nanos)}(t))}function _s(t,e){return function(t){return new Jr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Cs(t){const e=Jr.fromString(t);return Cr(Ys(e)),e}function Rs(t,e){return _s(t.databaseId,e.path)}function Ps(t,e){const n=Cs(e);if(n.get(1)!==t.databaseId.projectId)throw new Or(Pr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Or(Pr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fi(Ls(n))}function Os(t,e){return _s(t.databaseId,e)}function Ns(t){const e=Cs(t);return 4===e.length?Jr.emptyPath():Ls(e)}function Ds(t){return new Jr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ls(t){return Cr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ms(t,e,n){return{name:Rs(t,e),fields:n.value.mapValue.fields}}function js(t,e){let n;if(e instanceof Uo)n={update:Ms(t,e.key,e.value)};else if(e instanceof Zo)n={delete:Rs(t,e.key)};else if(e instanceof Fo)n={update:Ms(t,e.key,e.data),updateMask:Xs(e.fieldMask)};else{if(!(e instanceof zo))return _r();n={verify:Rs(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Eo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Io)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ko)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ao)return{fieldPath:e.field.canonicalString(),increment:n.N};throw _r()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:xs(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:_r()}(t,e.precondition)),n}function Vs(t,e){return{documents:[Os(t,e.path)]}}function Us(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Os(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Os(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0===t.length)return;const e=t.map((t=>function(t){if("=="===t.op){if(ki(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NAN"}};if(Si(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ki(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NOT_NAN"}};if(Si(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(t.field),op:zs(t.op),value:t.value}}}(t)));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);i&&(n.structuredQuery.where=i);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Hs(t.field),direction:Zs(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(t,e){return t.C||li(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Bs(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Bs(e.endAt)),n}function Fs(t){let e=Ns(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Cr(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let o=[];n.where&&(o=$s(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((t=>function(t){return new Ki(Ks(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,li(e)?null:e}(n.limit));let c=null;n.startAt&&(c=qs(n.startAt));let u=null;return n.endAt&&(u=qs(n.endAt)),Ji(e,i,s,o,a,"F",c,u)}function $s(t){return t?void 0!==t.unaryFilter?[Gs(t)]:void 0!==t.fieldFilter?[Ws(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((t=>$s(t))).reduce(((t,e)=>t.concat(e))):_r():[]}function Bs(t){return{before:t.before,values:t.position}}function qs(t){const e=!!t.before,n=t.values||[];return new zi(n,e)}function Zs(t){return Ts[t]}function zs(t){return Es[t]}function Hs(t){return{fieldPath:t.canonicalString()}}function Ks(t){return ti.fromServerFormat(t.fieldPath)}function Ws(t){return Mi.create(Ks(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _r()}}(t.fieldFilter.op),t.fieldFilter.value)}function Gs(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ks(t.unaryFilter.field);return Mi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ks(t.unaryFilter.field);return Mi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ks(t.unaryFilter.field);return Mi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ks(t.unaryFilter.field);return Mi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _r()}}function Xs(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Ys(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Js(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ta(e)),e=Qs(t.get(n),e);return ta(e)}function Qs(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const e=t.charAt(i);switch(e){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=e}}return n}function ta(t){return t+"\x01\x01"}class ea{constructor(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}}ea.store="owner",ea.key="owner";class na{constructor(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}}na.store="mutationQueues",na.keyPath="userId";class ra{constructor(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}ra.store="mutations",ra.keyPath="batchId",ra.userMutationsIndex="userMutationsIndex",ra.userMutationsKeyPath=["userId","batchId"];class ia{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Js(e)]}static key(t,e,n){return[t,Js(e),n]}}ia.store="documentMutations",ia.PLACEHOLDER=new ia;class oa{constructor(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}}oa.store="remoteDocuments",oa.readTimeIndex="readTimeIndex",oa.readTimeIndexPath="readTime",oa.collectionReadTimeIndex="collectionReadTimeIndex",oa.collectionReadTimeIndexPath=["parentPath","readTime"];class sa{constructor(t){this.byteSize=t}}sa.store="remoteDocumentGlobal",sa.key="remoteDocumentGlobalKey";class aa{constructor(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}}aa.store="targets",aa.keyPath="targetId",aa.queryTargetsIndexName="queryTargetsIndex",aa.queryTargetsKeyPath=["canonicalId","targetId"];class ca{constructor(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n}}ca.store="targetDocuments",ca.keyPath=["targetId","path"],ca.documentTargetsIndex="documentTargetsIndex",ca.documentTargetsKeyPath=["path","targetId"];class ua{constructor(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}ua.key="targetGlobalKey",ua.store="targetGlobal";class la{constructor(t,e){this.collectionId=t,this.parent=e}}la.store="collectionParents",la.keyPath=["collectionId","parent"];class ha{constructor(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}}ha.store="clientMetadata",ha.keyPath="clientId";class da{constructor(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}}da.store="bundles",da.keyPath="bundleId";class fa{constructor(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}}fa.store="namedQueries",fa.keyPath="name";na.store,ra.store,ia.store,oa.store,aa.store,ea.store,ua.store,ca.store,ha.store,sa.store,la.store,da.store,fa.store;const pa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ma{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}class ga{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&_r(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ga(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ga?e:ga.resolve(e)}catch(t){return ga.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ga.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ga.reject(e)}static resolve(t){return new ga(((e,n)=>{e(t)}))}static reject(t){return new ga(((e,n)=>{n(t)}))}static waitFor(t){return new ga(((e,n)=>{let r=0,i=0,o=!1;t.forEach((t=>{++r,t.next((()=>{++i,o&&i===r&&e()}),(t=>n(t)))})),o=!0,i===r&&e()}))}static or(t){let e=ga.resolve(!1);for(const n of t)e=e.next((t=>t?ga.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}}function va(t){return"IndexedDbTransactionError"===t.name}class ya{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&Do(e,t,n[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Lo(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Lo(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach((e=>{const n=t.get(e.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Kr.min())}))}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),us())}isEqual(t){return this.batchId===t.batchId&&zr(this.mutations,t.mutations,((t,e)=>jo(t,e)))&&zr(this.baseMutations,t.baseMutations,((t,e)=>jo(t,e)))}}class ba{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Cr(t.mutations.length===n.length);let r=as();const i=t.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ba(t,e,n,r)}}class wa{constructor(t,e,n,r,i=Kr.min(),o=Kr.min(),s=ni.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(t){return new wa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class Ta{constructor(t){this.Gt=t}}function Ea(t){const e=Fs({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ao(e,e.limit,"L"):e}class Ia{constructor(){this.zt=new Sa}addToCollectionParentIndex(t,e){return this.zt.add(e),ga.resolve()}getCollectionParents(t,e){return ga.resolve(this.zt.getEntries(e))}}class Sa{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ts(Jr.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new ts(Jr.comparator)).toArray()}}class ka{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new ka(t,ka.DEFAULT_COLLECTION_PERCENTILE,ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ka.DEFAULT_COLLECTION_PERCENTILE=10,ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ka.DEFAULT=new ka(41943040,ka.DEFAULT_COLLECTION_PERCENTILE,ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ka.DISABLED=new ka(-1,0,0);class xa{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new xa(0)}static re(){return new xa(-1)}}async function Aa(t){if(t.code!==Pr.FAILED_PRECONDITION||t.message!==pa)throw t;Sr("LocalStore","Unexpectedly lost primary lease")}class _a{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return void(r[n]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1}forEach(t){Gr(this.inner,((e,n)=>{for(const[r,i]of n)t(r,i)}))}isEmpty(){return Xr(this.inner)}}class Ca{constructor(){this.changes=new _a((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Kr.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:Ri.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?ga.resolve(n.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ra{constructor(t,e,n){this.Je=t,this.An=e,this.Jt=n}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next((n=>this.bn(t,e,n)))}bn(t,e,n){return this.Je.getEntry(t,e).next((t=>{for(const e of n)e.applyToLocalView(t);return t}))}Pn(t,e){t.forEach(((t,n)=>{for(const r of e)r.applyToLocalView(n)}))}vn(t,e){return this.Je.getEntries(t,e).next((e=>this.Vn(t,e).next((()=>e))))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>this.Pn(e,t)))}getDocumentsMatchingQuery(t,e,n){return function(t){return fi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Sn(t,e.path):io(e)?this.Dn(t,e,n):this.Cn(t,e,n)}Sn(t,e){return this.Rn(t,new fi(e)).next((t=>{let e=os();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}Dn(t,e,n){const r=e.collectionGroup;let i=os();return this.Jt.getCollectionParents(t,r).next((o=>ga.forEach(o,(o=>{const s=function(t,e){return new Yi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return this.Cn(t,s,n).next((t=>{t.forEach(((t,e)=>{i=i.insert(t,e)}))}))})).next((()=>i))))}Cn(t,e,n){let r,i;return this.Je.getDocumentsMatchingQuery(t,e,n).next((n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(t,e)))).next((e=>(i=e,this.Nn(t,i,r).next((t=>{r=t;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=Ri.newInvalidDocument(n),r=r.insert(n,i)),Lo(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((t,n)=>{ho(e,n)||(r=r.remove(t))})),r)))}Nn(t,e,n){let r=us();for(const o of e)for(const t of o.mutations)t instanceof Fo&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.Je.getEntries(t,r).next((t=>(t.forEach(((t,e)=>{e.isFoundDocument()&&(i=i.insert(t,e))})),i)))}}class Pa{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.kn=n,this.xn=r}static $n(t,e){let n=us(),r=us();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Pa(t,e.fromCache,n,r)}}class Oa{On(t){this.Mn=t}getDocumentsMatchingQuery(t,e,n,r){return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Kr.min())?this.Fn(t,e):this.Mn.vn(t,r).next((i=>{const o=this.Ln(e,i);return(to(e)||eo(e))&&this.Bn(e.limitType,o,r,n)?this.Fn(t,e):(Ir()<=s.in.DEBUG&&Sr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),lo(e)),this.Mn.getDocumentsMatchingQuery(t,e,n).next((t=>(o.forEach((e=>{t=t.insert(e.key,e)})),t))))}))}Ln(t,e){let n=new ts(fo(t));return e.forEach(((e,r)=>{ho(t,r)&&(n=n.add(r))})),n}Bn(t,e,n,r){if(n.size!==e.size)return!0;const i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(t,e){return Ir()<=s.in.DEBUG&&Sr("QueryEngine","Using full collection scan to execute query:",lo(e)),this.Mn.getDocumentsMatchingQuery(t,e,Kr.min())}}class Na{constructor(t,e,n,r){this.persistence=t,this.Un=e,this.k=r,this.qn=new Yo(Zr),this.Kn=new _a((t=>Ni(t)),Di),this.jn=Kr.min(),this.An=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Ra(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.qn)))}}function Da(t,e,n,r){return new Na(t,e,n,r)}async function La(t,e){const n=Rr(t);let r=n.An,i=n.Wn;const o=await n.persistence.runTransaction("Handle user change","readonly",(t=>{let o;return n.An.getAllMutationBatches(t).next((s=>(o=s,r=n.persistence.getMutationQueue(e),i=new Ra(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)))).next((e=>{const n=[],r=[];let s=us();for(const t of o){n.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}for(const t of e){r.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}return i.vn(t,s).next((t=>({Gn:t,removedBatchIds:n,addedBatchIds:r})))}))}));return n.An=r,n.Wn=i,n.Un.On(n.Wn),o}function Ma(t){const e=Rr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.He.getLastRemoteSnapshotVersion(t)))}function ja(t,e,n,r,i){let o=us();return n.forEach((t=>o=o.add(t))),e.getEntries(t,o).next((t=>{let o=rs();return n.forEach(((n,s)=>{const a=t.get(n),c=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Kr.min())?(e.removeEntry(n,c),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,c),o=o.insert(n,s)):Sr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Va(t,e){const n=Rr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.An.getNextMutationBatchAfterBatchId(t,e))))}function Ua(t,e){const n=Rr(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.He.getTargetData(t,e).next((i=>i?(r=i,ga.resolve(r)):n.He.allocateTargetId(t).next((i=>(r=new wa(e,i,0,t.currentSequenceNumber),n.He.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.qn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(t.targetId,t),n.Kn.set(e,t.targetId)),t}))}async function Fa(t,e,n){const r=Rr(t),i=r.qn.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!va(t))throw t;Sr("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}function $a(t,e,n){const r=Rr(t);let i=Kr.min(),o=us();return r.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const r=Rr(t),i=r.Kn.get(n);return void 0!==i?ga.resolve(r.qn.get(i)):r.He.getTargetData(e,n)}(r,t,so(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(t,e.targetId).next((t=>{o=t}))})).next((()=>r.Un.getDocumentsMatchingQuery(t,e,n?i:Kr.min(),n?o:us()))).next((t=>({documents:t,zn:o})))))}class Ba{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return ga.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var n;return this.Xn.set(e.id,{id:(n=e).id,version:n.version,createTime:As(n.createTime)}),ga.resolve()}getNamedQuery(t,e){return ga.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,function(t){return{name:t.name,query:Ea(t.bundledQuery),readTime:As(t.readTime)}}(e)),ga.resolve()}}class qa{constructor(){this.ts=new ts(Za.es),this.ns=new ts(Za.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const n=new Za(t,e);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.os(new Za(t,e))}cs(t,e){t.forEach((t=>this.removeReference(t,e)))}us(t){const e=new fi(new Jr([])),n=new Za(e,t),r=new Za(e,t+1),i=[];return this.ns.forEachInRange([n,r],(t=>{this.os(t),i.push(t.key)})),i}hs(){this.ts.forEach((t=>this.os(t)))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new fi(new Jr([])),n=new Za(e,t),r=new Za(e,t+1);let i=us();return this.ns.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new Za(t,0),n=this.ts.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Za{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return fi.comparator(t.key,e.key)||Zr(t.fs,e.fs)}static ss(t,e){return Zr(t.fs,e.fs)||fi.comparator(t.key,e.key)}}class za{constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new ts(Za.es)}checkEmpty(t){return ga.resolve(0===this.An.length)}addMutationBatch(t,e,n,r){const i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const o=new ya(i,e,n,r);this.An.push(o);for(const s of r)this.ws=this.ws.add(new Za(s.key,i)),this.Jt.addToCollectionParentIndex(t,s.key.path.popLast());return ga.resolve(o)}lookupMutationBatch(t,e){return ga.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.gs(n),i=r<0?0:r;return ga.resolve(this.An.length>i?this.An[i]:null)}getHighestUnacknowledgedBatchId(){return ga.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return ga.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Za(e,0),r=new Za(e,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],(t=>{const e=this._s(t.fs);i.push(e)})),ga.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new ts(Zr);return e.forEach((t=>{const e=new Za(t,0),r=new Za(t,Number.POSITIVE_INFINITY);this.ws.forEachInRange([e,r],(t=>{n=n.add(t.fs)}))})),ga.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;fi.isDocumentKey(i)||(i=i.child(""));const o=new Za(new fi(i),0);let s=new ts(Zr);return this.ws.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.fs)),!0)}),o),ga.resolve(this.ys(s))}ys(t){const e=[];return t.forEach((t=>{const n=this._s(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Cr(0===this.ps(e.batchId,"removed")),this.An.shift();let n=this.ws;return ga.forEach(e.mutations,(r=>{const i=new Za(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.ws=n}))}ee(t){}containsKey(t,e){const n=new Za(e,0),r=this.ws.firstAfterOrEqual(n);return ga.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.An.length,ga.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class Ha{constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new Yo(fi.comparator),this.size=0}addEntry(t,e,n){const r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ts(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:s,readTime:n}),this.size+=s-o,this.Jt.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return ga.resolve(n?n.document.mutableCopy():Ri.newInvalidDocument(e))}getEntries(t,e){let n=rs();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Ri.newInvalidDocument(t))})),ga.resolve(n)}getDocumentsMatchingQuery(t,e,n){let r=rs();const i=new fi(e.path.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:t,value:{document:i,readTime:s}}=o.getNext();if(!e.path.isPrefixOf(t.path))break;s.compareTo(n)<=0||ho(e,i)&&(r=r.insert(i.key,i.mutableCopy()))}return ga.resolve(r)}Es(t,e){return ga.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Ka(this)}getSize(t){return ga.resolve(this.size)}}class Ka extends Ca{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?e.push(this.De.addEntry(t,r.document,this.getReadTime(n))):this.De.removeEntry(n)})),ga.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class Wa{constructor(t){this.persistence=t,this.Is=new _a((t=>Ni(t)),Di),this.lastRemoteSnapshotVersion=Kr.min(),this.highestTargetId=0,this.As=0,this.Rs=new qa,this.targetCount=0,this.bs=xa.ie()}forEachTarget(t,e){return this.Is.forEach(((t,n)=>e(n))),ga.resolve()}getLastRemoteSnapshotVersion(t){return ga.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ga.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),ga.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.As&&(this.As=e),ga.resolve()}ae(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.bs=new xa(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ae(e),this.targetCount+=1,ga.resolve()}updateTargetData(t,e){return this.ae(e),ga.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,ga.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Is.forEach(((o,s)=>{s.sequenceNumber<=e&&null===n.get(s.targetId)&&(this.Is.delete(o),i.push(this.removeMatchingKeysForTargetId(t,s.targetId)),r++)})),ga.waitFor(i).next((()=>r))}getTargetCount(t){return ga.resolve(this.targetCount)}getTargetData(t,e){const n=this.Is.get(e)||null;return ga.resolve(n)}addMatchingKeys(t,e,n){return this.Rs.rs(e,n),ga.resolve()}removeMatchingKeys(t,e,n){this.Rs.cs(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),ga.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),ga.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Rs.ls(e);return ga.resolve(n)}containsKey(t,e){return ga.resolve(this.Rs.containsKey(e))}}class Ga{constructor(t,e){this.Ps={},this.Be=new $r(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Wa(this),this.Jt=new Ia,this.Je=function(t,e){return new Ha(t,e)}(this.Jt,(t=>this.referenceDelegate.vs(t))),this.k=new Ta(e),this.Ye=new Ba(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.Ps[t.toKey()];return e||(e=new za(this.Jt,this.referenceDelegate),this.Ps[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,n){Sr("MemoryPersistence","Starting transaction:",t);const r=new Xa(this.Be.next());return this.referenceDelegate.Vs(),n(r).next((t=>this.referenceDelegate.Ss(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Ds(t,e){return ga.or(Object.values(this.Ps).map((n=>()=>n.containsKey(t,e))))}}class Xa extends ma{constructor(t){super(),this.currentSequenceNumber=t}}class Ya{constructor(t){this.persistence=t,this.Cs=new qa,this.Ns=null}static ks(t){return new Ya(t)}get xs(){if(this.Ns)return this.Ns;throw _r()}addReference(t,e,n){return this.Cs.addReference(n,e),this.xs.delete(n.toString()),ga.resolve()}removeReference(t,e,n){return this.Cs.removeReference(n,e),this.xs.add(n.toString()),ga.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),ga.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach((t=>this.xs.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.xs.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ga.forEach(this.xs,(n=>{const r=fi.fromPath(n);return this.$s(t,r).next((t=>{t||e.removeEntry(r)}))})).next((()=>(this.Ns=null,e.apply(t))))}updateLimboDocument(t,e){return this.$s(t,e).next((t=>{t?this.xs.delete(e.toString()):this.xs.add(e.toString())}))}vs(t){return 0}$s(t,e){return ga.or([()=>ga.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}class Ja{constructor(){this.activeTargetIds=hs()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ms(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Qa{constructor(){this.pi=new Ja,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.pi.Fs(t),this.Ti[t]||"not-current"}updateQueryState(t,e,n){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new Ja,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class tc{Ei(t){}shutdown(){}}class ec{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(t){this.Pi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Sr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Pi)t(0)}bi(){Sr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Pi)t(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const nc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class rc{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Oi(t){this.ki(t)}Mi(t){this.xi(t)}}class ic extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.Fi=e+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,n,r,i){const o=this.Ui(t,e);Sr("RestConnection","Sending: ",o,n);const s={};return this.qi(s,r,i),this.Ki(t,o,s,n).then((t=>(Sr("RestConnection","Received: ",t),t)),(e=>{throw xr("RestConnection",`${t} failed with error: `,e,"url: ",o,"request:",n),e}))}ji(t,e,n,r,i){return this.Bi(t,e,n,r,i)}qi(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Tr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}Ui(t,e){const n=nc[t];return`${this.Fi}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,n,r){return new Promise(((i,o)=>{const s=new yr;s.listenOnce(fr.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case dr.NO_ERROR:const e=s.getResponseJson();Sr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case dr.TIMEOUT:Sr("Connection",'RPC "'+t+'" timed out'),o(new Or(Pr.DEADLINE_EXCEEDED,"Request time out"));break;case dr.HTTP_ERROR:const n=s.getStatus();if(Sr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const t=s.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Pr).indexOf(e)>=0?e:Pr.UNKNOWN}(t.status);o(new Or(e,t.message))}else o(new Or(Pr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Or(Pr.UNAVAILABLE,"Connection failed."));break;default:_r()}}finally{Sr("Connection",'RPC "'+t+'" completed.')}}));const a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))}Qi(t,e,n){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=lr(),o=hr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new gr({})),this.qi(s.initMessageHeaders,e,n),(0,a.uI)()||(0,a.b$)()||(0,a.d)()||(0,a.w1)()||(0,a.Mn)()||(0,a.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const c=r.join("");Sr("Connection","Creating WebChannel: "+c,s);const u=i.createWebChannel(c,s);let l=!1,h=!1;const d=new rc({Vi:t=>{h?Sr("Connection","Not sending because WebChannel is closed:",t):(l||(Sr("Connection","Opening WebChannel transport."),u.open(),l=!0),Sr("Connection","WebChannel sending:",t),u.send(t))},Si:()=>u.close()}),f=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return f(u,vr.EventType.OPEN,(()=>{h||Sr("Connection","WebChannel transport opened.")})),f(u,vr.EventType.CLOSE,(()=>{h||(h=!0,Sr("Connection","WebChannel transport closed"),d.Oi())})),f(u,vr.EventType.ERROR,(t=>{h||(h=!0,xr("Connection","WebChannel transport errored:",t),d.Oi(new Or(Pr.UNAVAILABLE,"The operation could not be completed")))})),f(u,vr.EventType.MESSAGE,(t=>{var e;if(!h){const n=t.data[0];Cr(!!n);const r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Sr("Connection","WebChannel received error:",i);const t=i.status;let e=function(t){const e=Ko[t];if(void 0!==e)return Xo(e)}(t),n=i.message;void 0===e&&(e=Pr.INTERNAL,n="Unknown error status: "+t+" with message "+i.message),h=!0,d.Oi(new Or(e,n)),u.close()}else Sr("Connection","WebChannel received:",n),d.Mi(n)}})),f(o,pr.STAT_EVENT,(t=>{t.stat===mr.PROXY?Sr("Connection","Detected buffering proxy"):t.stat===mr.NOPROXY&&Sr("Connection","Detected no buffering proxy")})),setTimeout((()=>{d.$i()}),0),d}}function oc(){return"undefined"!=typeof document?document:null}function sc(t){return new Is(t,!0)}class ac{constructor(t,e,n=1e3,r=1.5,i=6e4){this.Me=t,this.timerId=e,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,e-n);r>0&&Sr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,r,(()=>(this.Yi=Date.now(),t()))),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class cc{constructor(t,e,n,r,i,o,s,a){this.Me=t,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new ac(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(()=>this.mr())))}gr(t){this.yr(),this.stream.send(t)}async mr(){if(this.lr())return this.close(0)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}async close(t,e){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():e&&e.code===Pr.RESOURCE_EXHAUSTED?(kr(e.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):e&&e.code===Pr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ni(e)}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.rr===e&&this.Ir(t,n)}),(e=>{t((()=>{const t=new Or(Pr.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Ar(t)}))}))}Ir(t,e){const n=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di((()=>{n((()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,(()=>(this.lr()&&(this.state=3),Promise.resolve()))),this.listener.Di())))})),this.stream.Ni((t=>{n((()=>this.Ar(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}dr(){this.state=5,this.ur.Zi((async()=>{this.state=0,this.start()}))}Ar(t){return Sr("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Me.enqueueAndForget((()=>this.rr===t?e():(Sr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uc extends cc{constructor(t,e,n,r,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,o),this.k=i}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:_r()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.C?(Cr(void 0===e||"string"==typeof e),ni.fromBase64String(e||"")):(Cr(void 0===e||e instanceof Uint8Array),ni.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){const e=void 0===t.code?Pr.UNKNOWN:Xo(t.code);return new Or(e,t.message||"")}(s);n=new gs(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ps(t,r.document.name),o=As(r.document.updateTime),s=new _i({mapValue:{fields:r.document.fields}}),a=Ri.newFoundDocument(i,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ps(c,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ps(t,r.document),o=r.readTime?As(r.readTime):Kr.min(),s=Ri.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ps([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ps(t,r.document),o=r.removedTargetIds||[];n=new ps([],o,i,null)}else{if(!("filter"in e))return _r();{e.filter;const t=e.filter;t.targetId;const r=t.count||0,i=new Ho(r),o=t.targetId;n=new ms(o,i)}}return n}(this.k,t),n=function(t){if(!("targetChange"in t))return Kr.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Kr.min():e.readTime?As(e.readTime):Kr.min()}(t);return this.listener.br(e,n)}Pr(t){const e={};e.database=Ds(this.k),e.addTarget=function(t,e){let n;const r=e.target;return n=Li(r)?{documents:Vs(t,r)}:{query:Us(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ks(t,e.resumeToken):e.snapshotVersion.compareTo(Kr.min())>0&&(n.readTime=Ss(t,e.snapshotVersion.toTimestamp())),n}(this.k,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _r()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,t);n&&(e.labels=n),this.gr(e)}vr(t){const e={};e.database=Ds(this.k),e.removeTarget=t,this.gr(e)}}class lc extends cc{constructor(t,e,n,r,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,o),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(Cr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function(t,e){return t&&t.length>0?(Cr(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?As(t.updateTime):As(e);return n.isEqual(Kr.min())&&(n=As(e)),new Ro(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=As(t.commitTime);return this.listener.Cr(n,e)}return Cr(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=Ds(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>js(this.k,t)))};this.gr(e)}}class hc extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=n,this.k=r,this.$r=!1}Or(){if(this.$r)throw new Or(Pr.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,n){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.Bi(t,e,n,r,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Pr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Or(Pr.UNKNOWN,t.toString())}))}ji(t,e,n){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.ji(t,e,n,r,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Pr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Or(Pr.UNKNOWN,t.toString())}))}terminate(){this.$r=!0}}class dc{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve()))))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Mr=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(kr(e),this.Lr=!1):Sr("OnlineStateTracker",e)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class fc{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei((t=>{n.enqueueAndForget((async()=>{Ec(this)&&(Sr("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Rr(t);e.Gr.add(4),await mc(e),e.Jr.set("Unknown"),e.Gr.delete(4),await pc(e)}(this))}))})),this.Jr=new dc(n,r)}}async function pc(t){if(Ec(t))for(const e of t.zr)await e(!0)}async function mc(t){for(const e of t.zr)await e(!1)}function gc(t,e){const n=Rr(t);n.Wr.has(e.targetId)||(n.Wr.set(e.targetId,e),Tc(n)?wc(n):Fc(n).lr()&&yc(n,e))}function vc(t,e){const n=Rr(t),r=Fc(n);n.Wr.delete(e),r.lr()&&bc(n,e),0===n.Wr.size&&(r.lr()?r._r():Ec(n)&&n.Jr.set("Unknown"))}function yc(t,e){t.Yr.X(e.targetId),Fc(t).Pr(e)}function bc(t,e){t.Yr.X(e),Fc(t).vr(e)}function wc(t){t.Yr=new ys({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),Fc(t).start(),t.Jr.Br()}function Tc(t){return Ec(t)&&!Fc(t).hr()&&t.Wr.size>0}function Ec(t){return 0===Rr(t).Gr.size}function Ic(t){t.Yr=void 0}async function Sc(t){t.Wr.forEach(((e,n)=>{yc(t,e)}))}async function kc(t,e){Ic(t),Tc(t)?(t.Jr.Kr(e),wc(t)):t.Jr.set("Unknown")}async function xc(t,e,n){if(t.Jr.set("Online"),e instanceof gs&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.Wr.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.Wr.delete(r),t.Yr.removeTarget(r))}(t,e)}catch(n){Sr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ac(t,n)}else if(e instanceof ps?t.Yr.ot(e):e instanceof ms?t.Yr.dt(e):t.Yr.ut(e),!n.isEqual(Kr.min()))try{const e=await Ma(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.Yr.gt(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.Wr.get(r);i&&t.Wr.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((e=>{const n=t.Wr.get(e);if(!n)return;t.Wr.set(e,n.withResumeToken(ni.EMPTY_BYTE_STRING,n.snapshotVersion)),bc(t,e);const r=new wa(n.target,e,1,n.sequenceNumber);yc(t,r)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Sr("RemoteStore","Failed to raise snapshot:",e),await Ac(t,e)}}async function Ac(t,e,n){if(!va(e))throw e;t.Gr.add(1),await mc(t),t.Jr.set("Offline"),n||(n=()=>Ma(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Sr("RemoteStore","Retrying IndexedDB access"),await n(),t.Gr.delete(1),await pc(t)}))}function _c(t,e){return e().catch((n=>Ac(t,n,e)))}async function Cc(t){const e=Rr(t),n=$c(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;Rc(e);)try{const t=await Va(e.localStore,r);if(null===t){0===e.Qr.length&&n._r();break}r=t.batchId,Pc(e,t)}catch(t){await Ac(e,t)}Oc(e)&&Nc(e)}function Rc(t){return Ec(t)&&t.Qr.length<10}function Pc(t,e){t.Qr.push(e);const n=$c(t);n.lr()&&n.Sr&&n.Dr(e.mutations)}function Oc(t){return Ec(t)&&!$c(t).hr()&&t.Qr.length>0}function Nc(t){$c(t).start()}async function Dc(t){$c(t).kr()}async function Lc(t){const e=$c(t);for(const n of t.Qr)e.Dr(n.mutations)}async function Mc(t,e,n){const r=t.Qr.shift(),i=ba.from(r,e,n);await _c(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Cc(t)}async function jc(t,e){e&&$c(t).Sr&&await async function(t,e){if(Go(n=e.code)&&n!==Pr.ABORTED){const n=t.Qr.shift();$c(t).wr(),await _c(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await Cc(t)}var n}(t,e),Oc(t)&&Nc(t)}async function Vc(t,e){const n=Rr(t);n.asyncQueue.verifyOperationInProgress(),Sr("RemoteStore","RemoteStore received new credentials");const r=Ec(n);n.Gr.add(3),await mc(n),r&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Gr.delete(3),await pc(n)}async function Uc(t,e){const n=Rr(t);e?(n.Gr.delete(2),await pc(n)):e||(n.Gr.add(2),await mc(n),n.Jr.set("Unknown"))}function Fc(t){return t.Xr||(t.Xr=function(t,e,n){const r=Rr(t);return r.Or(),new uc(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(t.datastore,t.asyncQueue,{Di:Sc.bind(null,t),Ni:kc.bind(null,t),br:xc.bind(null,t)}),t.zr.push((async e=>{e?(t.Xr.wr(),Tc(t)?wc(t):t.Jr.set("Unknown")):(await t.Xr.stop(),Ic(t))}))),t.Xr}function $c(t){return t.Zr||(t.Zr=function(t,e,n){const r=Rr(t);return r.Or(),new lc(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(t.datastore,t.asyncQueue,{Di:Dc.bind(null,t),Ni:jc.bind(null,t),Nr:Lc.bind(null,t),Cr:Mc.bind(null,t)}),t.zr.push((async e=>{e?(t.Zr.wr(),await Cc(t)):(await t.Zr.stop(),t.Qr.length>0&&(Sr("RemoteStore",`Stopping write stream with ${t.Qr.length} pending writes`),t.Qr=[]))}))),t.Zr}class Bc{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,r,i){const o=Date.now()+n,s=new Bc(t,e,o,r,i);return s.start(n),s}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Or(Pr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qc(t,e){if(kr("AsyncQueue",`${e}: ${t}`),va(t))return new Or(Pr.UNAVAILABLE,`${e}: ${t}`);throw t}class Zc{constructor(t){this.comparator=t?(e,n)=>t(e,n)||fi.comparator(e.key,n.key):(t,e)=>fi.comparator(t.key,e.key),this.keyedMap=os(),this.sortedSet=new Yo(this.comparator)}static emptySet(t){return new Zc(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Zc))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Zc;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class zc{constructor(){this.eo=new Yo(fi.comparator)}track(t){const e=t.doc.key,n=this.eo.get(e);n?0!==t.type&&3===n.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==n.type?this.eo=this.eo.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.eo=this.eo.remove(e):1===t.type&&2===n.type?this.eo=this.eo.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):_r():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Hc{constructor(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,r){const i=[];return e.forEach((t=>{i.push({type:0,doc:t})})),new Hc(t,e,Zc.emptySet(e),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&co(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class Kc{constructor(){this.so=void 0,this.listeners=[]}}class Wc{constructor(){this.queries=new _a((t=>uo(t)),co),this.onlineState="Unknown",this.io=new Set}}async function Gc(t,e){const n=Rr(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Kc),i)try{o.so=await n.onListen(r)}catch(t){const n=qc(t,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,o),o.listeners.push(e),e.ro(n.onlineState),o.so&&e.oo(o.so)&&Qc(n)}async function Xc(t,e){const n=Rr(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const t=o.listeners.indexOf(e);t>=0&&(o.listeners.splice(t,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Yc(t,e){const n=Rr(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.listeners)t.oo(i)&&(r=!0);e.so=i}}r&&Qc(n)}function Jc(t,e,n){const r=Rr(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Qc(t){t.io.forEach((t=>{t.next()}))}class tu{constructor(t,e,n){this.query=t,this.co=e,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Hc(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.ao?this.ho(t)&&(this.co.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.co.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.ao&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.wo||!n)&&(!t.docs.isEmpty()||"Offline"===e)}ho(t){if(t.docChanges.length>0)return!0;const e=this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}fo(t){t=Hc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.ao=!0,this.co.next(t)}}class eu{constructor(t){this.key=t}}class nu{constructor(t){this.key=t}}class ru{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=us(),this.mutatedKeys=us(),this.Ao=fo(t),this.Ro=new Zc(this.Ao)}get bo(){return this.To}Po(t,e){const n=e?e.vo:new zc,r=e?e.Ro:this.Ro;let i=e?e.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a=to(this.query)&&r.size===this.query.limit?r.last():null,c=eo(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const u=r.get(t),l=ho(this.query,e)?e:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Vo(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Ao(l,a)>0||c&&this.Ao(l,c)<0)&&(s=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(s=!0)),f&&(l?(o=o.add(l),i=d?i.add(t):i.delete(t)):(o=o.delete(t),i=i.delete(t)))})),to(this.query)||eo(this.query))for(;o.size>this.query.limit;){const t=to(this.query)?o.last():o.first();o=o.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{Ro:o,vo:n,Bn:s,mutatedKeys:i}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const i=t.vo.no();i.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _r()}};return n(t)-n(e)}(t.type,e.type)||this.Ao(t.doc,e.doc))),this.So(n);const o=e?this.Do():[],s=0===this.Io.size&&this.current?1:0,a=s!==this.Eo;return this.Eo=s,0!==i.length||a?{snapshot:new Hc(this.query,t.Ro,r,i,t.mutatedKeys,0===s,a,!1),Co:o}:{Co:o}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new zc,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach((t=>this.To=this.To.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.To=this.To.delete(t))),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=us(),this.Ro.forEach((t=>{this.No(t.key)&&(this.Io=this.Io.add(t.key))}));const e=[];return t.forEach((t=>{this.Io.has(t)||e.push(new nu(t))})),this.Io.forEach((n=>{t.has(n)||e.push(new eu(n))})),e}ko(t){this.To=t.zn,this.Io=us();const e=this.Po(t.documents);return this.applyChanges(e,!0)}xo(){return Hc.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class iu{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class ou{constructor(t){this.key=t,this.$o=!1}}class su{constructor(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new _a((t=>uo(t)),co),this.Fo=new Map,this.Lo=new Set,this.Bo=new Yo(fi.comparator),this.Uo=new Map,this.qo=new qa,this.Ko={},this.jo=new Map,this.Qo=xa.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function au(t,e){const n=ku(t);let r,i;const o=n.Mo.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.xo();else{const t=await Ua(n.localStore,so(e)),o=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=await cu(n,e,r,"current"===o),n.isPrimaryClient&&gc(n.remoteStore,t)}return i}async function cu(t,e,n,r){t.Go=(e,n,r)=>async function(t,e,n,r){let i=e.view.Po(n);i.Bn&&(i=await $a(t.localStore,e.query,!1).then((({documents:t})=>e.view.Po(t,i))));const o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o);return bu(t,e.targetId,s.Co),s.snapshot}(t,e,n,r);const i=await $a(t.localStore,e,!0),o=new ru(e,i.zn),s=o.Po(i.documents),a=fs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,a);bu(t,n,c.Co);const u=new iu(e,n,o);return t.Mo.set(e,u),t.Fo.has(n)?t.Fo.get(n).push(e):t.Fo.set(n,[e]),c.snapshot}async function uu(t,e){const n=Rr(t),r=n.Mo.get(e),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter((t=>!co(t,e)))),void n.Mo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Fa(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),vc(n.remoteStore,r.targetId),vu(n,r.targetId)})).catch(Aa)):(vu(n,r.targetId),await Fa(n.localStore,r.targetId,!0))}async function lu(t,e){const n=Rr(t);try{const t=await function(t,e){const n=Rr(t),r=e.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const s=[];e.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.He.removeMatchingKeys(t,o.removedDocuments,a).next((()=>n.He.addMatchingKeys(t,o.addedDocuments,a))));let u=c.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(a)?u=u.withResumeToken(ni.EMPTY_BYTE_STRING,Kr.min()).withLastLimboFreeSnapshotVersion(Kr.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,u,o)&&s.push(n.He.updateTargetData(t,u))}));let a=rs();if(e.documentUpdates.forEach(((r,i)=>{e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(ja(t,o,e.documentUpdates,r,void 0).next((t=>{a=t}))),!r.isEqual(Kr.min())){const e=n.He.getLastRemoteSnapshotVersion(t).next((e=>n.He.setTargetsMetadata(t,t.currentSequenceNumber,r)));s.push(e)}return ga.waitFor(s).next((()=>o.apply(t))).next((()=>n.Wn.Vn(t,a))).next((()=>a))})).then((t=>(n.qn=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.Uo.get(e);r&&(Cr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.$o=!0:t.modifiedDocuments.size>0?Cr(r.$o):t.removedDocuments.size>0&&(Cr(r.$o),r.$o=!1))})),await Eu(n,t,e)}catch(t){await Aa(t)}}function hu(t,e,n){const r=Rr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.Mo.forEach(((n,r)=>{const i=r.view.ro(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=Rr(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const i of n.listeners)i.ro(e)&&(r=!0)})),r&&Qc(n)}(r.eventManager,e),t.length&&r.Oo.br(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function du(t,e,n){const r=Rr(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Uo.get(e),o=i&&i.key;if(o){let t=new Yo(fi.comparator);t=t.insert(o,Ri.newNoDocument(o,Kr.min()));const n=us().add(o),i=new ds(Kr.min(),new Map,new ts(Zr),t,n);await lu(r,i),r.Bo=r.Bo.remove(o),r.Uo.delete(e),Tu(r)}else await Fa(r.localStore,e,!1).then((()=>vu(r,e,n))).catch(Aa)}async function fu(t,e){const n=Rr(t),r=e.batch.batchId;try{const t=await function(t,e){const n=Rr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,o=i.keys();let s=ga.resolve();return o.forEach((t=>{s=s.next((()=>r.getEntry(e,t))).next((e=>{const o=n.docVersions.get(t);Cr(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((()=>t.An.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.An.performConsistencyCheck(t))).next((()=>n.Wn.vn(t,r)))}))}(n.localStore,e);gu(n,r,null),mu(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Eu(n,t)}catch(t){await Aa(t)}}async function pu(t,e,n){const r=Rr(t);try{const t=await function(t,e){const n=Rr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.An.lookupMutationBatch(t,e).next((e=>(Cr(null!==e),r=e.keys(),n.An.removeMutationBatch(t,e)))).next((()=>n.An.performConsistencyCheck(t))).next((()=>n.Wn.vn(t,r)))}))}(r.localStore,e);gu(r,e,n),mu(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Eu(r,t)}catch(n){await Aa(n)}}function mu(t,e){(t.jo.get(e)||[]).forEach((t=>{t.resolve()})),t.jo.delete(e)}function gu(t,e,n){const r=Rr(t);let i=r.Ko[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function vu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fo.get(e))t.Mo.delete(r),n&&t.Oo.zo(r,n);t.Fo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach((e=>{t.qo.containsKey(e)||yu(t,e)}))}function yu(t,e){t.Lo.delete(e.path.canonicalString());const n=t.Bo.get(e);null!==n&&(vc(t.remoteStore,n),t.Bo=t.Bo.remove(e),t.Uo.delete(n),Tu(t))}function bu(t,e,n){for(const r of n)r instanceof eu?(t.qo.addReference(r.key,e),wu(t,r)):r instanceof nu?(Sr("SyncEngine","Document no longer in limbo: "+r.key),t.qo.removeReference(r.key,e),t.qo.containsKey(r.key)||yu(t,r.key)):_r()}function wu(t,e){const n=e.key,r=n.path.canonicalString();t.Bo.get(n)||t.Lo.has(r)||(Sr("SyncEngine","New document in limbo: "+n),t.Lo.add(r),Tu(t))}function Tu(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){const e=t.Lo.values().next().value;t.Lo.delete(e);const n=new fi(Jr.fromString(e)),r=t.Qo.next();t.Uo.set(r,new ou(n)),t.Bo=t.Bo.insert(n,r),gc(t.remoteStore,new wa(so(Qi(n.path)),r,2,$r.I))}}async function Eu(t,e,n){const r=Rr(t),i=[],o=[],s=[];r.Mo.isEmpty()||(r.Mo.forEach(((t,a)=>{s.push(r.Go(a,e,n).then((t=>{if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);const e=Pa.$n(a.targetId,t);o.push(e)}})))})),await Promise.all(s),r.Oo.br(i),await async function(t,e){const n=Rr(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>ga.forEach(e,(e=>ga.forEach(e.kn,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>ga.forEach(e.xn,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!va(t))throw t;Sr("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.qn.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.qn=n.qn.insert(t,i)}}}(r.localStore,o))}async function Iu(t,e){const n=Rr(t);if(!n.currentUser.isEqual(e)){Sr("SyncEngine","User change. New user:",e.toKey());const t=await La(n.localStore,e);n.currentUser=e,function(t,e){t.jo.forEach((t=>{t.forEach((t=>{t.reject(new Or(Pr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.jo.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await Eu(n,t.Gn)}}function Su(t,e){const n=Rr(t),r=n.Uo.get(e);if(r&&r.$o)return us().add(r.key);{let t=us();const r=n.Fo.get(e);if(!r)return t;for(const e of r){const r=n.Mo.get(e);t=t.unionWith(r.view.bo)}return t}}function ku(t){const e=Rr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lu.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Su.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=du.bind(null,e),e.Oo.br=Yc.bind(null,e.eventManager),e.Oo.zo=Jc.bind(null,e.eventManager),e}function xu(t){const e=Rr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fu.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pu.bind(null,e),e}class Au{constructor(){this.synchronizeTabs=!1}async initialize(t){this.k=sc(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),await this.persistence.start(),this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t)}Xo(t){return null}Zo(t){return Da(this.persistence,new Oa,t.initialUser,this.k)}Yo(t){return new Ga(Ya.ks,this.k)}Jo(t){return new Qa}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _u{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>hu(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Iu.bind(null,this.syncEngine),await Uc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Wc}createDatastore(t){const e=sc(t.databaseInfo.databaseId),n=(r=t.databaseInfo,new ic(r));var r;return function(t,e,n,r){return new hc(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>hu(this.syncEngine,t,0),o=ec.Pt()?new ec:new tc,new fc(e,n,r,i,o);var e,n,r,i,o}createSyncEngine(t,e){return function(t,e,n,r,i,o,s){const a=new su(t,e,n,r,i,o);return s&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=Rr(t);Sr("RemoteStore","RemoteStore shutting down."),e.Gr.add(5),await mc(e),e.Hr.shutdown(),e.Jr.set("Unknown")}(this.remoteStore)}}class Cu{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ec(this.observer.next,t)}error(t){this.observer.error?this.ec(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}nc(){this.muted=!0}ec(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class Ru{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=wr.UNAUTHENTICATED,this.clientId=qr.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{Sr("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Sr("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Or(Pr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=qc(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Pu(t,e){t.asyncQueue.verifyOperationInProgress(),Sr("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await La(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}async function Ou(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Nu(t);Sr("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener((t=>Vc(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>Vc(e.remoteStore,n))),t.onlineComponents=e}async function Nu(t){return t.offlineComponents||(Sr("FirestoreClient","Using default OfflineComponentProvider"),await Pu(t,new Au)),t.offlineComponents}async function Du(t){return t.onlineComponents||(Sr("FirestoreClient","Using default OnlineComponentProvider"),await Ou(t,new _u)),t.onlineComponents}function Lu(t){return Du(t).then((t=>t.syncEngine))}async function Mu(t){const e=await Du(t),n=e.eventManager;return n.onListen=au.bind(null,e.syncEngine),n.onUnlisten=uu.bind(null,e.syncEngine),n}function ju(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new Cu({next:o=>{e.enqueueAndForget((()=>Xc(t,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Or(Pr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Or(Pr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:t=>i.reject(t)}),s=new tu(Qi(n.path),o,{includeMetadataChanges:!0,wo:!0});return Gc(t,s)}(await Mu(t),t.asyncQueue,e,n,r))),r.promise}function Vu(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new Cu({next:n=>{e.enqueueAndForget((()=>Xc(t,s))),n.fromCache&&"server"===r.source?i.reject(new Or(Pr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),s=new tu(n,o,{includeMetadataChanges:!0,wo:!0});return Gc(t,s)}(await Mu(t),t.asyncQueue,e,n,r))),r.promise}class Uu{constructor(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class Fu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Fu&&t.projectId===this.projectId&&t.database===this.database}}const $u=new Map;function Bu(t,e,n){if(!n)throw new Or(Pr.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qu(t){if(!fi.isDocumentKey(t))throw new Or(Pr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zu(t){if(fi.isDocumentKey(t))throw new Or(Pr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zu(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":_r()}function Hu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Or(Pr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zu(t);throw new Or(Pr.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ku(t,e){if(e<=0)throw new Or(Pr.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class Wu{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Or(Pr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Or(Pr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new Or(Pr.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gu{constructor(t,e,n){this._authCredentials=e,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wu({}),this._settingsFrozen=!1,t instanceof Fu?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Or(Pr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(t.options.projectId)}(t))}get app(){if(!this._app)throw new Or(Pr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Or(Pr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wu(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Lr;switch(t.type){case"gapi":const e=t.client;return Cr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Vr(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Or(Pr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=$u.get(t);e&&(Sr("ComponentProvider","Removing Datastore"),$u.delete(t),e.terminate())}(this),Promise.resolve()}}class Xu{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xu(this.firestore,t,this._key)}}class Yu{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Yu(this.firestore,t,this._query)}}class Ju extends Yu{constructor(t,e,n){super(t,e,Qi(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xu(this.firestore,null,new fi(t))}withConverter(t){return new Ju(this.firestore,t,this._path)}}function Qu(t,e,...n){if(t=(0,a.m9)(t),Bu("collection","path",e),t instanceof Gu){const r=Jr.fromString(e,...n);return Zu(r),new Ju(t,null,r)}{if(!(t instanceof Xu||t instanceof Ju))throw new Or(Pr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jr.fromString(e,...n));return Zu(r),new Ju(t.firestore,null,r)}}function tl(t,e,...n){if(t=(0,a.m9)(t),1===arguments.length&&(e=qr.A()),Bu("doc","path",e),t instanceof Gu){const r=Jr.fromString(e,...n);return qu(r),new Xu(t,null,new fi(r))}{if(!(t instanceof Xu||t instanceof Ju))throw new Or(Pr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jr.fromString(e,...n));return qu(r),new Xu(t.firestore,t instanceof Ju?t.converter:null,new fi(r))}}class el{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new ac(this,"async_queue_retry"),this.bc=()=>{const t=oc();t&&Sr("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const t=oc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pc(),this.vc(t)}enterRestrictedMode(t){if(!this.yc){this.yc=!0,this.Ac=t||!1;const e=oc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc)}}enqueue(t){if(this.Pc(),this.yc)return new Promise((()=>{}));const e=new Nr;return this.vc((()=>this.yc&&this.Ac?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.gc.push(t),this.Vc())))}async Vc(){if(0!==this.gc.length){try{await this.gc[0](),this.gc.shift(),this.ur.reset()}catch(T){if(!va(T))throw T;Sr("AsyncQueue","Operation failed with retryable error: "+T)}this.gc.length>0&&this.ur.Zi((()=>this.Vc()))}}vc(t){const e=this.mc.then((()=>(this.Ic=!0,t().catch((t=>{this.Ec=t,this.Ic=!1;throw kr("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((t=>(this.Ic=!1,t))))));return this.mc=e,e}enqueueAfterDelay(t,e,n){this.Pc(),this.Rc.indexOf(t)>-1&&(e=0);const r=Bc.createAndSchedule(this,t,e,n,(t=>this.Sc(t)));return this.Tc.push(r),r}Pc(){this.Ec&&_r()}verifyOperationInProgress(){}async Dc(){let t;do{t=this.mc,await t}while(t!==this.mc)}Cc(t){for(const e of this.Tc)if(e.timerId===t)return!0;return!1}Nc(t){return this.Dc().then((()=>{this.Tc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.Tc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Dc()}))}kc(t){this.Rc.push(t)}Sc(t){const e=this.Tc.indexOf(t);this.Tc.splice(e,1)}}class nl extends Gu{constructor(t,e,n){super(t,e,n),this.type="firestore",this._queue=new el,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ol(this),this._firestoreClient.terminate()}}function rl(t=(0,i.Mq)()){return(0,i.qX)(t,"firestore").getImmediate()}function il(t){return t._firestoreClient||ol(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ol(t){var e;const n=t._freezeSettings(),r=function(t,e,n,r){return new Uu(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Ru(t._authCredentials,t._appCheckCredentials,t._queue,r)}class sl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Or(Pr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class al{constructor(t){this._byteString=t}static fromBase64String(t){try{return new al(ni.fromBase64String(t))}catch(t){throw new Or(Pr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new al(ni.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class cl{constructor(t){this._methodName=t}}class ul{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Or(Pr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Or(Pr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Zr(this._lat,t._lat)||Zr(this._long,t._long)}}const ll=/^__.*__$/;class hl{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Fo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function dl(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _r()}}class fl{constructor(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(t){return new fl(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Fc:!1});return r.Lc(t),r}Bc(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Fc:!1});return r.xc(),r}Uc(t){return this.Oc({path:void 0,Fc:!0})}qc(t){return Al(t,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lc(this.path.get(t))}Lc(t){if(0===t.length)throw this.qc("Document fields must not be empty");if(dl(this.$c)&&ll.test(t))throw this.qc('Document fields cannot begin and end with "__"')}}class pl{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=n||sc(t)}Qc(t,e,n,r=!1){return new fl({$c:t,methodName:e,jc:n,path:ti.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function ml(t){const e=t._freezeSettings(),n=sc(t._databaseId);return new pl(t._databaseId,!!e.ignoreUndefinedProperties,n)}class gl extends cl{_toFieldTransform(t){if(2!==t.$c)throw 1===t.$c?t.qc(`${this._methodName}() can only appear at the top level of your update data`):t.qc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gl}}function vl(t,e,n,r){const i=t.Qc(1,e,n);Il("Data must be an object, but it was:",i,r);const o=[],s=_i.empty();Gr(r,((t,r)=>{const c=xl(e,t,n);r=(0,a.m9)(r);const u=i.Bc(c);if(r instanceof gl)o.push(c);else{const t=wl(r,u);null!=t&&(o.push(c),s.set(c,t))}}));const c=new ei(o);return new hl(s,c,i.fieldTransforms)}function yl(t,e,n,r,i,o){const s=t.Qc(1,e,n),c=[Sl(e,r,n)],u=[i];if(o.length%2!=0)throw new Or(Pr.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<o.length;a+=2)c.push(Sl(e,o[a])),u.push(o[a+1]);const l=[],h=_i.empty();for(let f=c.length-1;f>=0;--f)if(!_l(l,c[f])){const t=c[f];let e=u[f];e=(0,a.m9)(e);const n=s.Bc(t);if(e instanceof gl)l.push(t);else{const r=wl(e,n);null!=r&&(l.push(t),h.set(t,r))}}const d=new ei(l);return new hl(h,d,s.fieldTransforms)}function bl(t,e,n,r=!1){return wl(n,t.Qc(r?4:3,e))}function wl(t,e){if(El(t=(0,a.m9)(t)))return Il("Unsupported field value:",e,t),Tl(t,e);if(t instanceof cl)return function(t,e){if(!dl(e.$c))throw e.qc(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.qc(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=wl(i,e.Uc(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,a.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vo(e.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Hr.fromDate(t);return{timestampValue:Ss(e.k,n)}}if(t instanceof Hr){const n=new Hr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ss(e.k,n)}}if(t instanceof ul)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof al)return{bytesValue:ks(e.k,t._byteString)};if(t instanceof Xu){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.qc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:_s(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.qc(`Unsupported field value: ${zu(t)}`)}(t,e)}function Tl(t,e){const n={};return Xr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(t,((t,r)=>{const i=wl(r,e.Mc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function El(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Hr||t instanceof ul||t instanceof al||t instanceof Xu||t instanceof cl)}function Il(t,e,n){if(!El(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=zu(n);throw"an object"===r?e.qc(t+" a custom object"):e.qc(t+" "+r)}}function Sl(t,e,n){if((e=(0,a.m9)(e))instanceof sl)return e._internalPath;if("string"==typeof e)return xl(t,e);throw Al("Field path arguments must be of type string or ",t,!1,void 0,n)}const kl=new RegExp("[~\\*/\\[\\]]");function xl(t,e,n){if(e.search(kl)>=0)throw Al(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sl(...e.split("."))._internalPath}catch(r){throw Al(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Al(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Or(Pr.INVALID_ARGUMENT,a+t+c)}function _l(t,e){return t.some((t=>t.isEqual(e)))}class Cl{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Rl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Pl("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Rl extends Cl{data(){return super.data()}}function Pl(t,e){return"string"==typeof e?xl(t,e):e instanceof sl?e._internalPath:e._delegate._internalPath}class Ol{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Nl extends Cl{constructor(t,e,n,r,i,o){super(t,e,n,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Dl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Pl("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Dl extends Nl{data(t={}){return super.data(t)}}class Ll{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ol(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Dl(this._firestore,this._userDataWriter,n.key,n,new Ol(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Or(Pr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>({type:"added",doc:new Dl(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Ol(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++})))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new Dl(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ol(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,o=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),o=n.indexOf(e.doc.key)),{type:Ml(e.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Ml(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _r()}}function jl(t){if(eo(t)&&0===t.explicitOrderBy.length)throw new Or(Pr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vl{}function Ul(t,...e){for(const n of e)t=n._apply(t);return t}class Fl extends Vl{constructor(t,e,n){super(),this.zc=t,this.Hc=e,this.Jc=n,this.type="where"}_apply(t){const e=ml(t.firestore),n=function(t,e,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Or(Pr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){Ql(s,o);const e=[];for(const n of s)e.push(Jl(r,t,n));a={arrayValue:{values:e}}}else a=Jl(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ql(s,o),a=bl(n,"where",s,"in"===o||"not-in"===o);const c=Mi.create(i,o,a);return function(t,e){if(e.V()){const n=ro(t);if(null!==n&&!n.isEqual(e.field))throw new Or(Pr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${e.field.toString()}'`);const r=no(t);null!==r&&th(t,e.field,r)}const n=function(t,e){for(const n of t.filters)if(e.indexOf(n.op)>=0)return n.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new Or(Pr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Or(Pr.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}(t,c),c}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Yu(t.firestore,t.converter,function(t,e){const n=t.filters.concat([e]);return new Yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}function $l(t,e,n){const r=e,i=Pl("where",t);return new Fl(i,r,n)}class Bl extends Vl{constructor(t,e){super(),this.zc=t,this.Yc=e,this.type="orderBy"}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new Or(Pr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Or(Pr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Ki(e,n);return function(t,e){if(null===no(t)){const n=ro(t);null!==n&&th(t,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new Yu(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new Yi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function ql(t,e="asc"){const n=e,r=Pl("orderBy",t);return new Bl(r,n)}class Zl extends Vl{constructor(t,e,n){super(),this.type=t,this.Xc=e,this.Zc=n}_apply(t){return new Yu(t.firestore,t.converter,ao(t._query,this.Xc,this.Zc))}}function zl(t){return Ku("limit",t),new Zl("limit",t,"F")}function Hl(t){return Ku("limitToLast",t),new Zl("limitToLast",t,"L")}class Kl extends Vl{constructor(t,e,n){super(),this.type=t,this.ta=e,this.ea=n}_apply(t){const e=Yl(t,this.type,this.ta,this.ea);return new Yu(t.firestore,t.converter,function(t,e){return new Yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}function Wl(...t){return new Kl("startAfter",t,!1)}class Gl extends Vl{constructor(t,e,n){super(),this.type=t,this.ta=e,this.ea=n}_apply(t){const e=Yl(t,this.type,this.ta,this.ea);return new Yu(t.firestore,t.converter,function(t,e){return new Yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))}}function Xl(...t){return new Gl("endBefore",t,!0)}function Yl(t,e,n,r){if(n[0]=(0,a.m9)(n[0]),n[0]instanceof Cl)return function(t,e,n,r,i){if(!r)throw new Or(Pr.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const s of oo(t))if(s.field.isKeyField())o.push(Ti(e,r.key));else{const t=r.data.field(s.field);if(ai(t))throw new Or(Pr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=s.field.canonicalString();throw new Or(Pr.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}o.push(t)}return new zi(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ml(t.firestore);return function(t,e,n,r,i,o){const s=t.explicitOrderBy;if(i.length>s.length)throw new Or(Pr.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<i.length;c++){const o=i[c];if(s[c].field.isKeyField()){if("string"!=typeof o)throw new Or(Pr.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof o}`);if(!io(t)&&-1!==o.indexOf("/"))throw new Or(Pr.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${o}' contains a slash.`);const n=t.path.child(Jr.fromString(o));if(!fi.isDocumentKey(n))throw new Or(Pr.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new fi(n);a.push(Ti(e,i))}else{const t=bl(n,r,o);a.push(t)}}return new zi(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Jl(t,e,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new Or(Pr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!io(e)&&-1!==n.indexOf("/"))throw new Or(Pr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Jr.fromString(n));if(!fi.isDocumentKey(r))throw new Or(Pr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ti(t,new fi(r))}if(n instanceof Xu)return Ti(t,n._key);throw new Or(Pr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zu(n)}.`)}function Ql(t,e){if(!Array.isArray(t)||0===t.length)throw new Or(Pr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new Or(Pr.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function th(t,e,n){if(!n.isEqual(e))throw new Or(Pr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class eh{convertValue(t,e="none"){switch(pi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return oi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(si(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw _r()}}convertObject(t,e){const n={};return Gr(t.fields,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new ul(oi(t.latitude),oi(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=ci(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ui(t));default:return null}}convertTimestamp(t){const e=ii(t);return new Hr(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Jr.fromString(t);Cr(Ys(n));const r=new Fu(n.get(1),n.get(3)),i=new fi(n.popFirst(5));return r.isEqual(e)||kr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}function nh(t){t=Hu(t,Xu);const e=Hu(t.firestore,nl);return ju(il(e),t._key).then((n=>ah(e,t,n)))}class rh extends eh{constructor(t){super(),this.firestore=t}convertBytes(t){return new al(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Xu(this.firestore,null,e)}}function ih(t){t=Hu(t,Yu);const e=Hu(t.firestore,nl),n=il(e),r=new rh(e);return jl(t._query),Vu(n,t._query).then((n=>new Ll(e,r,t,n)))}function oh(t,e,n,...r){t=Hu(t,Xu);const i=Hu(t.firestore,nl),o=ml(i);let s;return s="string"==typeof(e=(0,a.m9)(e))||e instanceof sl?yl(o,"updateDoc",t._key,e,n,r):vl(o,"updateDoc",t._key,e),sh(i,[s.toMutation(t._key,Po.exists(!0))])}function sh(t,e){return function(t,e){const n=new Nr;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=xu(t);try{const t=await function(t,e){const n=Rr(t),r=Hr.now(),i=e.reduce(((t,e)=>t.add(e.key)),us());let o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>n.Wn.vn(t,i).next((i=>{o=i;const s=[];for(const t of e){const e=Mo(t,o.get(t.key));null!=e&&s.push(new Fo(t.key,e,Ci(e.value.mapValue),Po.exists(!0)))}return n.An.addMutationBatch(t,r,s,e)})))).then((t=>(t.applyToLocalDocumentSet(o),{batchId:t.batchId,changes:o})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.Ko[t.currentUser.toKey()];r||(r=new Yo(Zr)),r=r.insert(e,n),t.Ko[t.currentUser.toKey()]=r}(r,t.batchId,n),await Eu(r,t.changes),await Cc(r.remoteStore)}catch(t){const e=qc(t,"Failed to persist write");n.reject(e)}}(await Lu(t),e,n))),n.promise}(il(t),e)}function ah(t,e,n){const r=n.docs.get(e._key),i=new rh(t);return new Nl(t,i,e._key,r,new Ol(n.hasPendingWrites,n.fromCache),e.converter)}!function(t,e=!0){!function(t){Tr=t}(i.Jn),(0,i.Xd)(new o.wA("firestore",((t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=new nl(r,new Mr(t.getProvider("auth-internal")),new Fr(t.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:e},n),i._setSettings(n),i}),"PUBLIC")),(0,i.KN)(br,"3.4.4",t),(0,i.KN)(br,"3.4.4","esm2017")}()},549:function(t,e,n){"use strict";n.d(e,{$C:function(){return b},V1:function(){return w}});var r=n(2238),i=n(4444),o=n(8463);function s(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function a(t){if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map((t=>a(t)));if("function"===typeof t||"object"===typeof t)return s(t,(t=>a(t)));throw new Error("Data cannot be encoded in JSON: "+t)}function c(t){if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((t=>c(t))):"function"===typeof t||"object"===typeof t?s(t,(t=>c(t))):t}const u="functions",l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class h extends i.ZR{constructor(t,e,n){super(`functions/${t}`,e||""),this.details=n}}class d{constructor(t,e,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((t=>this.auth=t),(()=>{})),this.messaging||e.get().then((t=>this.messaging=t),(()=>{})),this.appCheck||n.get().then((t=>this.appCheck=t),(()=>{}))}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return null===t||void 0===t?void 0:t.accessToken}catch(t){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(t){return}}async getAppCheckToken(){if(this.appCheck){const t=await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken()}}}const f="us-central1";class p{constructor(t,e,n,r,i="us-central1",o){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new d(e,n,r),this.cancelAllRequests=new Promise((t=>{this.deleteService=()=>Promise.resolve(t())}));try{const t=new URL(i);this.customDomain=t.origin,this.region=f}catch(s){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(t){const e=this.app.options.projectId;if(null!==this.emulatorOrigin){return`${this.emulatorOrigin}/${e}/${this.region}/${t}`}return null!==this.customDomain?`${this.customDomain}/${t}`:`https://${this.region}-${e}.cloudfunctions.net/${t}`}}function m(t,e,n){return r=>async function(t,e,n,r){const i=t._url(e),o={data:n=a(n)},s={},u=await t.contextProvider.getContext();u.authToken&&(s.Authorization="Bearer "+u.authToken);u.messagingToken&&(s["Firebase-Instance-ID-Token"]=u.messagingToken);null!==u.appCheckToken&&(s["X-Firebase-AppCheck"]=u.appCheckToken);const d=function(t){let e=null;return{promise:new Promise(((n,r)=>{e=setTimeout((()=>{r(new h("deadline-exceeded","deadline-exceeded"))}),t)})),cancel:()=>{e&&clearTimeout(e)}}}(r.timeout||7e4),f=await Promise.race([g(i,o,s,t.fetchImpl),d.promise,t.cancelAllRequests]);if(d.cancel(),!f)throw new h("cancelled","Firebase Functions instance was deleted.");const p=function(t,e){let n,r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r;try{const t=e&&e.error;if(t){const e=t.status;if("string"===typeof e){if(!l[e])return new h("internal","internal");r=l[e],i=e}const o=t.message;"string"===typeof o&&(i=o),n=t.details,void 0!==n&&(n=c(n))}}catch(o){}return"ok"===r?null:new h(r,i,n)}(f.status,f.json);if(p)throw p;if(!f.json)throw new h("internal","Response is not valid JSON object.");let m=f.json.data;"undefined"===typeof m&&(m=f.json.result);if("undefined"===typeof m)throw new h("internal","Response is missing data field.");return{data:c(m)}}(t,e,r,n||{})}async function g(t,e,n,r){let i;n["Content-Type"]="application/json";try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch(s){return{status:0,json:null}}let o=null;try{o=await i.json()}catch(s){}return{status:i.status,json:o}}const v="@firebase/functions",y="0.7.8";function b(t=(0,r.Mq)(),e="us-central1"){return(0,r.qX)((0,i.m9)(t),u).getImmediate({identifier:e})}function w(t,e,n){return m((0,i.m9)(t),e,n)}var T,E;T=fetch.bind(self),(0,r.Xd)(new o.wA(u,((t,{instanceIdentifier:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging-internal"),o=t.getProvider("app-check-internal");return new p(n,r,i,o,e,T)}),"PUBLIC").setMultipleInstances(!0)),(0,r.KN)(v,y,E),(0,r.KN)(v,y,"esm2017")},4444:function(t,e,n){"use strict";n.d(e,{BH:function(){return s},LL:function(){return y},ZR:function(){return v},zI:function(){return g},tV:function(){return o},$s:function(){return C},ne:function(){return x},vZ:function(){return T},pd:function(){return k},m9:function(){return R},z$:function(){return a},ru:function(){return u},d:function(){return h},xb:function(){return w},w1:function(){return d},hl:function(){return p},uI:function(){return c},b$:function(){return l},Mn:function(){return f},xO:function(){return I},zd:function(){return S},eu:function(){return m}});const r=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],o=i+1<t.length,s=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=e>>2,l=(3&e)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const s=i<t.length?n[t.charAt(i)]:64;++i;const a=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==o||null==s||null==a)throw Error();const c=e<<2|o>>4;if(r.push(c),64!==s){const t=o<<4&240|s>>2;if(r.push(t),64!==a){const t=s<<6&192|a;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},o=function(t){try{return i.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};class s{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function a(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function u(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function l(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function h(){return a().indexOf("Electron/")>=0}function d(){const t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function f(){return a().indexOf("MSAppHost/")>=0}function p(){return"object"===typeof indexedDB}function m(){return new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))}function g(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class v extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,v.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y.prototype.create)}}class y{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],o=i?function(t,e){return t.replace(b,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new v(r,s,n)}}const b=/\{\$([^}]+)}/g;function w(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function T(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],o=e[i];if(E(n)&&E(o)){if(!T(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function E(t){return null!==t&&"object"===typeof t}function I(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function S(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function k(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function x(t,e){const n=new A(t,e);return n.subscribe.bind(n)}class A{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function _(){}function C(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function R(t){return t&&t._delegate?t._delegate:t}},7192:function(t,e,n){"use strict";function r(t,e,n){const r={};return Object.keys(t).forEach((i=>{r[i]=t[i].reduce(((t,r)=>(r&&(n&&n[r]&&t.push(n[r]),t.push(e(r))),t)),[]).join(" ")})),r}n.d(e,{Z:function(){return r}})},3620:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});const r=t=>t;var i=(()=>{let t=r;return{configure(e){t=e},generate:e=>t(e),reset(){t=r}}})();const o={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function s(t,e){return o[e]||`${i.generate(t)}-${e}`}},6087:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(3620);function i(t,e){const n={};return e.forEach((e=>{n[e]=(0,r.Z)(t,e)})),n}},8442:function(t,e){"use strict";e.Z=function(t){return"string"===typeof t}},5568:function(t,e,n){"use strict";n.d(e,{Z:function(){return j}});var r=n(3366),i=n(7462),o=n(7294),s=n(6010),a=n(7192),c=n(1796),u=n(2151),l=n(7623),h=n(8216),d=n(5113),f=n(3620),p=n(6087);function m(t){return(0,f.Z)("MuiAlert",t)}var g=(0,p.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),v=n(2022);function y(t){return(0,f.Z)("MuiIconButton",t)}var b=(0,p.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),w=n(5893);const T=["edge","children","className","color","disabled","disableFocusRipple","size"],E=(0,u.ZP)(v.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,"default"!==n.color&&e[`color${(0,h.Z)(n.color)}`],n.edge&&e[`edge${(0,h.Z)(n.edge)}`],e[`size${(0,h.Z)(n.size)}`]]}})((({theme:t,ownerState:e})=>(0,i.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:(0,c.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12})),(({theme:t,ownerState:e})=>(0,i.Z)({},"inherit"===e.color&&{color:"inherit"},"inherit"!==e.color&&"default"!==e.color&&(0,i.Z)({color:t.palette[e.color].main},!e.disableRipple&&{"&:hover":{backgroundColor:(0,c.Fq)(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===e.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===e.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${b.disabled}`]:{backgroundColor:"transparent",color:t.palette.action.disabled}})));var I,S=o.forwardRef((function(t,e){const n=(0,l.Z)({props:t,name:"MuiIconButton"}),{edge:o=!1,children:c,className:u,color:d="default",disabled:f=!1,disableFocusRipple:p=!1,size:m="medium"}=n,g=(0,r.Z)(n,T),v=(0,i.Z)({},n,{edge:o,color:d,disabled:f,disableFocusRipple:p,size:m}),b=(t=>{const{classes:e,disabled:n,color:r,edge:i,size:o}=t,s={root:["root",n&&"disabled","default"!==r&&`color${(0,h.Z)(r)}`,i&&`edge${(0,h.Z)(i)}`,`size${(0,h.Z)(o)}`]};return(0,a.Z)(s,y,e)})(v);return(0,w.jsx)(E,(0,i.Z)({className:(0,s.Z)(b.root,u),centerRipple:!0,focusRipple:!p,disabled:f,ref:e,ownerState:v},g,{children:c}))})),k=n(8169),x=(0,k.Z)((0,w.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),A=(0,k.Z)((0,w.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),_=(0,k.Z)((0,w.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),C=(0,k.Z)((0,w.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),R=(0,k.Z)((0,w.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const P=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],O=(0,u.ZP)(d.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${(0,h.Z)(n.color||n.severity)}`]]}})((({theme:t,ownerState:e})=>{const n="light"===t.palette.mode?c._j:c.$n,r="light"===t.palette.mode?c.$n:c._j,o=e.color||e.severity;return(0,i.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===e.variant&&{color:n(t.palette[o].light,.6),backgroundColor:r(t.palette[o].light,.9),[`& .${g.icon}`]:{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}},o&&"outlined"===e.variant&&{color:n(t.palette[o].light,.6),border:`1px solid ${t.palette[o].light}`,[`& .${g.icon}`]:{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}},o&&"filled"===e.variant&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:"dark"===t.palette.mode?t.palette[o].dark:t.palette[o].main})})),N=(0,u.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),D=(0,u.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),L=(0,u.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),M={success:(0,w.jsx)(x,{fontSize:"inherit"}),warning:(0,w.jsx)(A,{fontSize:"inherit"}),error:(0,w.jsx)(_,{fontSize:"inherit"}),info:(0,w.jsx)(C,{fontSize:"inherit"})};var j=o.forwardRef((function(t,e){const n=(0,l.Z)({props:t,name:"MuiAlert"}),{action:o,children:c,className:u,closeText:d="Close",color:f,icon:p,iconMapping:g=M,onClose:v,role:y="alert",severity:b="success",variant:T="standard"}=n,E=(0,r.Z)(n,P),k=(0,i.Z)({},n,{color:f,severity:b,variant:T}),x=(t=>{const{variant:e,color:n,severity:r,classes:i}=t,o={root:["root",`${e}${(0,h.Z)(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return(0,a.Z)(o,m,i)})(k);return(0,w.jsxs)(O,(0,i.Z)({role:y,elevation:0,ownerState:k,className:(0,s.Z)(x.root,u),ref:e},E,{children:[!1!==p?(0,w.jsx)(N,{ownerState:k,className:x.icon,children:p||g[b]||M[b]}):null,(0,w.jsx)(D,{ownerState:k,className:x.message,children:c}),null!=o?(0,w.jsx)(L,{className:x.action,children:o}):null,null==o&&v?(0,w.jsx)(L,{ownerState:k,className:x.action,children:(0,w.jsx)(S,{size:"small","aria-label":d,title:d,color:"inherit",onClick:v,children:I||(I=(0,w.jsx)(R,{fontSize:"small"}))})}):null]}))}))},7227:function(t,e,n){"use strict";n.d(e,{Z:function(){return w}});var r=n(3366),i=n(7462),o=n(7294),s=n(8442),a=n(6010),c=n(7192),u=n(6087),l=n(3620);function h(t){return(0,l.Z)("MuiBackdrop",t)}(0,u.Z)("MuiBackdrop",["root","invisible"]);var d=n(5893);const f=["classes","className","invisible","component","components","componentsProps","theme"];var p=o.forwardRef((function(t,e){const{classes:n,className:o,invisible:u=!1,component:l="div",components:p={},componentsProps:m={},theme:g}=t,v=(0,r.Z)(t,f),y=(0,i.Z)({},t,{classes:n,invisible:u}),b=(t=>{const{classes:e,invisible:n}=t,r={root:["root",n&&"invisible"]};return(0,c.Z)(r,h,e)})(y),w=p.Root||l,T=m.root||{};return(0,d.jsx)(w,(0,i.Z)({"aria-hidden":!0},T,!(0,s.Z)(w)&&{as:l,ownerState:(0,i.Z)({},y,T.ownerState),theme:g},{ref:e},v,{className:(0,a.Z)(b.root,T.className,o)}))})),m=n(2151),g=n(7623),v=n(6628);const y=["children","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],b=(0,m.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})((({ownerState:t})=>(0,i.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})));var w=o.forwardRef((function(t,e){var n;const o=(0,g.Z)({props:t,name:"MuiBackdrop"}),{children:a,components:c={},componentsProps:u={},className:l,invisible:h=!1,open:f,transitionDuration:m,TransitionComponent:w=v.Z}=o,T=(0,r.Z)(o,y),E=(t=>{const{classes:e}=t;return e})((0,i.Z)({},o,{invisible:h}));return(0,d.jsx)(w,(0,i.Z)({in:f,timeout:m},T,{children:(0,d.jsx)(p,{className:l,invisible:h,components:(0,i.Z)({Root:b},c),componentsProps:{root:(0,i.Z)({},u.root,(!c.Root||!(0,s.Z)(c.Root))&&{ownerState:(0,i.Z)({},null==(n=u.root)?void 0:n.ownerState)})},classes:E,ref:e,children:a})}))}))},2022:function(t,e,n){"use strict";n.d(e,{Z:function(){return q}});var r=n(7462),i=n(3366),o=n(7294),s=n(6010),a=n(7192),c=n(2151),u=n(7623),l=n(1705),h=n(2068),d=n(9962).Z;var f=n(5068),p=n(220);function m(t,e){var n=Object.create(null);return t&&o.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,o.isValidElement)(t)?e(t):t}(t)})),n}function g(t,e,n){return null!=n[e]?n[e]:t.props[e]}function v(t,e,n){var r=m(t.children),i=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var s in t)s in e?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var c in e){if(i[c])for(r=0;r<i[c].length;r++){var u=i[c][r];a[i[c][r]]=n(u)}a[c]=n(c)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(e,r);return Object.keys(i).forEach((function(s){var a=i[s];if((0,o.isValidElement)(a)){var c=s in e,u=s in r,l=e[s],h=(0,o.isValidElement)(l)&&!l.props.in;!u||c&&!h?u||!c||h?u&&c&&(0,o.isValidElement)(l)&&(i[s]=(0,o.cloneElement)(a,{onExited:n.bind(null,a),in:l.props.in,exit:g(a,"exit",t),enter:g(a,"enter",t)})):i[s]=(0,o.cloneElement)(a,{in:!1}):i[s]=(0,o.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:g(a,"exit",t),enter:g(a,"enter",t)})}})),i}var y=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},b=function(t){function e(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,f.Z)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var n,r,i=e.children,s=e.handleExited;return{children:e.firstRender?(n=t,r=s,m(n.children,(function(t){return(0,o.cloneElement)(t,{onExited:r.bind(null,t),in:!0,appear:g(t,"appear",n),enter:g(t,"enter",n),exit:g(t,"exit",n)})}))):v(t,i,s),firstRender:!1}},n.handleExited=function(t,e){var n=m(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=(0,r.Z)({},e.children);return delete n[t.key],{children:n}})))},n.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=(0,i.Z)(t,["component","childFactory"]),s=this.state.contextValue,a=y(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?o.createElement(p.Z.Provider,{value:s},a):o.createElement(p.Z.Provider,{value:s},o.createElement(e,r,a))},e}(o.Component);b.propTypes={},b.defaultProps={component:"div",childFactory:function(t){return t}};var w=b,T=n(917),E=n(5893);var I=function(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:a,rippleSize:c,in:u,onExited:l,timeout:h}=t,[d,f]=o.useState(!1),p=(0,s.Z)(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:c,height:c,top:-c/2+a,left:-c/2+i},g=(0,s.Z)(n.child,d&&n.childLeaving,r&&n.childPulsate);return u||d||f(!0),o.useEffect((()=>{if(!u&&null!=l){const t=setTimeout(l,h);return()=>{clearTimeout(t)}}}),[l,u,h]),(0,E.jsx)("span",{className:p,style:m,children:(0,E.jsx)("span",{className:g})})},S=n(6087);var k=(0,S.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);const x=["center","classes","className"];let A,_,C,R,P=t=>t;const O=(0,T.F4)(A||(A=P`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),N=(0,T.F4)(_||(_=P`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),D=(0,T.F4)(C||(C=P`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),L=(0,c.ZP)("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),M=(0,c.ZP)(I,{name:"MuiTouchRipple",slot:"Ripple"})(R||(R=P`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),k.rippleVisible,O,550,(({theme:t})=>t.transitions.easing.easeInOut),k.ripplePulsate,(({theme:t})=>t.transitions.duration.shorter),k.child,k.childLeaving,N,550,(({theme:t})=>t.transitions.easing.easeInOut),k.childPulsate,D,(({theme:t})=>t.transitions.easing.easeInOut));var j=o.forwardRef((function(t,e){const n=(0,u.Z)({props:t,name:"MuiTouchRipple"}),{center:a=!1,classes:c={},className:l}=n,h=(0,i.Z)(n,x),[d,f]=o.useState([]),p=o.useRef(0),m=o.useRef(null);o.useEffect((()=>{m.current&&(m.current(),m.current=null)}),[d]);const g=o.useRef(!1),v=o.useRef(null),y=o.useRef(null),b=o.useRef(null);o.useEffect((()=>()=>{clearTimeout(v.current)}),[]);const T=o.useCallback((t=>{const{pulsate:e,rippleX:n,rippleY:r,rippleSize:i,cb:o}=t;f((t=>[...t,(0,E.jsx)(M,{classes:{ripple:(0,s.Z)(c.ripple,k.ripple),rippleVisible:(0,s.Z)(c.rippleVisible,k.rippleVisible),ripplePulsate:(0,s.Z)(c.ripplePulsate,k.ripplePulsate),child:(0,s.Z)(c.child,k.child),childLeaving:(0,s.Z)(c.childLeaving,k.childLeaving),childPulsate:(0,s.Z)(c.childPulsate,k.childPulsate)},timeout:550,pulsate:e,rippleX:n,rippleY:r,rippleSize:i},p.current)])),p.current+=1,m.current=o}),[c]),I=o.useCallback(((t={},e={},n)=>{const{pulsate:r=!1,center:i=a||e.pulsate,fakeElement:o=!1}=e;if("mousedown"===t.type&&g.current)return void(g.current=!1);"touchstart"===t.type&&(g.current=!0);const s=o?null:b.current,c=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let u,l,h;if(i||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)u=Math.round(c.width/2),l=Math.round(c.height/2);else{const{clientX:e,clientY:n}=t.touches?t.touches[0]:t;u=Math.round(e-c.left),l=Math.round(n-c.top)}if(i)h=Math.sqrt((2*c.width**2+c.height**2)/3),h%2===0&&(h+=1);else{const t=2*Math.max(Math.abs((s?s.clientWidth:0)-u),u)+2,e=2*Math.max(Math.abs((s?s.clientHeight:0)-l),l)+2;h=Math.sqrt(t**2+e**2)}t.touches?null===y.current&&(y.current=()=>{T({pulsate:r,rippleX:u,rippleY:l,rippleSize:h,cb:n})},v.current=setTimeout((()=>{y.current&&(y.current(),y.current=null)}),80)):T({pulsate:r,rippleX:u,rippleY:l,rippleSize:h,cb:n})}),[a,T]),S=o.useCallback((()=>{I({},{pulsate:!0})}),[I]),A=o.useCallback(((t,e)=>{if(clearTimeout(v.current),"touchend"===t.type&&y.current)return y.current(),y.current=null,void(v.current=setTimeout((()=>{A(t,e)})));y.current=null,f((t=>t.length>0?t.slice(1):t)),m.current=e}),[]);return o.useImperativeHandle(e,(()=>({pulsate:S,start:I,stop:A})),[S,I,A]),(0,E.jsx)(L,(0,r.Z)({className:(0,s.Z)(c.root,k.root,l),ref:b},h,{children:(0,E.jsx)(w,{component:null,exit:!0,children:d})}))})),V=n(3620);function U(t){return(0,V.Z)("MuiButtonBase",t)}var F=(0,S.Z)("MuiButtonBase",["root","disabled","focusVisible"]);const $=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],B=(0,c.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${F.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}});var q=o.forwardRef((function(t,e){const n=(0,u.Z)({props:t,name:"MuiButtonBase"}),{action:c,centerRipple:f=!1,children:p,className:m,component:g="button",disabled:v=!1,disableRipple:y=!1,disableTouchRipple:b=!1,focusRipple:w=!1,LinkComponent:T="a",onBlur:I,onClick:S,onContextMenu:k,onDragLeave:x,onFocus:A,onFocusVisible:_,onKeyDown:C,onKeyUp:R,onMouseDown:P,onMouseLeave:O,onMouseUp:N,onTouchEnd:D,onTouchMove:L,onTouchStart:M,tabIndex:V=0,TouchRippleProps:F,type:q}=n,Z=(0,i.Z)(n,$),z=o.useRef(null),H=o.useRef(null),{isFocusVisibleRef:K,onFocus:W,onBlur:G,ref:X}=d(),[Y,J]=o.useState(!1);function Q(t,e,n=b){return(0,h.Z)((r=>{e&&e(r);return!n&&H.current&&H.current[t](r),!0}))}v&&Y&&J(!1),o.useImperativeHandle(c,(()=>({focusVisible:()=>{J(!0),z.current.focus()}})),[]),o.useEffect((()=>{Y&&w&&!y&&H.current.pulsate()}),[y,w,Y]);const tt=Q("start",P),et=Q("stop",k),nt=Q("stop",x),rt=Q("stop",N),it=Q("stop",(t=>{Y&&t.preventDefault(),O&&O(t)})),ot=Q("start",M),st=Q("stop",D),at=Q("stop",L),ct=Q("stop",(t=>{G(t),!1===K.current&&J(!1),I&&I(t)}),!1),ut=(0,h.Z)((t=>{z.current||(z.current=t.currentTarget),W(t),!0===K.current&&(J(!0),_&&_(t)),A&&A(t)})),lt=()=>{const t=z.current;return g&&"button"!==g&&!("A"===t.tagName&&t.href)},ht=o.useRef(!1),dt=(0,h.Z)((t=>{w&&!ht.current&&Y&&H.current&&" "===t.key&&(ht.current=!0,H.current.stop(t,(()=>{H.current.start(t)}))),t.target===t.currentTarget&&lt()&&" "===t.key&&t.preventDefault(),C&&C(t),t.target===t.currentTarget&&lt()&&"Enter"===t.key&&!v&&(t.preventDefault(),S&&S(t))})),ft=(0,h.Z)((t=>{w&&" "===t.key&&H.current&&Y&&!t.defaultPrevented&&(ht.current=!1,H.current.stop(t,(()=>{H.current.pulsate(t)}))),R&&R(t),S&&t.target===t.currentTarget&&lt()&&" "===t.key&&!t.defaultPrevented&&S(t)}));let pt=g;"button"===pt&&(Z.href||Z.to)&&(pt=T);const mt={};"button"===pt?(mt.type=void 0===q?"button":q,mt.disabled=v):(Z.href||Z.to||(mt.role="button"),v&&(mt["aria-disabled"]=v));const gt=(0,l.Z)(X,z),vt=(0,l.Z)(e,gt),[yt,bt]=o.useState(!1);o.useEffect((()=>{bt(!0)}),[]);const wt=yt&&!y&&!v;const Tt=(0,r.Z)({},n,{centerRipple:f,component:g,disabled:v,disableRipple:y,disableTouchRipple:b,focusRipple:w,tabIndex:V,focusVisible:Y}),Et=(t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o={root:["root",e&&"disabled",n&&"focusVisible"]},s=(0,a.Z)(o,U,i);return n&&r&&(s.root+=` ${r}`),s})(Tt);return(0,E.jsxs)(B,(0,r.Z)({as:pt,className:(0,s.Z)(Et.root,m),ownerState:Tt,onBlur:ct,onClick:S,onContextMenu:et,onFocus:ut,onKeyDown:dt,onKeyUp:ft,onMouseDown:tt,onMouseLeave:it,onMouseUp:rt,onDragLeave:nt,onTouchEnd:st,onTouchMove:at,onTouchStart:ot,ref:vt,tabIndex:v?-1:V,type:q},mt,Z,{children:[p,wt?(0,E.jsx)(j,(0,r.Z)({ref:H,center:f},F)):null]}))}))},8456:function(t,e,n){"use strict";n.d(e,{Z:function(){return A}});var r=n(3366),i=n(7462),o=n(7294),s=n(6010),a=n(7192),c=n(917),u=n(8216),l=n(7623),h=n(2151),d=n(3620);function f(t){return(0,d.Z)("MuiCircularProgress",t)}(0,n(6087).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var p=n(5893);const m=["className","color","disableShrink","size","style","thickness","value","variant"];let g,v,y,b,w=t=>t;const T=44,E=(0,c.F4)(g||(g=w`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),I=(0,c.F4)(v||(v=w`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),S=(0,h.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${(0,u.Z)(n.color)}`]]}})((({ownerState:t,theme:e})=>(0,i.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:e.transitions.create("transform")},"inherit"!==t.color&&{color:e.palette[t.color].main})),(({ownerState:t})=>"indeterminate"===t.variant&&(0,c.iv)(y||(y=w`
      animation: ${0} 1.4s linear infinite;
    `),E))),k=(0,h.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),x=(0,h.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${(0,u.Z)(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})((({ownerState:t,theme:e})=>(0,i.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:e.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:t})=>"indeterminate"===t.variant&&!t.disableShrink&&(0,c.iv)(b||(b=w`
      animation: ${0} 1.4s ease-in-out infinite;
    `),I)));var A=o.forwardRef((function(t,e){const n=(0,l.Z)({props:t,name:"MuiCircularProgress"}),{className:o,color:c="primary",disableShrink:h=!1,size:d=40,style:g,thickness:v=3.6,value:y=0,variant:b="indeterminate"}=n,w=(0,r.Z)(n,m),E=(0,i.Z)({},n,{color:c,disableShrink:h,size:d,thickness:v,value:y,variant:b}),I=(t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${(0,u.Z)(r)}`],svg:["svg"],circle:["circle",`circle${(0,u.Z)(n)}`,i&&"circleDisableShrink"]};return(0,a.Z)(o,f,e)})(E),A={},_={},C={};if("determinate"===b){const t=2*Math.PI*((T-v)/2);A.strokeDasharray=t.toFixed(3),C["aria-valuenow"]=Math.round(y),A.strokeDashoffset=`${((100-y)/100*t).toFixed(3)}px`,_.transform="rotate(-90deg)"}return(0,p.jsx)(S,(0,i.Z)({className:(0,s.Z)(I.root,o),style:(0,i.Z)({width:d,height:d},_,g),ownerState:E,ref:e,role:"progressbar"},C,w,{children:(0,p.jsx)(k,{className:I.svg,ownerState:E,viewBox:"22 22 44 44",children:(0,p.jsx)(x,{className:I.circle,style:A,ownerState:E,cx:T,cy:T,r:(T-v)/2,fill:"none",strokeWidth:v})})}))}))},6628:function(t,e,n){"use strict";var r=n(7462),i=n(3366),o=n(7294),s=n(8885),a=n(6067),c=n(2734),u=n(577),l=n(1705),h=n(5893);const d=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],f={entering:{opacity:1},entered:{opacity:1}},p={enter:a.x9.enteringScreen,exit:a.x9.leavingScreen},m=o.forwardRef((function(t,e){const{addEndListener:n,appear:a=!0,children:m,easing:g,in:v,onEnter:y,onEntered:b,onEntering:w,onExit:T,onExited:E,onExiting:I,style:S,timeout:k=p,TransitionComponent:x=s.ZP}=t,A=(0,i.Z)(t,d),_=(0,c.Z)(),C=o.useRef(null),R=(0,l.Z)(m.ref,e),P=(0,l.Z)(C,R),O=t=>e=>{if(t){const n=C.current;void 0===e?t(n):t(n,e)}},N=O(w),D=O(((t,e)=>{(0,u.n)(t);const n=(0,u.C)({style:S,timeout:k,easing:g},{mode:"enter"});t.style.webkitTransition=_.transitions.create("opacity",n),t.style.transition=_.transitions.create("opacity",n),y&&y(t,e)})),L=O(b),M=O(I),j=O((t=>{const e=(0,u.C)({style:S,timeout:k,easing:g},{mode:"exit"});t.style.webkitTransition=_.transitions.create("opacity",e),t.style.transition=_.transitions.create("opacity",e),T&&T(t)})),V=O(E);return(0,h.jsx)(x,(0,r.Z)({appear:a,in:v,nodeRef:C,onEnter:D,onEntered:L,onEntering:N,onExit:j,onExited:V,onExiting:M,addEndListener:t=>{n&&n(C.current,t)},timeout:k},A,{children:(t,e)=>o.cloneElement(m,(0,r.Z)({style:(0,r.Z)({opacity:0,visibility:"exited"!==t||v?void 0:"hidden"},f[t],S,m.props.style),ref:P},e))}))}));e.Z=m},6514:function(t,e,n){"use strict";var r=n(7462),i=n(3366),o=n(7294),s=n(8885),a=n(2734),c=n(577),u=n(1705),l=n(5893);const h=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function d(t){return`scale(${t}, ${t**2})`}const f={entering:{opacity:1,transform:d(1)},entered:{opacity:1,transform:"none"}},p=o.forwardRef((function(t,e){const{addEndListener:n,appear:p=!0,children:m,easing:g,in:v,onEnter:y,onEntered:b,onEntering:w,onExit:T,onExited:E,onExiting:I,style:S,timeout:k="auto",TransitionComponent:x=s.ZP}=t,A=(0,i.Z)(t,h),_=o.useRef(),C=o.useRef(),R=(0,a.Z)(),P=o.useRef(null),O=(0,u.Z)(m.ref,e),N=(0,u.Z)(P,O),D=t=>e=>{if(t){const n=P.current;void 0===e?t(n):t(n,e)}},L=D(w),M=D(((t,e)=>{(0,c.n)(t);const{duration:n,delay:r,easing:i}=(0,c.C)({style:S,timeout:k,easing:g},{mode:"enter"});let o;"auto"===k?(o=R.transitions.getAutoHeightDuration(t.clientHeight),C.current=o):o=n,t.style.transition=[R.transitions.create("opacity",{duration:o,delay:r}),R.transitions.create("transform",{duration:.666*o,delay:r,easing:i})].join(","),y&&y(t,e)})),j=D(b),V=D(I),U=D((t=>{const{duration:e,delay:n,easing:r}=(0,c.C)({style:S,timeout:k,easing:g},{mode:"exit"});let i;"auto"===k?(i=R.transitions.getAutoHeightDuration(t.clientHeight),C.current=i):i=e,t.style.transition=[R.transitions.create("opacity",{duration:i,delay:n}),R.transitions.create("transform",{duration:.666*i,delay:n||.333*i,easing:r})].join(","),t.style.opacity="0",t.style.transform=d(.75),T&&T(t)})),F=D(E);return o.useEffect((()=>()=>{clearTimeout(_.current)}),[]),(0,l.jsx)(x,(0,r.Z)({appear:p,in:v,nodeRef:P,onEnter:M,onEntered:j,onEntering:L,onExit:U,onExited:F,onExiting:V,addEndListener:t=>{"auto"===k&&(_.current=setTimeout(t,C.current||0)),n&&n(P.current,t)},timeout:"auto"===k?null:k},A,{children:(t,e)=>o.cloneElement(m,(0,r.Z)({style:(0,r.Z)({opacity:0,transform:d(.75),visibility:"exited"!==t||v?void 0:"hidden"},f[t],S,m.props.style),ref:N},e))}))}));p.muiSupportAuto=!0,e.Z=p},5113:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var r=n(3366),i=n(7462),o=n(7294),s=n(6010),a=n(7192),c=n(1796),u=n(2151),l=n(7623),h=n(3620);function d(t){return(0,h.Z)("MuiPaper",t)}(0,n(6087).Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var f=n(5893);const p=["className","component","elevation","square","variant"],m=t=>{let e;return e=t<1?5.11916*t**2:4.5*Math.log(t+1)+2,(e/100).toFixed(2)},g=(0,u.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,"elevation"===n.variant&&e[`elevation${n.elevation}`]]}})((({theme:t,ownerState:e})=>(0,i.Z)({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},"outlined"===e.variant&&{border:`1px solid ${t.palette.divider}`},"elevation"===e.variant&&(0,i.Z)({boxShadow:t.shadows[e.elevation]},"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${(0,c.Fq)("#fff",m(e.elevation))}, ${(0,c.Fq)("#fff",m(e.elevation))})`}))));var v=o.forwardRef((function(t,e){const n=(0,l.Z)({props:t,name:"MuiPaper"}),{className:o,component:c="div",elevation:u=1,square:h=!1,variant:m="elevation"}=n,v=(0,r.Z)(n,p),y=(0,i.Z)({},n,{component:c,elevation:u,square:h,variant:m}),b=(t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded","elevation"===r&&`elevation${n}`]};return(0,a.Z)(o,d,i)})(y);return(0,f.jsx)(g,(0,i.Z)({as:c,ownerState:y,className:(0,s.Z)(b.root,o),ref:e},v))}))},6067:function(t,e,n){"use strict";n.d(e,{x9:function(){return a},ZP:function(){return l}});var r=n(3366),i=n(7462);const o=["duration","easing","delay"],s={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function c(t){return`${Math.round(t)}ms`}function u(t){if(!t)return 0;const e=t/36;return Math.round(10*(4+15*e**.25+e/5))}function l(t){const e=(0,i.Z)({},s,t.easing),n=(0,i.Z)({},a,t.duration);return(0,i.Z)({getAutoHeightDuration:u,create:(t=["all"],i={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:u=0}=i;(0,r.Z)(i,o);return(Array.isArray(t)?t:[t]).map((t=>`${t} ${"string"===typeof s?s:c(s)} ${a} ${"string"===typeof u?u:c(u)}`)).join(",")}},t,{easing:e,duration:n})}},1410:function(t,e,n){"use strict";n.d(e,{Z:function(){return O}});var r=n(7462),i=n(3366),o=n(9766),s=n(6500);var a=n(1387),c=n(1796);var u={black:"#000",white:"#fff"};var l={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var h={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var d={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var f={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var p={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var m={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const v=["mode","contrastThreshold","tonalOffset"],y={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:u.white,default:u.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},b={text:{primary:u.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:u.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w(t,e,n,r){const i=r.light||r,o=r.dark||1.5*r;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:"light"===e?t.light=(0,c.$n)(t.main,i):"dark"===e&&(t.dark=(0,c._j)(t.main,o)))}function T(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:s=.2}=t,T=(0,i.Z)(t,v),E=t.primary||function(t="light"){return"dark"===t?{main:p[200],light:p[50],dark:p[400]}:{main:p[700],light:p[400],dark:p[800]}}(e),I=t.secondary||function(t="light"){return"dark"===t?{main:h[200],light:h[50],dark:h[400]}:{main:h[500],light:h[300],dark:h[700]}}(e),S=t.error||function(t="light"){return"dark"===t?{main:d[500],light:d[300],dark:d[700]}:{main:d[700],light:d[400],dark:d[800]}}(e),k=t.info||function(t="light"){return"dark"===t?{main:m[400],light:m[300],dark:m[700]}:{main:m[700],light:m[500],dark:m[900]}}(e),x=t.success||function(t="light"){return"dark"===t?{main:g[400],light:g[300],dark:g[700]}:{main:g[800],light:g[500],dark:g[900]}}(e),A=t.warning||function(t="light"){return"dark"===t?{main:f[400],light:f[300],dark:f[700]}:{main:"#ed6c02",light:f[500],dark:f[900]}}(e);function _(t){return(0,c.mi)(t,b.text.primary)>=n?b.text.primary:y.text.primary}const C=({color:t,name:e,mainShade:n=500,lightShade:i=300,darkShade:o=700})=>{if(!(t=(0,r.Z)({},t)).main&&t[n]&&(t.main=t[n]),!t.hasOwnProperty("main"))throw new Error((0,a.Z)(11,e?` (${e})`:"",n));if("string"!==typeof t.main)throw new Error((0,a.Z)(12,e?` (${e})`:"",JSON.stringify(t.main)));return w(t,"light",i,s),w(t,"dark",o,s),t.contrastText||(t.contrastText=_(t.main)),t},R={dark:b,light:y};return(0,o.Z)((0,r.Z)({common:u,mode:e,primary:C({color:E,name:"primary"}),secondary:C({color:I,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:S,name:"error"}),warning:C({color:A,name:"warning"}),info:C({color:k,name:"info"}),success:C({color:x,name:"success"}),grey:l,contrastThreshold:n,getContrastText:_,augmentColor:C,tonalOffset:s},R[e]),T)}const E=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const I={textTransform:"uppercase"},S='"Roboto", "Helvetica", "Arial", sans-serif';function k(t,e){const n="function"===typeof e?e(t):e,{fontFamily:s=S,fontSize:a=14,fontWeightLight:c=300,fontWeightRegular:u=400,fontWeightMedium:l=500,fontWeightBold:h=700,htmlFontSize:d=16,allVariants:f,pxToRem:p}=n,m=(0,i.Z)(n,E);const g=a/14,v=p||(t=>t/d*g+"rem"),y=(t,e,n,i,o)=>{return(0,r.Z)({fontFamily:s,fontWeight:t,fontSize:v(e),lineHeight:n},s===S?{letterSpacing:(a=i/e,Math.round(1e5*a)/1e5)+"em"}:{},o,f);var a},b={h1:y(c,96,1.167,-1.5),h2:y(c,60,1.2,-.5),h3:y(u,48,1.167,0),h4:y(u,34,1.235,.25),h5:y(u,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(u,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(u,16,1.5,.15),body2:y(u,14,1.43,.15),button:y(l,14,1.75,.4,I),caption:y(u,12,1.66,.4),overline:y(u,12,2.66,1,I)};return(0,o.Z)((0,r.Z)({htmlFontSize:d,pxToRem:v,fontFamily:s,fontSize:a,fontWeightLight:c,fontWeightRegular:u,fontWeightMedium:l,fontWeightBold:h},b),m,{clone:!1})}function x(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,0.2)`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,0.14)`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,0.12)`].join(",")}var A=["none",x(0,2,1,-1,0,1,1,0,0,1,3,0),x(0,3,1,-2,0,2,2,0,0,1,5,0),x(0,3,3,-2,0,3,4,0,0,1,8,0),x(0,2,4,-1,0,4,5,0,0,1,10,0),x(0,3,5,-1,0,5,8,0,0,1,14,0),x(0,3,5,-1,0,6,10,0,0,1,18,0),x(0,4,5,-2,0,7,10,1,0,2,16,1),x(0,5,5,-3,0,8,10,1,0,3,14,2),x(0,5,6,-3,0,9,12,1,0,3,16,2),x(0,6,6,-3,0,10,14,1,0,4,18,3),x(0,6,7,-4,0,11,15,1,0,4,20,3),x(0,7,8,-4,0,12,17,2,0,5,22,4),x(0,7,8,-4,0,13,19,2,0,5,24,4),x(0,7,9,-4,0,14,21,2,0,5,26,4),x(0,8,9,-5,0,15,22,2,0,6,28,5),x(0,8,10,-5,0,16,24,2,0,6,30,5),x(0,8,11,-5,0,17,26,2,0,6,32,5),x(0,9,11,-5,0,18,28,2,0,7,34,6),x(0,9,12,-6,0,19,29,2,0,7,36,6),x(0,10,13,-6,0,20,31,3,0,8,38,7),x(0,10,13,-6,0,21,33,3,0,8,40,7),x(0,10,14,-6,0,22,35,3,0,8,42,7),x(0,11,14,-7,0,23,36,3,0,9,44,8),x(0,11,15,-7,0,24,38,3,0,9,46,8)],_=n(6067);var C={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const R=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function P(t={},...e){const{mixins:n={},palette:a={},transitions:c={},typography:u={}}=t,l=(0,i.Z)(t,R),h=T(a),d=(0,s.Z)(t);let f=(0,o.Z)(d,{mixins:(p=d.breakpoints,d.spacing,m=n,(0,r.Z)({toolbar:{minHeight:56,[`${p.up("xs")} and (orientation: landscape)`]:{minHeight:48},[p.up("sm")]:{minHeight:64}}},m)),palette:h,shadows:A.slice(),typography:k(h,u),transitions:(0,_.ZP)(c),zIndex:(0,r.Z)({},C)});var p,m;return f=(0,o.Z)(f,l),f=e.reduce(((t,e)=>(0,o.Z)(t,e)),f),f}var O=P()},2151:function(t,e,n){"use strict";n.d(e,{ZP:function(){return V},FO:function(){return M},Dz:function(){return j}});var r=n(7462),i=n(3366),o=n(7294),s=n(7866),a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c=(0,s.Z)((function(t){return a.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),u=n(5638),l=n(444),h=n(3772),d=c,f=function(t){return"theme"!==t},p=function(t){return"string"===typeof t&&t.charCodeAt(0)>96?d:f},m=function(t,e,n){var r;if(e){var i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?function(e){return t.__emotion_forwardProp(e)&&i(e)}:i}return"function"!==typeof r&&n&&(r=t.__emotion_forwardProp),r},g=function(){return null},v=function t(e,n){var i,s,a=e.__emotion_real===e,c=a&&e.__emotion_base||e;void 0!==n&&(i=n.label,s=n.target);var d=m(e,n,a),f=d||p(c),v=!f("as");return function(){var y=arguments,b=a&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==i&&b.push("label:"+i+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{0,b.push(y[0][0]);for(var w=y.length,T=1;T<w;T++)b.push(y[T],y[0][T])}var E=(0,u.w)((function(t,e,n){var r=v&&t.as||c,i="",a=[],m=t;if(null==t.theme){for(var y in m={},t)m[y]=t[y];m.theme=(0,o.useContext)(u.T)}"string"===typeof t.className?i=(0,l.f)(e.registered,a,t.className):null!=t.className&&(i=t.className+" ");var w=(0,h.O)(b.concat(a),e.registered,m);(0,l.M)(e,w,"string"===typeof r);i+=e.key+"-"+w.name,void 0!==s&&(i+=" "+s);var T=v&&void 0===d?p(r):f,E={};for(var I in t)v&&"as"===I||T(I)&&(E[I]=t[I]);E.className=i,E.ref=n;var S=(0,o.createElement)(r,E),k=(0,o.createElement)(g,null);return(0,o.createElement)(o.Fragment,null,k,S)}));return E.displayName=void 0!==i?i:"Styled("+("string"===typeof c?c:c.displayName||c.name||"Component")+")",E.defaultProps=e.defaultProps,E.__emotion_real=E,E.__emotion_base=c,E.__emotion_styles=b,E.__emotion_forwardProp=d,Object.defineProperty(E,"toString",{value:function(){return"."+s}}),E.withComponent=function(e,i){return t(e,(0,r.Z)({},n,i,{shouldForwardProp:m(E,i,!0)})).apply(void 0,b)},E}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){v[t]=v(t)}));var y=v;var b=n(6500),w=n(7730),T=n(8528),E=n(5408);function I(t){const{sx:e,theme:n={}}=t||{};if(!e)return null;function r(t){let e=t;if("function"===typeof t)e=t(n);else if("object"!==typeof t)return t;const r=(0,E.W8)(n.breakpoints),i=Object.keys(r);let o=r;return Object.keys(e).forEach((t=>{const r=(i=e[t],s=n,"function"===typeof i?i(s):i);var i,s;if(null!==r&&void 0!==r)if("object"===typeof r)if(T.G[t])o=(0,w.Z)(o,(0,T.Z)(t,r,n));else{const e=(0,E.k9)({theme:n},r,(e=>({[t]:e})));!function(...t){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]),n=new Set(e);return t.every((t=>n.size===Object.keys(t).length))}(e,r)?o=(0,w.Z)(o,e):o[t]=I({sx:r,theme:n})}else o=(0,w.Z)(o,(0,T.Z)(t,r,n))})),(0,E.L7)(i,o)}return Array.isArray(e)?e.map(r):r(e)}I.filterProps=["sx"];var S=I,k=n(8320);const x=["variant"];function A(t){return 0===t.length}function _(t){const{variant:e}=t,n=(0,i.Z)(t,x);let r=e||"";return Object.keys(n).sort().forEach((e=>{r+="color"===e?A(r)?t[e]:(0,k.Z)(t[e]):`${A(r)?e:(0,k.Z)(e)}${(0,k.Z)(t[e].toString())}`})),r}const C=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],R=["theme"],P=["theme"];function O(t){return 0===Object.keys(t).length}function N(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}const D=(0,b.Z)();var L=n(1410);const M=t=>N(t)&&"classes"!==t,j=N;var V=function(t={}){const{defaultTheme:e=D,rootShouldForwardProp:n=N,slotShouldForwardProp:o=N}=t;return(t,s={})=>{const{name:a,slot:c,skipVariantsResolver:u,skipSx:l,overridesResolver:h}=s,d=(0,i.Z)(s,C),f=void 0!==u?u:c&&"Root"!==c||!1,p=l||!1;let m=N;"Root"===c?m=n:c&&(m=o);const g=function(t,e){return y(t,e)}(t,(0,r.Z)({shouldForwardProp:m,label:undefined},d)),v=(t,...n)=>{const o=n?n.map((t=>"function"===typeof t&&t.__emotion_real!==t?n=>{let{theme:o}=n,s=(0,i.Z)(n,R);return t((0,r.Z)({theme:O(o)?e:o},s))}:t)):[];let s=t;a&&h&&o.push((t=>{const n=O(t.theme)?e:t.theme,r=((t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null)(a,n);if(r){const e={};return Object.entries(r).forEach((([n,r])=>{e[n]="function"===typeof r?r(t):r})),h(t,e)}return null})),a&&!f&&o.push((t=>{const n=O(t.theme)?e:t.theme;return((t,e,n,r)=>{var i,o;const{ownerState:s={}}=t,a=[],c=null==n||null==(i=n.components)||null==(o=i[r])?void 0:o.variants;return c&&c.forEach((n=>{let r=!0;Object.keys(n.props).forEach((e=>{s[e]!==n.props[e]&&t[e]!==n.props[e]&&(r=!1)})),r&&a.push(e[_(n.props)])})),a})(t,((t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach((t=>{const e=_(t.props);r[e]=t.style})),r})(a,n),n,a)})),p||o.push((t=>{const n=O(t.theme)?e:t.theme;return S((0,r.Z)({},t,{theme:n}))}));const c=o.length-n.length;if(Array.isArray(t)&&c>0){const e=new Array(c).fill("");s=[...t,...e],s.raw=[...t.raw,...e]}else"function"===typeof t&&(s=n=>{let{theme:o}=n,s=(0,i.Z)(n,P);return t((0,r.Z)({theme:O(o)?e:o},s))});return g(s,...o)};return g.withConfig&&(v.withConfig=g.withConfig),v}}({defaultTheme:L.Z,rootShouldForwardProp:M})},2734:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});n(7294);var r=n(1938),i=n(1410);function o(){return(0,r.Z)(i.Z)}},7623:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(7925);var i=n(1938);function o({props:t,name:e,defaultTheme:n}){return function(t){const{theme:e,name:n,props:i}=t;return e&&e.components&&e.components[n]&&e.components[n].defaultProps?(0,r.Z)(e.components[n].defaultProps,i):i}({theme:(0,i.Z)(n),name:e,props:t})}var s=n(1410);function a({props:t,name:e}){return o({props:t,name:e,defaultTheme:s.Z})}},577:function(t,e,n){"use strict";n.d(e,{n:function(){return r},C:function(){return i}});const r=t=>t.scrollTop;function i(t,e){var n,r;const{timeout:i,easing:o,style:s={}}=t;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[e.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[e.mode]:o,delay:s.transitionDelay}}},8216:function(t,e,n){"use strict";var r=n(8320);e.Z=r.Z},8169:function(t,e,n){"use strict";n.d(e,{Z:function(){return y}});var r=n(7462),i=n(7294),o=n(3366),s=n(6010),a=n(7192),c=n(8216),u=n(7623),l=n(2151),h=n(3620);function d(t){return(0,h.Z)("MuiSvgIcon",t)}(0,n(6087).Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=n(5893);const p=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,l.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,"inherit"!==n.color&&e[`color${(0,c.Z)(n.color)}`],e[`fontSize${(0,c.Z)(n.fontSize)}`]]}})((({theme:t,ownerState:e})=>{var n,r,i,o,s,a,c,u,l,h,d,f,p,m,g,v,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(n=t.transitions)||null==(r=n.create)?void 0:r.call(n,"fill",{duration:null==(i=t.transitions)||null==(o=i.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(c=t.typography)||null==(u=c.pxToRem)?void 0:u.call(c,24))||"1.5rem",large:(null==(l=t.typography)||null==(h=l.pxToRem)?void 0:h.call(l,35))||"2.1875"}[e.fontSize],color:null!=(d=null==(f=t.palette)||null==(p=f[e.color])?void 0:p.main)?d:{action:null==(m=t.palette)||null==(g=m.action)?void 0:g.active,disabled:null==(v=t.palette)||null==(y=v.action)?void 0:y.disabled,inherit:void 0}[e.color]}})),g=i.forwardRef((function(t,e){const n=(0,u.Z)({props:t,name:"MuiSvgIcon"}),{children:i,className:l,color:h="inherit",component:g="svg",fontSize:v="medium",htmlColor:y,inheritViewBox:b=!1,titleAccess:w,viewBox:T="0 0 24 24"}=n,E=(0,o.Z)(n,p),I=(0,r.Z)({},n,{color:h,component:g,fontSize:v,inheritViewBox:b,viewBox:T}),S={};b||(S.viewBox=T);const k=(t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root","inherit"!==e&&`color${(0,c.Z)(e)}`,`fontSize${(0,c.Z)(n)}`]};return(0,a.Z)(i,d,r)})(I);return(0,f.jsxs)(m,(0,r.Z)({as:g,className:(0,s.Z)(k.root,l),ownerState:I,focusable:"false",color:y,"aria-hidden":!w||void 0,role:w?"img":void 0,ref:e},S,E,{children:[i,w?(0,f.jsx)("title",{children:w}):null]}))}));g.muiName="SvgIcon";var v=g;function y(t,e){const n=(n,i)=>(0,f.jsx)(v,(0,r.Z)({"data-testid":`${e}Icon`,ref:i},n,{children:t}));return n.muiName=v.muiName,i.memo(i.forwardRef(n))}},2068:function(t,e,n){"use strict";var r=n(3633);e.Z=r.Z},1705:function(t,e,n){"use strict";var r=n(67);e.Z=r.Z},5408:function(t,e,n){"use strict";n.d(e,{VO:function(){return r},k9:function(){return o},W8:function(){return s},L7:function(){return a}});const r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${r[t]}px)`};function o(t,e,n){const o=t.theme||{};if(Array.isArray(e)){const t=o.breakpoints||i;return e.reduce(((r,i,o)=>(r[t.up(t.keys[o])]=n(e[o]),r)),{})}if("object"===typeof e){const t=o.breakpoints||i;return Object.keys(e).reduce(((i,o)=>{if(-1!==Object.keys(t.values||r).indexOf(o)){i[t.up(o)]=n(e[o],o)}else{const t=o;i[t]=e[t]}return i}),{})}return n(e)}function s(t={}){var e;return(null==t||null==(e=t.keys)?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function a(t,e){return t.reduce(((t,e)=>{const n=t[e];return(!n||0===Object.keys(n).length)&&delete t[e],t}),e)}},1796:function(t,e,n){"use strict";n.d(e,{mi:function(){return c},Fq:function(){return u},_j:function(){return l},$n:function(){return h},_4:function(){return d}});var r=n(1387);function i(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function o(t){if(t.type)return t;if("#"===t.charAt(0))return o(function(t){t=t.substr(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&1===n[0].length&&(n=n.map((t=>t+t))),n?`rgb${4===n.length?"a":""}(${n.map(((t,e)=>e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3)).join(", ")})`:""}(t));const e=t.indexOf("("),n=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,t));let i,s=t.substring(e+1,t.length-1);if("color"===n){if(s=s.split(" "),i=s.shift(),4===s.length&&"/"===s[3].charAt(0)&&(s[3]=s[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else s=s.split(",");return s=s.map((t=>parseFloat(t))),{type:n,values:s,colorSpace:i}}function s(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return-1!==e.indexOf("rgb")?r=r.map(((t,e)=>e<3?parseInt(t,10):t)):-1!==e.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==e.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${e}(${r})`}function a(t){let e="hsl"===(t=o(t)).type?o(function(t){t=o(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,a=r*Math.min(i,1-i),c=(t,e=(t+n/30)%12)=>i-a*Math.max(Math.min(e-3,9-e,1),-1);let u="rgb";const l=[Math.round(255*c(0)),Math.round(255*c(8)),Math.round(255*c(4))];return"hsla"===t.type&&(u+="a",l.push(e[3])),s({type:u,values:l})}(t)).values:t.values;return e=e.map((e=>("color"!==t.type&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4))),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function c(t,e){const n=a(t),r=a(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(t,e){return t=o(t),e=i(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),"color"===t.type?t.values[3]=`/${e}`:t.values[3]=e,s(t)}function l(t,e){if(t=o(t),e=i(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb")||-1!==t.type.indexOf("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return s(t)}function h(t,e){if(t=o(t),e=i(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(-1!==t.type.indexOf("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return s(t)}function d(t,e=.15){return a(t)>.5?l(t,e):h(t,e)}},6500:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r=n(7462),i=n(3366),o=n(9766);const s=["values","unit","step"];var a={borderRadius:4},c=n(8700);const u=["breakpoints","palette","spacing","shape"];var l=function(t={},...e){const{breakpoints:n={},palette:l={},spacing:h,shape:d={}}=t,f=(0,i.Z)(t,u),p=function(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=t,a=(0,i.Z)(t,s),c=Object.keys(e);function u(t){return`@media (min-width:${"number"===typeof e[t]?e[t]:t}${n})`}function l(t){return`@media (max-width:${("number"===typeof e[t]?e[t]:t)-o/100}${n})`}function h(t,r){const i=c.indexOf(r);return`@media (min-width:${"number"===typeof e[t]?e[t]:t}${n}) and (max-width:${(-1!==i&&"number"===typeof e[c[i]]?e[c[i]]:r)-o/100}${n})`}return(0,r.Z)({keys:c,values:e,up:u,down:l,between:h,only:function(t){return c.indexOf(t)+1<c.length?h(t,c[c.indexOf(t)+1]):u(t)},not:function(t){const e=c.indexOf(t);return 0===e?u(c[1]):e===c.length-1?l(c[e]):h(t,c[c.indexOf(t)+1]).replace("@media","@media not all and")},unit:n},a)}(n),m=function(t=8){if(t.mui)return t;const e=(0,c.hB)({spacing:t}),n=(...t)=>(0===t.length?[1]:t).map((t=>{const n=e(t);return"number"===typeof n?`${n}px`:n})).join(" ");return n.mui=!0,n}(h);let g=(0,o.Z)({breakpoints:p,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},l),spacing:m,shape:(0,r.Z)({},a,d)},f);return g=e.reduce(((t,e)=>(0,o.Z)(t,e)),g),g}},8528:function(t,e,n){"use strict";n.d(e,{Z:function(){return X},G:function(){return G}});var r=n(4844),i=n(7730);var o=function(...t){const e=t.reduce(((t,e)=>(e.filterProps.forEach((n=>{t[n]=e})),t)),{}),n=t=>Object.keys(t).reduce(((n,r)=>e[r]?(0,i.Z)(n,e[r](t)):n),{});return n.propTypes={},n.filterProps=t.reduce(((t,e)=>t.concat(e.filterProps)),[]),n},s=n(8700),a=n(5408);function c(t){return"number"!==typeof t?t:`${t}px solid`}const u=(0,r.Z)({prop:"border",themeKey:"borders",transform:c}),l=(0,r.Z)({prop:"borderTop",themeKey:"borders",transform:c}),h=(0,r.Z)({prop:"borderRight",themeKey:"borders",transform:c}),d=(0,r.Z)({prop:"borderBottom",themeKey:"borders",transform:c}),f=(0,r.Z)({prop:"borderLeft",themeKey:"borders",transform:c}),p=(0,r.Z)({prop:"borderColor",themeKey:"palette"}),m=(0,r.Z)({prop:"borderTopColor",themeKey:"palette"}),g=(0,r.Z)({prop:"borderRightColor",themeKey:"palette"}),v=(0,r.Z)({prop:"borderBottomColor",themeKey:"palette"}),y=(0,r.Z)({prop:"borderLeftColor",themeKey:"palette"}),b=t=>{if(void 0!==t.borderRadius&&null!==t.borderRadius){const e=(0,s.eI)(t.theme,"shape.borderRadius",4,"borderRadius"),n=t=>({borderRadius:(0,s.NA)(e,t)});return(0,a.k9)(t,t.borderRadius,n)}return null};b.propTypes={},b.filterProps=["borderRadius"];var w=o(u,l,h,d,f,p,m,g,v,y,b);var T=o((0,r.Z)({prop:"displayPrint",cssProperty:!1,transform:t=>({"@media print":{display:t}})}),(0,r.Z)({prop:"display"}),(0,r.Z)({prop:"overflow"}),(0,r.Z)({prop:"textOverflow"}),(0,r.Z)({prop:"visibility"}),(0,r.Z)({prop:"whiteSpace"}));var E=o((0,r.Z)({prop:"flexBasis"}),(0,r.Z)({prop:"flexDirection"}),(0,r.Z)({prop:"flexWrap"}),(0,r.Z)({prop:"justifyContent"}),(0,r.Z)({prop:"alignItems"}),(0,r.Z)({prop:"alignContent"}),(0,r.Z)({prop:"order"}),(0,r.Z)({prop:"flex"}),(0,r.Z)({prop:"flexGrow"}),(0,r.Z)({prop:"flexShrink"}),(0,r.Z)({prop:"alignSelf"}),(0,r.Z)({prop:"justifyItems"}),(0,r.Z)({prop:"justifySelf"}));const I=t=>{if(void 0!==t.gap&&null!==t.gap){const e=(0,s.eI)(t.theme,"spacing",8,"gap"),n=t=>({gap:(0,s.NA)(e,t)});return(0,a.k9)(t,t.gap,n)}return null};I.propTypes={},I.filterProps=["gap"];const S=t=>{if(void 0!==t.columnGap&&null!==t.columnGap){const e=(0,s.eI)(t.theme,"spacing",8,"columnGap"),n=t=>({columnGap:(0,s.NA)(e,t)});return(0,a.k9)(t,t.columnGap,n)}return null};S.propTypes={},S.filterProps=["columnGap"];const k=t=>{if(void 0!==t.rowGap&&null!==t.rowGap){const e=(0,s.eI)(t.theme,"spacing",8,"rowGap"),n=t=>({rowGap:(0,s.NA)(e,t)});return(0,a.k9)(t,t.rowGap,n)}return null};k.propTypes={},k.filterProps=["rowGap"];var x=o(I,S,k,(0,r.Z)({prop:"gridColumn"}),(0,r.Z)({prop:"gridRow"}),(0,r.Z)({prop:"gridAutoFlow"}),(0,r.Z)({prop:"gridAutoColumns"}),(0,r.Z)({prop:"gridAutoRows"}),(0,r.Z)({prop:"gridTemplateColumns"}),(0,r.Z)({prop:"gridTemplateRows"}),(0,r.Z)({prop:"gridTemplateAreas"}),(0,r.Z)({prop:"gridArea"}));var A=o((0,r.Z)({prop:"position"}),(0,r.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,r.Z)({prop:"top"}),(0,r.Z)({prop:"right"}),(0,r.Z)({prop:"bottom"}),(0,r.Z)({prop:"left"}));var _=o((0,r.Z)({prop:"color",themeKey:"palette"}),(0,r.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),(0,r.Z)({prop:"backgroundColor",themeKey:"palette"}));var C=(0,r.Z)({prop:"boxShadow",themeKey:"shadows"});function R(t){return t<=1&&0!==t?100*t+"%":t}const P=(0,r.Z)({prop:"width",transform:R}),O=t=>{if(void 0!==t.maxWidth&&null!==t.maxWidth){const e=e=>{var n,r,i;return{maxWidth:(null==(n=t.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[e])||a.VO[e]||R(e)}};return(0,a.k9)(t,t.maxWidth,e)}return null};O.filterProps=["maxWidth"];const N=(0,r.Z)({prop:"minWidth",transform:R}),D=(0,r.Z)({prop:"height",transform:R}),L=(0,r.Z)({prop:"maxHeight",transform:R}),M=(0,r.Z)({prop:"minHeight",transform:R});(0,r.Z)({prop:"size",cssProperty:"width",transform:R}),(0,r.Z)({prop:"size",cssProperty:"height",transform:R});var j=o(P,O,N,D,L,M,(0,r.Z)({prop:"boxSizing"}));const V=(0,r.Z)({prop:"fontFamily",themeKey:"typography"}),U=(0,r.Z)({prop:"fontSize",themeKey:"typography"}),F=(0,r.Z)({prop:"fontStyle",themeKey:"typography"}),$=(0,r.Z)({prop:"fontWeight",themeKey:"typography"}),B=(0,r.Z)({prop:"letterSpacing"}),q=(0,r.Z)({prop:"textTransform"}),Z=(0,r.Z)({prop:"lineHeight"}),z=(0,r.Z)({prop:"textAlign"});var H=o((0,r.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),V,U,F,$,B,Z,z,q);const K={borders:w.filterProps,display:T.filterProps,flexbox:E.filterProps,grid:x.filterProps,positions:A.filterProps,palette:_.filterProps,shadows:C.filterProps,sizing:j.filterProps,spacing:s.ZP.filterProps,typography:H.filterProps},W={borders:w,display:T,flexbox:E,grid:x,positions:A,palette:_,shadows:C,sizing:j,spacing:s.ZP,typography:H},G=Object.keys(K).reduce(((t,e)=>(K[e].forEach((n=>{t[n]=W[e]})),t)),{});var X=function(t,e,n){const r={[t]:e,theme:n},i=G[t];return i?i(r):{[t]:e}}},7730:function(t,e,n){"use strict";var r=n(9766);e.Z=function(t,e){return e?(0,r.Z)(t,e,{clone:!1}):t}},8700:function(t,e,n){"use strict";n.d(e,{hB:function(){return p},eI:function(){return f},ZP:function(){return T},NA:function(){return m}});var r=n(5408),i=n(4844),o=n(7730);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(t){const e={};return n=>(void 0===e[n]&&(e[n]=t(n)),e[n])}((t=>{if(t.length>2){if(!c[t])return[t];t=c[t]}const[e,n]=t.split(""),r=s[e],i=a[n]||"";return Array.isArray(i)?i.map((t=>r+t)):[r+i]})),l=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[...l,...h];function f(t,e,n,r){const o=(0,i.D)(t,e)||n;return"number"===typeof o?t=>"string"===typeof t?t:o*t:Array.isArray(o)?t=>"string"===typeof t?t:o[t]:"function"===typeof o?o:()=>{}}function p(t){return f(t,"spacing",8)}function m(t,e){if("string"===typeof e||null==e)return e;const n=t(Math.abs(e));return e>=0?n:"number"===typeof n?-n:`-${n}`}function g(t,e,n,i){if(-1===e.indexOf(n))return null;const o=function(t,e){return n=>t.reduce(((t,r)=>(t[r]=m(e,n),t)),{})}(u(n),i),s=t[n];return(0,r.k9)(t,s,o)}function v(t,e){const n=p(t.theme);return Object.keys(t).map((r=>g(t,e,r,n))).reduce(o.Z,{})}function y(t){return v(t,l)}function b(t){return v(t,h)}function w(t){return v(t,d)}y.propTypes={},y.filterProps=l,b.propTypes={},b.filterProps=h,w.propTypes={},w.filterProps=d;var T=w},4844:function(t,e,n){"use strict";n.d(e,{D:function(){return o}});var r=n(8320),i=n(5408);function o(t,e){return e&&"string"===typeof e?e.split(".").reduce(((t,e)=>t&&t[e]?t[e]:null),t):null}function s(t,e,n,r=n){let i;return i="function"===typeof t?t(n):Array.isArray(t)?t[n]||r:o(t,n)||r,e&&(i=e(i)),i}e.Z=function(t){const{prop:e,cssProperty:n=t.prop,themeKey:a,transform:c}=t,u=t=>{if(null==t[e])return null;const u=t[e],l=o(t.theme,a)||{};return(0,i.k9)(t,u,(t=>{let i=s(l,c,t);return t===i&&"string"===typeof t&&(i=s(l,c,`${e}${"default"===t?"":(0,r.Z)(t)}`,t)),!1===n?i:{[n]:i}}))};return u.propTypes={},u.filterProps=[e],u}},1938:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var r=n(6500),i=n(7294);var o=i.createContext(null);var s=function(t=null){const e=i.useContext(o);return e&&(n=e,0!==Object.keys(n).length)?e:t;var n};const a=(0,r.Z)();var c=function(t=a){return s(t)}},8320:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(1387);function i(t){if("string"!==typeof t)throw new Error((0,r.Z)(7));return t.charAt(0).toUpperCase()+t.slice(1)}},9766:function(t,e,n){"use strict";n.d(e,{P:function(){return i},Z:function(){return o}});var r=n(7462);function i(t){return null!==t&&"object"===typeof t&&t.constructor===Object}function o(t,e,n={clone:!0}){const s=n.clone?(0,r.Z)({},t):t;return i(t)&&i(e)&&Object.keys(e).forEach((r=>{"__proto__"!==r&&(i(e[r])&&r in t&&i(t[r])?s[r]=o(t[r],e[r],n):s[r]=e[r])})),s}},1387:function(t,e,n){"use strict";function r(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}n.d(e,{Z:function(){return r}})},7094:function(t,e,n){"use strict";function r(t){return t&&t.ownerDocument||document}n.d(e,{Z:function(){return r}})},7925:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(7462);function i(t,e){const n=(0,r.Z)({},e);return Object.keys(t).forEach((e=>{void 0===n[e]&&(n[e]=t[e])})),n}},7960:function(t,e,n){"use strict";function r(t,e){"function"===typeof t?t(e):t&&(t.current=e)}n.d(e,{Z:function(){return r}})},6600:function(t,e,n){"use strict";var r=n(7294);const i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;e.Z=i},3633:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(7294),i=n(6600);function o(t){const e=r.useRef(t);return(0,i.Z)((()=>{e.current=t})),r.useCallback(((...t)=>(0,e.current)(...t)),[])}},67:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(7294),i=n(7960);function o(t,e){return r.useMemo((()=>null==t&&null==e?null:n=>{(0,i.Z)(t,n),(0,i.Z)(e,n)}),[t,e])}},9962:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r=n(7294);let i,o=!0,s=!1;const a={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(t){t.metaKey||t.altKey||t.ctrlKey||(o=!0)}function u(){o=!1}function l(){"hidden"===this.visibilityState&&s&&(o=!0)}function h(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch(n){}return o||function(t){const{type:e,tagName:n}=t;return!("INPUT"!==n||!a[e]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable}(e)}function d(){const t=r.useCallback((t=>{var e;null!=t&&((e=t.ownerDocument).addEventListener("keydown",c,!0),e.addEventListener("mousedown",u,!0),e.addEventListener("pointerdown",u,!0),e.addEventListener("touchstart",u,!0),e.addEventListener("visibilitychange",l,!0))}),[]),e=r.useRef(!1);return{isFocusVisibleRef:e,onFocus:function(t){return!!h(t)&&(e.current=!0,!0)},onBlur:function(){return!!e.current&&(s=!0,window.clearTimeout(i),i=window.setTimeout((()=>{s=!1}),100),e.current=!1,!0)},ref:t}}},6010:function(t,e,n){"use strict";function r(t){var e,n,i="";if("string"===typeof t||"number"===typeof t)i+=t;else if("object"===typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function i(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}n.d(e,{Z:function(){return i}})},6257:function(t,e,n){"use strict";n.d(e,{ad:function(){return r.ad}});var r=n(1294)},1153:function(t,e,n){"use strict";n.d(e,{cF:function(){return mt},iH:function(){return pt},KV:function(){return ft}});var r=n(2238),i=n(4444),o=n(8463);const s="firebasestorage.googleapis.com";class a extends i.ZR{constructor(t,e){super(c(t),`Firebase Storage: ${e} (${c(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,a.prototype)}_codeEquals(t){return c(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function c(t){return"storage/"+t}function u(){return new a("unknown","An unknown error occurred, please check the error payload for server response.")}function l(){return new a("canceled","User canceled the upload/download.")}function h(){return new a("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function d(t){return new a("invalid-argument",t)}function f(){return new a("app-deleted","The Firebase app was deleted.")}function p(t,e){return new a("invalid-format","String does not match format '"+t+"': "+e)}function m(t){throw new a("internal-error","Internal error: "+t)}class g{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=g.makeFromUrl(t,e)}catch(r){return new g(t,"")}if(""===n.path)return n;throw new a("invalid-default-bucket","Invalid default bucket '"+t+"'.")}static makeFromUrl(t,e){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}const c=e.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${c}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${e===s?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let s=0;s<u.length;s++){const e=u[s],r=e.regex.exec(t);if(r){const t=r[e.indices.bucket];let i=r[e.indices.path];i||(i=""),n=new g(t,i),e.postModify(n);break}}if(null==n)throw function(t){return new a("invalid-url","Invalid URL '"+t+"'.")}(t);return n}}class v{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function y(t){return"string"===typeof t||t instanceof String}function b(t){return w()&&t instanceof Blob}function w(){return"undefined"!==typeof Blob}function T(t,e,n,r){if(r<e)throw d(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw d(`Invalid value for '${t}'. Expected ${n} or less.`)}function E(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function I(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1),n}var S;!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(S||(S={}));class k{constructor(t,e,n,r,i,o,s,a,c,u,l){this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=l,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()}))}start_(){const t=(t,e)=>{if(e)return void t(!1,new x(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=t=>{const e=t.loaded,n=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const e=n.getErrorCode()===S.NO_ERROR,i=n.getStatus();if(!e||this.isRetryStatusCode_(i)){const e=n.getErrorCode()===S.ABORT;return void t(!1,new x(!1,null,e))}const o=-1!==this.successCodes_.indexOf(i);t(!0,new x(o,n))}))},e=(t,e)=>{const n=this.resolve_,r=this.reject_,i=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(i,i.getResponse());void 0!==t?n(t):n()}catch(o){r(o)}else if(null!==i){const t=u();t.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,t)):r(t)}else if(e.canceled){r(this.appDelete_?f():l())}else{r(new a("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?e(0,new x(!1,null,!0)):this.backoffId_=function(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let u=!1;function l(...t){u||(u=!0,e.apply(null,t))}function h(e){i=setTimeout((()=>{i=null,t(f,c())}),e)}function d(){o&&clearTimeout(o)}function f(t,...e){if(u)return void d();if(t)return d(),void l.call(null,t,...e);if(c()||s)return d(),void l.call(null,t,...e);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function m(t){p||(p=!0,d(),u||(null!==i?(t||(a=2),clearTimeout(i),h(0)):t||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r}}class x{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function A(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function _(...t){const e=A();if(void 0!==e){const n=new e;for(let e=0;e<t.length;e++)n.append(t[e]);return n.getBlob()}if(w())return new Blob(t);throw new a("unsupported-environment","This browser doesn't seem to support creating Blobs")}const C="raw",R="base64",P="base64url",O="data_url";class N{constructor(t,e){this.data=t,this.contentType=e||null}}function D(t,e){switch(t){case C:return new N(L(e));case R:case P:return new N(M(t,e));case O:return new N(function(t){const e=new j(t);return e.base64?M(R,e.rest):function(t){let e;try{e=decodeURIComponent(t)}catch(n){throw p(O,"Malformed data URL.")}return L(e)}(e.rest)}(e),new j(e).contentType)}throw u()}function L(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function M(t,e){switch(t){case R:{const n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){throw p(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case P:{const n=-1!==e.indexOf("+"),r=-1!==e.indexOf("/");if(n||r){throw p(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(e)}catch(i){throw p(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class j{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw p(O,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;null!=n&&(this.base64=function(t,e){if(!(t.length>=e.length))return!1;return t.substring(t.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}}class V{constructor(t,e){let n=0,r="";b(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(b(this.data_)){const n=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,t,e);return null===n?null:new V(n)}{const n=new Uint8Array(this.data_.buffer,t,e-t);return new V(n,!0)}}static getBlob(...t){if(w()){const e=t.map((t=>t instanceof V?t.data_:t));return new V(_.apply(null,e))}{const e=t.map((t=>y(t)?D(C,t).data:t.data_));let n=0;e.forEach((t=>{n+=t.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((t=>{for(let e=0;e<t.length;e++)r[i++]=t[e]})),new V(r,!0)}}uploadData(){return this.data_}}function U(t){let e;try{e=JSON.parse(t)}catch(r){return null}return"object"!==typeof(n=e)||Array.isArray(n)?null:e;var n}function F(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function $(t,e){return e}class B{constructor(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||$}}let q=null;function Z(){if(q)return q;const t=[];t.push(new B("bucket")),t.push(new B("generation")),t.push(new B("metageneration")),t.push(new B("name","fullPath",!0));const e=new B("name");e.xform=function(t,e){return function(t){return!y(t)||t.length<2?t:F(t)}(e)},t.push(e);const n=new B("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new B("timeCreated")),t.push(new B("updated")),t.push(new B("md5Hash",null,!0)),t.push(new B("cacheControl",null,!0)),t.push(new B("contentDisposition",null,!0)),t.push(new B("contentEncoding",null,!0)),t.push(new B("contentLanguage",null,!0)),t.push(new B("contentType",null,!0)),t.push(new B("metadata","customMetadata",!0)),q=t,q}function z(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const t=n[o];r[t.local]=t.xform(r,e[t.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){const n=t.bucket,r=t.fullPath,i=new g(n,r);return e._makeStorageReference(i)}})}(r,t),r}function H(t,e,n){const r=U(e);if(null===r)return null;return z(t,r,n)}function K(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const r=e[i];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class W{constructor(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function G(t){if(!t)throw u()}function X(t,e){return function(n,r){const i=H(t,r,e);return G(null!==i),i}}function Y(t){return function(e,n){let r;var i,o;return 401===e.getStatus()?r=e.getErrorText().includes("Firebase App Check token is invalid")?new a("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new a("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new a("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new a("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function J(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}function Q(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;const c=J(e,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+K(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",l="\r\n--"+a+"--",d=V.getBlob(u,r,l);if(null===d)throw h();const f={name:c.fullPath},p=E(o,t.host,t._protocol),m=t.maxUploadRetryTime,g=new W(p,"POST",X(t,n),m);return g.urlParams=f,g.headers=s,g.body=d.uploadData(),g.errorHandler=Y(e),g}class tt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=S.NO_ERROR,this.sendPromise_=new Promise((t=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=S.ABORT,t()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=S.NETWORK_ERROR,t()})),this.xhr_.addEventListener("load",(()=>{t()}))}))}send(t,e,n,r){if(this.sent_)throw m("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw m("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw m("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw m("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw m("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class et extends tt{initXhr(){this.xhr_.responseType="text"}}function nt(){return new et}class rt{constructor(t,e){this._service=t,this._location=e instanceof g?e:g.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new rt(t,e)}get root(){const t=new g(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return F(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new g(this._location.bucket,t);return new rt(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function(t){return new a("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function it(t,e,n){t._throwIfRoot("uploadBytes");const r=Q(t.storage,t._location,Z(),new V(e,!0),n);return t.storage.makeRequestWithTokens(r,nt).then((e=>({metadata:e,ref:t})))}function ot(t,e){const n=function(t,e){const n=e.split("/").filter((t=>t.length>0)).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new g(t._location.bucket,n);return new rt(t.storage,r)}function st(t,e){if(t instanceof ut){const n=t;if(null==n._bucket)throw new a("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new rt(n,n._bucket);return null!=e?st(r,e):r}return void 0!==e?ot(t,e):t}function at(t,e){if(e&&/^[A-Za-z]+:\/\//.test(e)){if(t instanceof ut)return new rt(t,e);throw d("To use ref(service, url), the first argument must be a Storage instance.")}return st(t,e)}function ct(t,e){const n=null===e||void 0===e?void 0:e.storageBucket;return null==n?null:g.makeFromBucketSpec(n,t)}class ut{constructor(t,e,n,r,i){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=s,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?g.makeFromBucketSpec(r,this._host):ct(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=g.makeFromBucketSpec(this._url,t):this._bucket=ct(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){T("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){T("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});if(t){return(await t.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((t=>t.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new rt(this,t)}_makeRequest(t,e,n,r){if(this._deleted)return new v(f());{const i=function(t,e,n,r,i,o){const s=I(t.urlParams),a=t.url+s,c=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}(c,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new k(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,n,r,e,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(t,e){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,r).getPromise()}}const lt="@firebase/storage",ht="0.9.2",dt="storage";function ft(t,e,n){return it(t=(0,i.m9)(t),e,n)}function pt(t,e){return at(t=(0,i.m9)(t),e)}function mt(t=(0,r.Mq)(),e){t=(0,i.m9)(t);return(0,r.qX)(t,dt).getImmediate({identifier:e})}function gt(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new ut(n,i,o,e,r.Jn)}(0,r.Xd)(new o.wA(dt,gt,"PUBLIC").setMultipleInstances(!0)),(0,r.KN)(lt,ht,""),(0,r.KN)(lt,ht,"esm2017")},8679:function(t,e,n){"use strict";var r=n(1296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(t){return r.isMemo(t)?s:a[t.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var u=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&t(e,i,r)}var s=l(n);h&&(s=s.concat(h(n)));for(var a=c(e),m=c(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=d(n,v);try{u(e,v,y)}catch(b){}}}}return e}},6103:function(t,e){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function T(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case l:case h:case o:case a:case s:case f:return t;default:switch(t=t&&t.$$typeof){case u:case d:case g:case m:case c:return t;default:return e}}case i:return e}}}function E(t){return T(t)===h}e.AsyncMode=l,e.ConcurrentMode=h,e.ContextConsumer=u,e.ContextProvider=c,e.Element=r,e.ForwardRef=d,e.Fragment=o,e.Lazy=g,e.Memo=m,e.Portal=i,e.Profiler=a,e.StrictMode=s,e.Suspense=f,e.isAsyncMode=function(t){return E(t)||T(t)===l},e.isConcurrentMode=E,e.isContextConsumer=function(t){return T(t)===u},e.isContextProvider=function(t){return T(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return T(t)===d},e.isFragment=function(t){return T(t)===o},e.isLazy=function(t){return T(t)===g},e.isMemo=function(t){return T(t)===m},e.isPortal=function(t){return T(t)===i},e.isProfiler=function(t){return T(t)===a},e.isStrictMode=function(t){return T(t)===s},e.isSuspense=function(t){return T(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===h||t===a||t===s||t===f||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===m||t.$$typeof===c||t.$$typeof===u||t.$$typeof===d||t.$$typeof===y||t.$$typeof===b||t.$$typeof===w||t.$$typeof===v)},e.typeOf=T},1296:function(t,e,n){"use strict";t.exports=n(6103)},8676:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){n(i=t[e].apply(t,r)).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function c(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function u(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}function m(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new f(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))}function g(t){return r(indexedDB,"deleteDatabase",[t])}o(u,"_index",["name","keyPath","multiEntry","unique"]),s(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,u].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=m,t.deleteDb=g,Object.defineProperty(t,"__esModule",{value:!0})}(e)},3454:function(t,e,n){"use strict";var r,i;t.exports=(null===(r=n.g.process)||void 0===r?void 0:r.env)&&"object"===typeof(null===(i=n.g.process)||void 0===i?void 0:i.env)?n.g.process:n(7663)},1780:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(1364)}])},9273:function(t,e,n){"use strict";n.d(e,{co:function(){return Nt},I8:function(){return Ct},db:function(){return Rt},wk:function(){return Pt},tO:function(){return Ot}});var r=n(2238);(0,r.KN)("firebase","9.6.5","app");var i=n(7965),o=n(6257),s=n(549),a=n(1153),c=n(3333),u=n(4444),l=n(8463),h=n(8676);const d="@firebase/installations",f="0.5.5",p=1e4,m="w:0.5.5",g="FIS_v2",v=36e5,y={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},b=new u.LL("installations","Installations",y);function w(t){return t instanceof u.ZR&&t.code.includes("request-failed")}function T({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function E(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function I(t,e){const n=(await e.json()).error;return b.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function S({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function k(t,{refreshToken:e}){const n=S(t);return n.append("Authorization",function(t){return`FIS_v2 ${t}`}(e)),n}async function x(t){const e=await t();return e.status>=500&&e.status<600?t():e}function A(t){return new Promise((e=>{setTimeout(e,t)}))}const _=/^[cdef][\w-]{21}$/;function C(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){return(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return _.test(e)?e:""}catch(t){return""}}function R(t){return`${t.appName}!${t.appId}`}const P=new Map;function O(t,e){const n=R(t);N(n,e),function(t,e){const n=L();n&&n.postMessage({key:t,fid:e});M()}(n,e)}function N(t,e){const n=P.get(t);if(n)for(const r of n)r(e)}let D=null;function L(){return!D&&"BroadcastChannel"in self&&(D=new BroadcastChannel("[Firebase] FID Change"),D.onmessage=t=>{N(t.data.key,t.data.fid)}),D}function M(){0===P.size&&D&&(D.close(),D=null)}const j="firebase-installations-store";let V=null;function U(){return V||(V=(0,h.openDb)("firebase-installations-database",1,(t=>{switch(t.oldVersion){case 0:t.createObjectStore(j)}}))),V}async function F(t,e){const n=R(t),r=(await U()).transaction(j,"readwrite"),i=r.objectStore(j),o=await i.get(n);return await i.put(e,n),await r.complete,o&&o.fid===e.fid||O(t,e.fid),e}async function $(t){const e=R(t),n=(await U()).transaction(j,"readwrite");await n.objectStore(j).delete(e),await n.complete}async function B(t,e){const n=R(t),r=(await U()).transaction(j,"readwrite"),i=r.objectStore(j),o=await i.get(n),s=e(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.complete,!s||o&&o.fid===s.fid||O(t,s.fid),s}async function q(t){let e;const n=await B(t,(n=>{const r=function(t){return H(t||{fid:C(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){return{installationEntry:e,registrationPromise:Promise.reject(b.create("app-offline"))}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:async function(t,e){try{return F(t,await async function(t,{fid:e}){const n=T(t),r=S(t),i={fid:e,authVersion:g,appId:t.appId,sdkVersion:m},o={method:"POST",headers:r,body:JSON.stringify(i)},s=await x((()=>fetch(n,o)));if(s.ok){const t=await s.json();return{fid:t.fid||e,registrationStatus:2,refreshToken:t.refreshToken,authToken:E(t.authToken)}}throw await I("Create Installation",s)}(t,e))}catch(n){throw w(n)&&409===n.customData.serverCode?await $(t):await F(t,{fid:e.fid,registrationStatus:0}),n}}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Z(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function Z(t){let e=await z(t);for(;1===e.registrationStatus;)await A(100),e=await z(t);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await q(t);return n||e}return e}function z(t){return B(t,(t=>{if(!t)throw b.create("installation-not-found");return H(t)}))}function H(t){return 1===(e=t).registrationStatus&&e.registrationTime+p<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function K({appConfig:t,platformLoggerProvider:e},n){const r=function(t,{fid:e}){return`${T(t)}/${e}/authTokens:generate`}(t,n),i=k(t,n),o=e.getImmediate({optional:!0});o&&i.append("x-firebase-client",o.getPlatformInfoString());const s={installation:{sdkVersion:m}},a={method:"POST",headers:i,body:JSON.stringify(s)},c=await x((()=>fetch(r,a)));if(c.ok){return E(await c.json())}throw await I("Generate Auth Token",c)}async function W(t,e=!1){let n;const r=await B(t.appConfig,(r=>{if(!X(r))throw b.create("not-registered");const i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+v}(t)}(i))return r;if(1===i.requestStatus)return n=async function(t,e){let n=await G(t.appConfig);for(;1===n.authToken.requestStatus;)await A(100),n=await G(t.appConfig);const r=n.authToken;return 0===r.requestStatus?W(t,e):r}(t,e),r;{if(!navigator.onLine)throw b.create("app-offline");const e=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(r);return n=async function(t,e){try{const n=await K(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await F(t.appConfig,r),n}catch(n){if(!w(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await F(t.appConfig,n)}else await $(t.appConfig);throw n}}(t,e),e}}));return n?await n:r.authToken}function G(t){return B(t,(t=>{if(!X(t))throw b.create("not-registered");const e=t.authToken;return 1===(n=e).requestStatus&&n.requestTime+p<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var n}))}function X(t){return void 0!==t&&2===t.registrationStatus}async function Y(t,e=!1){const n=t;await async function(t){const{registrationPromise:e}=await q(t);e&&await e}(n.appConfig);return(await W(n,e)).token}function J(t){return b.create("missing-app-config-values",{valueName:t})}const Q="installations",tt=t=>{const e=t.getProvider("app").getImmediate();return{app:e,appConfig:function(t){if(!t||!t.options)throw J("App Configuration");if(!t.name)throw J("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw J(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:(0,r.qX)(e,"platform-logger"),_delete:()=>Promise.resolve()}},et=t=>{const e=t.getProvider("app").getImmediate(),n=(0,r.qX)(e,Q).getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:n,registrationPromise:r}=await q(e.appConfig);return r?r.catch(console.error):W(e).catch(console.error),n.fid}(n),getToken:t=>Y(n,t)}};(0,r.Xd)(new l.wA(Q,tt,"PUBLIC")),(0,r.Xd)(new l.wA("installations-internal",et,"PRIVATE")),(0,r.KN)(d,f),(0,r.KN)(d,f,"esm2017");const nt="analytics",rt="https://www.googletagmanager.com/gtag/js",it=new c.Yd("@firebase/analytics");function ot(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}function st(t,e,n,r){return async function(i,o,s){try{"event"===i?await async function(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let t=i.send_to;Array.isArray(t)||(t=[t]);const r=await ot(n);for(const n of t){const t=r.find((t=>t.measurementId===n)),i=t&&e[t.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){it.error(o)}}(t,e,n,o,s):"config"===i?await async function(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const t=(await ot(n)).find((t=>t.measurementId===i));t&&await e[t.appId]}}catch(a){it.error(a)}t("config",i,o)}(t,e,n,r,o,s):t("set",o)}catch(a){it.error(a)}}}const at={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},ct=new u.LL("analytics","Analytics",at);const ut=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function lt(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function ht(t,e=ut,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw ct.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw ct.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ft;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),dt({appId:r,apiKey:i,measurementId:o},s,a,e)}async function dt(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=ut){const{appId:o,measurementId:s}=t;try{await function(t,e){return new Promise(((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((()=>{clearTimeout(o),r(ct.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}(r,e)}catch(a){if(s)return it.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:o,measurementId:s};throw a}try{const e=await async function(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:lt(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),s=await fetch(o,i);if(200!==s.status&&304!==s.status){let t="";try{const n=await s.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw ct.create("config-fetch-failed",{httpStatus:s.status,responseMessage:t})}return s.json()}(t);return i.deleteThrottleMetadata(o),e}catch(a){if(!function(t){if(!(t instanceof u.ZR)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a)){if(i.deleteThrottleMetadata(o),s)return it.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:o,measurementId:s};throw a}const e=503===Number(a.customData.httpStatus)?(0,u.$s)(n,i.intervalMillis,30):(0,u.$s)(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+e,backoffCount:n+1};return i.setThrottleMetadata(o,c),it.debug(`Calling attemptFetch again in ${e} millis`),dt(t,c,r,i)}}class ft{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}async function pt(t,e,n,r,i,o,s){var a;const c=ht(t);c.then((e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&it.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((t=>it.error(t))),e.push(c);const l=async function(){if(!(0,u.hl)())return it.warn(ct.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,u.eu)()}catch(t){return it.warn(ct.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0}().then((t=>t?r.getId():void 0)),[h,d]=await Promise.all([c,l]);(function(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(rt))return e;return null})()||function(t,e){const n=document.createElement("script");n.src=`${rt}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}(o,h.measurementId),i("js",new Date);const f=null!==(a=null===s||void 0===s?void 0:s.config)&&void 0!==a?a:{};return f.origin="firebase",f.update=!0,null!=d&&(f.firebase_id=d),i("config",h.measurementId,f),h.measurementId}class mt{constructor(t){this.app=t}_delete(){return delete gt[this.app.options.appId],Promise.resolve()}}let gt={},vt=[];const yt={};let bt,wt,Tt="dataLayer",Et="gtag",It=!1;function St(t,e,n){!function(){const t=[];if((0,u.ru)()&&t.push("This is a browser extension environment."),(0,u.zI)()||t.push("Cookies are not available."),t.length>0){const e=t.map(((t,e)=>`(${e+1}) ${t}`)).join(" "),n=ct.create("invalid-analytics-context",{errorInfo:e});it.warn(n.message)}}();const r=t.options.appId;if(!r)throw ct.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw ct.create("no-api-key");it.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gt[r])throw ct.create("already-exists",{id:r});if(!It){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Tt);const{wrappedGtag:t,gtagCore:e}=function(t,e,n,r,i){let o=function(...t){window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=st(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(gt,vt,yt,Tt,Et);wt=t,bt=e,It=!0}gt[r]=pt(t,vt,yt,e,bt,Tt,n);return new mt(t)}function kt(t,e,n,r){t=(0,u.m9)(t),async function(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const i=await e;t("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(wt,gt[t.app.options.appId],e,n,r).catch((t=>it.error(t)))}const xt="@firebase/analytics",At="0.7.5";(0,r.Xd)(new l.wA(nt,((t,{options:e})=>St(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e)),"PUBLIC")),(0,r.Xd)(new l.wA("analytics-internal",(function(t){try{const e=t.getProvider(nt).getImmediate();return{logEvent:(t,n,r)=>kt(e,t,n,r)}}catch(e){throw ct.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),(0,r.KN)(xt,At),(0,r.KN)(xt,At,"esm2017");var _t=(0,r.ZF)({apiKey:"AIzaSyDCG8Ji829VHGrhGGImrMk8B0QZoA8uY60",authDomain:"roomie-prod-24d36.firebaseapp.com",projectId:"roomie-prod-24d36",storageBucket:"roomie-prod-24d36.appspot.com",messagingSenderId:"901977154768",appId:"1:901977154768:web:deafa61833a6055f27ead5",measurementId:"G-S8Q9W3DW20"}),Ct=(0,i.v0)(_t),Rt=(0,o.ad)(_t),Pt=(0,s.$C)(_t),Ot=(0,a.cF)(_t),Nt=function(t=(0,r.Mq)()){t=(0,u.m9)(t);const e=(0,r.qX)(t,nt);return e.isInitialized()?e.getImmediate():function(t,e={}){const n=(0,r.qX)(t,nt);if(n.isInitialized()){const t=n.getImmediate();if((0,u.vZ)(e,n.getOptions()))return t;throw ct.create("already-initialized")}return n.initialize({options:e})}(t)}},3706:function(t,e,n){"use strict";var r=n(5893);n(7294);e.Z=function(t){var e=t.onClose;return(0,r.jsx)("i",{onClick:e,className:"fas fa-times backdrop-times",style:{position:"absolute",zIndex:"100",width:"50px",height:"50px",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",top:"16px",right:"16px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",fontSize:"24px",cursor:"pointer"}})}},9029:function(t,e,n){"use strict";var r=n(5893),i=(n(7294),n(3706),n(7227));e.Z=function(t){var e=t.image,n=t.heading,o=t.open,s=t.setOpen,a=t.children;return(0,r.jsx)(i.Z,{sx:{zIndex:function(t){return t.zIndex.drawer+1}},open:o,onClick:function(t){return s(!1)},children:(0,r.jsxs)("div",{onClick:function(t){return t.stopPropagation()},className:"custom-dialog",children:[(0,r.jsxs)("div",{className:"dialog-heading",children:[(0,r.jsx)("h2",{children:n}),(0,r.jsx)("i",{onClick:function(){return s(!1)},className:"fas fa-times"})]}),e&&(0,r.jsx)("div",{className:"dialog-image",children:(0,r.jsx)("img",{src:e,alt:""})}),a]})})}},1018:function(t,e,n){"use strict";n.d(e,{a:function(){return l},H:function(){return h}});var r=n(5893),i=n(7294),o=n(9273),s=n(6934),a=n(1614),c=n(7965),u=(0,i.createContext)(),l=function(){return(0,i.useContext)(u)};function h(t){var e=(0,i.useState)(null),n=e[0],l=e[1],h=(0,i.useState)(!1),d=h[0],f=h[1],p=(0,i.useState)(null),m=p[0],g=p[1],v=(0,s.s)().getUser,y=(0,(0,a.d)().callable)("userUpdates-updateActivity");(0,i.useEffect)((function(){n&&!m&&b(n)}),[n]);var b=function(t){v(t.uid).then((function(t){return g(t.data()),console.log(t.data().listing.id),y(JSON.stringify({listingId:t.data().listing.id,string:"Hi"}))})).then((function(t){})).catch((function(t){}))};(0,i.useEffect)((function(){(0,c.Aj)(o.I8,(function(t){l(t),f(!0)}))}),[]);var w={register:function(t,e){return(0,c.Xb)(o.I8,t,e)},signIn:function(t,e){return(0,c.e5)(o.I8,t,e)},logOut:function(){return(0,c.w7)(o.I8)},logIn:function(t,e){return(0,c.e5)(o.I8,t,e)},delUser:function(t){return(0,c.h8)(t)},changePassword:function(t,e){return(0,c.gQ)(t,e)},currentUser:n,currentUserInfo:m,userLoaded:d,reAuth:function(t,e){var n=c.w9.credential(t.email,e);return(0,c.aF)(t,n)},updateCurrentUserData:b};return(0,r.jsx)(u.Provider,{value:w,children:t.children})}},6934:function(t,e,n){"use strict";n.d(e,{s:function(){return d},W:function(){return f}});var r=n(5893),i=n(7294),o=n(9273),s=n(1294);function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){c(t,e,n[e])}))}return t}function l(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=(0,i.createContext)(),d=function(){return(0,i.useContext)(h)};function f(t){var e=function(t){var e=t.type,n=t.page,r=t.parameters,i=t.listings,a=t.premiumListings,c=t.newListings,u=t.newPremiumListings,h=(0,s.hJ)(o.db,"listings");if("firstQuery"===e){if("first"===n)return s.IO.apply(void 0,[h].concat(l(r),[(0,s.ar)("userInfo.premium","==",!0),(0,s.Xo)("timeStamp","desc"),(0,s.b9)(8)]));if("next"===n){if(!i.length)return s.IO.apply(void 0,[h].concat(l(r),[(0,s.ar)("userInfo.premium","==",!0),(0,s.Xo)("timeStamp","desc"),(0,s.b9)(8),(0,s.TQ)(a[a.length-1])]));if(i.length)return s.IO.apply(void 0,[h].concat(l(r),[(0,s.ar)("userInfo.premium","==",!1),(0,s.Xo)("timeStamp","desc"),(0,s.b9)(8),(0,s.TQ)(i[i.length-1])]))}else if("prev"===n){if(!a.length)return s.IO.apply(void 0,[h].concat(l(r),[(0,s.ar)("userInfo.premium","==",!1),(0,s.Xo)("timeStamp","desc"),(0,s.vh)(8),(0,s.Lx)(i[0])]));if(a.length)return s.IO.apply(void 0,[h].concat(l(r),[(0,s.ar)("userInfo.premium","==",!0),(0,s.Xo)("timeStamp","desc"),(0,s.vh)(8),(0,s.Lx)(a[0])]))}}else if("secondQuery"===e){if("first"===n)return s.IO.apply(void 0,[h].concat(l(r),[(0,s.ar)("userInfo.premium","==",!1),(0,s.Xo)("timeStamp","desc"),(0,s.b9)(8-u.length)]));if("next"===n)return s.IO.apply(void 0,[h].concat(l(r),[(0,s.ar)("userInfo.premium","==",!1),(0,s.Xo)("timeStamp","desc"),(0,s.b9)(8-u.length)]));if("prev"===n)return s.IO.apply(void 0,[h].concat(l(r),[(0,s.ar)("userInfo.premium","==",!0),(0,s.Xo)("timeStamp","desc"),(0,s.vh)(8-c.length)]))}},n=function(t){var e=t.type,n=t.requestType,r=t.page,i=t.uid,a=t.requests,c=t.premiumRequests,u=t.newRequests,l=t.newPremiumRequests,h=(0,s.hJ)(o.db,"users",i,n);if("sentRequests"===n)return(0,s.IO)(h,(0,s.Xo)("timeStamp","desc",(0,s.b9)(10)));if("firstQuery"===e){if("first"===r)return(0,s.IO)(h,(0,s.ar)("premium","==",!0),(0,s.Xo)("timeStamp","desc"),(0,s.b9)(10));if("next"===r){if(!listings.length)return(0,s.IO)(h,(0,s.ar)("premium","==",!0),(0,s.Xo)("timeStamp","desc"),(0,s.b9)(10),(0,s.TQ)(c[c.length-1]));if(listings.length)return(0,s.IO)(h,(0,s.ar)("premium","==",!1),(0,s.Xo)("timeStamp","desc"),(0,s.b9)(10),(0,s.TQ)(a[a.length-1]))}else if("prev"===r){if(!premiumListings.length)return(0,s.IO)(h,(0,s.ar)("premium","==",!1),(0,s.Xo)("timeStamp","desc"),(0,s.vh)(10),(0,s.Lx)(a[0]));if(premiumListings.length)return(0,s.IO)(h,(0,s.ar)("premium","==",!0),(0,s.Xo)("timeStamp","desc"),(0,s.vh)(10),(0,s.Lx)(c[0]))}}else if("secondQuery"===e){if("first"===r)return(0,s.IO)(h,(0,s.ar)("premium","==",!1),(0,s.Xo)("timeStamp","desc"),(0,s.b9)(10-l.length));if("next"===r)return(0,s.IO)(h,(0,s.ar)("premium","==",!1),(0,s.Xo)("timeStamp","desc"),(0,s.b9)(10-l.length));if("prev"===r)return(0,s.IO)(h,(0,s.ar)("premium","==",!0),(0,s.Xo)("timeStamp","desc"),(0,s.vh)(10-u.length))}},i={getUser:function(t){return(0,s.QT)((0,s.JU)(o.db,"users",t))},updateUser:function(t,e){return(0,s.r7)((0,s.JU)(o.db,"users",t),e)},getListings:function(t,n,r,i,o){var a,c,l=[(0,s.ar)("type","==",t),(0,s.ar)("visible","==",!0),(0,s.ar)("userInfo.emailVerified","==",!0),(0,s.ar)("hiddenByUser","==",!1)],h=[],d=[],f={page:n,parameters:l,listings:r,premiumListings:i,newListings:d,newPremiumListings:h};if(Object.keys(o).length){if("flatmate"===t){if(o.location&&("Praha"===o.location?l.push((0,s.ar)("queryInfo.prague","==",!0)):l.push((0,s.ar)("flatTags.location","==",o.location))),o.gender){var p=["Mu\u017e","\u017dena","Jin\xe9"];if(2===o.gender.length){var m;switch(o.gender.forEach((function(t){p.splice(p.indexOf(t),1),m=p[0]})),m){case"Mu\u017e":m="male";break;case"\u017dena":m="female";break;case"Jin\xe9":m="other"}l.push((0,s.ar)("queryInfo.gender.".concat(m),"==",!1))}else{var g=o.gender[0];switch(g){case"Mu\u017e":g="male";break;case"\u017dena":g="female";break;case"Jin\xe9":g="other"}l.push((0,s.ar)("queryInfo.gender.".concat(g),"==",!0))}}if(o.age){var v=["18-25","26-34","35+"];if(2===o.age.length){var y;switch(o.age.forEach((function(t){v.splice(v.indexOf(t),1),y=v[0]})),y){case"18-25":y="firstRange";break;case"26-34":y="secondRange";break;case"35+":y="thirdRange"}l.push((0,s.ar)("queryInfo.age.".concat(y),"==",!1))}else{var b=o.age[0];switch(b){case"18-25":b="firstRange";break;case"26-34":b="secondRange";break;case"35+":b="thirdRange"}l.push((0,s.ar)("queryInfo.age.".concat(b),"==",!0))}}if(o.smoking&&l.push((0,s.ar)("personBoxes.smoking","==",o.smoking)),o.job){var w=["Zam\u011bstnan\xfd","Nezam\u011bstnan\xfd","Student"];if(2===o.job.length){var T;switch(o.job.forEach((function(t){w.splice(w.indexOf(t),1),T=w[0]})),T){case"Zam\u011bstnan\xfd":T="employed";break;case"Nezam\u011bstnan\xfd":T="unemployed";break;case"Student":T="student"}l.push((0,s.ar)("queryInfo.job.".concat(T),"==",!1))}else{var E=o.job[0];switch(E){case"Zam\u011bstnan\xfd":E="employed";break;case"Nezam\u011bstnan\xfd":E="unemployed";break;case"Student":E="student"}l.push((0,s.ar)("queryInfo.job.".concat(E),"==",!0))}}}if("flat"===t){if(o.location&&("Praha"===o.location?l.push((0,s.ar)("queryInfo.prague","==",!0)):l.push((0,s.ar)("flatBoxes.location","==",o.location))),o.layout&&l.push((0,s.ar)("flatBoxes.layout","==",o.layout)),o.petAllowed){var I=o.petAllowed;switch(I){case"Mazl\xed\u010dci povoleno":I="Povoleno";break;case"Mazl\xed\u010dci nepovoleno":I="Nepovoleno"}console.log("where ".concat(I)),l.push((0,s.ar)("flatBoxes.petAllowed","==",I))}if(o.smokingAllowed){var S=o.smokingAllowed;switch(S){case"Kou\u0159en\xed povoleno":S="Povoleno";break;case"Kou\u0159en\xed nepovoleno":S="Nepovoleno"}l.push((0,s.ar)("flatBoxes.smokingAllowed","==",S))}if(o.internet){var k=o.internet;switch(k){case"Internet":k="Ano";break;case"Bez internetu":k="Ne"}l.push((0,s.ar)("flatBoxes.internet","==",k))}if(o.elevator){var x=o.elevator;switch(x){case"V\xfdtah":x="Ano";break;case"Bez v\xfdtahu":x="Ne"}l.push((0,s.ar)("flatBoxes.elevator","==",x))}}}return a=e(u({},f,{type:"firstQuery"})),new Promise((function(t,o){(0,s.PL)(a).then((function(o){if("first"===n?h=o.docs:"next"===n?r.length?d=o.docs:h=o.docs:"prev"===n&&(i.length?h=o.docs:d=o.docs),f.newPremiumListings=h,f.newListings=d,!(8===o.docs.length||"next"===n&&r.length||"prev"===n&&i.length))return c=e(u({},f,{type:"secondQuery"})),(0,s.PL)(c);t({newPremiumListings:h,newListings:d})})).then((function(e){"prev"===n?h=e.docs:d=e.docs,t({newPremiumListings:h,newListings:d})})).catch((function(t){o(t)}))}))},getListing:function(t){return(0,s.QT)((0,s.JU)(o.db,"listings",t))},getListingContact:function(t){return(0,s.PL)((0,s.hJ)(o.db,"listings",t,"contact"))},getListingByUser:function(t){var e=(0,s.IO)((0,s.hJ)(o.db,"listings"),(0,s.ar)("userInfo.uid","==",t));return(0,s.PL)(e)},getRequests:function(t,e,r,i,o){var a,c,l=[],h=[],d={page:r,requestType:t,uid:e,requests:i,premiumRequests:o,newRequests:h,newPremiumRequests:l};return a=n(u({},d,{type:"firstQuery"})),new Promise((function(e,f){(0,s.PL)(a).then((function(a){if("sentRequests"===t?h=a.docs:"first"===r?l=a.docs:"next"===r?i.length?h=a.docs:l=a.docs:"prev"===r&&(o.length?l=a.docs:h=a.docs),d.newPremiumRequests=l,d.newRequests=h,!(10===a.docs.length||"next"===r&&listings.length||"prev"===r&&o.length||"sentRequests"===t))return c=n(u({},d,{type:"secondQuery"})),(0,s.PL)(c);e({newPremiumRequests:l,newRequests:h})})).then((function(t){"prev"===r?l=t.docs:h=t.docs,console.log("did both"),e({newPremiumRequests:l,newRequests:h})})).catch((function(t){f(t)}))}))},getNotifications:function(t){var e=(0,s.hJ)(o.db,"users",t,"notifications"),n=(0,s.IO)(e,(0,s.Xo)("timeStamp","desc"),(0,s.b9)(9));return(0,s.PL)(n)},getFriends:function(t,e,n){var r=(0,s.hJ)(o.db,"users",t,"friends");if("first"===e){var i=(0,s.IO)(r,(0,s.Xo)("timeStamp","desc"),(0,s.b9)(10));return(0,s.PL)(i)}if("next"===e){var a=(0,s.IO)(r,(0,s.Xo)("timeStamp","desc"),(0,s.b9)(10),(0,s.TQ)(n[n.length-1]));return(0,s.PL)(a)}if("prev"===e){var c=(0,s.IO)(r,(0,s.Xo)("timeStamp","desc"),(0,s.Lx)(n[0]),(0,s.vh)(10));return(0,s.PL)(c)}},getLiked:function(t,e,n){var r=(0,s.hJ)(o.db,"users",t,"likedListings");if("first"===e){var i=(0,s.IO)(r,(0,s.Xo)("timeStamp","desc"),(0,s.b9)(10));return(0,s.PL)(i)}if("next"===e){var a=(0,s.IO)(r,(0,s.Xo)("timeStamp","desc"),(0,s.b9)(10),(0,s.TQ)(n[n.length-1]));return(0,s.PL)(a)}if("prev"===e){var c=(0,s.IO)(r,(0,s.Xo)("timeStamp","desc"),(0,s.Lx)(n[0]),(0,s.vh)(10));return(0,s.PL)(c)}}};return(0,r.jsx)(h.Provider,{value:i,children:t.children})}},6155:function(t,e,n){"use strict";n.d(e,{M:function(){return s},Q:function(){return a}});var r=n(5893),i=n(7294),o=(0,i.createContext)(),s=function(){return(0,i.useContext)(o)},a=function(t){var e=t.children,n=(0,i.useState)(null),s=n[0],a=n[1],c=(0,i.useState)(null),u=c[0],l=c[1],h=(0,i.useState)(null),d=h[0],f=h[1],p=(0,i.useState)(null),m=p[0],g=p[1],v=(0,i.useState)(null),y=v[0],b=v[1],w=(0,i.useState)(null),T=w[0],E=w[1],I=(0,i.useState)({}),S=I[0],k=I[1],x=(0,i.useState)(1),A=x[0],_=x[1],C=(0,i.useState)(1),R=C[0],P=C[1],O=(0,i.useState)(null),N={flatListingsValue:[s,a],flatmateListingsValue:[u,l],flatSnapsValue:[d,f],flatmateSnapsValue:[m,g],premiumFlatSnapsValue:[T,E],premiumFlatmateSnapsValue:[y,b],activeFiltersValue:[S,k],flatmatePageValue:[A,_],flatPageValue:[R,P],currentVariantValue:[O[0],O[1]]};return(0,r.jsx)(o.Provider,{value:N,children:e})}},2690:function(t,e,n){"use strict";n.d(e,{t:function(){return s},I:function(){return a}});var r=n(5893),i=n(7294),o=(0,i.createContext)(),s=function(){return(0,i.useContext)(o)},a=function(t){var e=t.children,n=(0,i.useState)(!1),s=n[0],a=n[1];return(0,r.jsx)(o.Provider,{value:[s,a],children:e})}},1614:function(t,e,n){"use strict";n.d(e,{d:function(){return c}});var r=n(5893),i=n(7294),o=n(9273),s=n(549),a=(0,i.createContext)(),c=function(){return(0,i.useContext)(a)};e.Z=function(t){var e=t.children,n={callable:function(t){return(0,s.V1)(o.wk,t)}};return(0,r.jsx)(a.Provider,{value:n,children:e})}},5182:function(t,e,n){"use strict";n.d(e,{r:function(){return s},P:function(){return a}});var r=n(5893),i=n(7294),o=(0,i.createContext)(),s=function(){return(0,i.useContext)(o)};function a(t){var e=(0,i.useState)(!1),n=e[0],s=e[1];return(0,r.jsx)(o.Provider,{value:[n,s],children:t.children})}},7595:function(t,e,n){"use strict";n.d(e,{A:function(){return s},F:function(){return a}});var r=n(5893),i=n(7294),o=(0,i.createContext)(),s=function(){return(0,i.useContext)(o)};function a(t){var e=(0,i.useState)(!1),n=e[0],s=e[1];return(0,r.jsx)(o.Provider,{value:[n,s],children:t.children})}},4823:function(t,e,n){"use strict";n.d(e,{z:function(){return c},N:function(){return u}});var r=n(5893),i=n(7294),o=(n(9273),n(6257),n(1018)),s=n(6934),a=(0,i.createContext)(),c=function(){return(0,i.useContext)(a)},u=function(t){var e=t.children,n=(0,o.a)().currentUser,c=(0,s.s)().getNotifications,u=(0,i.useState)(null),l=u[0],h=u[1];return(0,i.useEffect)((function(){if(n){var t=[];c(n.uid).then((function(e){e.docs.forEach((function(e){t.push(e.data())})),h(t)}))}else h(null)}),[n]),(0,r.jsx)(a.Provider,{value:[l,h],children:e})}},5691:function(t,e,n){"use strict";n.d(e,{m:function(){return s},l:function(){return a}});var r=n(5893),i=n(7294),o=(0,i.createContext)(),s=function(){return(0,i.useContext)(o)};function a(t){(0,i.useRef)();var e=(0,i.useState)(),n=e[0],s=e[1],a=(0,i.useRef)(),c=(0,i.useRef)(),u=(0,i.useRef)(),l=(0,i.useRef)(),h=(0,i.useRef)(),d=(0,i.useRef)(),f={usernameState:{username:n,setUsername:s},emailRef:a,phoneRef:c,phoneCodeRef:u,passwordRef:l,passwordCheckRef:h,dayRef:(0,i.useRef)(),monthRef:d,yearRef:(0,i.useRef)(),termsAgreementRef:(0,i.useRef)(),emailMarketingRef:(0,i.useRef)()};return(0,r.jsx)(o.Provider,{value:f,children:t.children})}},7503:function(t,e,n){"use strict";n.d(e,{i:function(){return s},J:function(){return a}});var r=n(5893),i=n(7294),o=(0,i.createContext)(),s=function(){return(0,i.useContext)(o)};function a(t){var e=(0,i.useState)(!1),n=e[0],s=e[1],a=(0,i.useState)(""),c=a[0],u=a[1],l=(0,i.useState)(""),h=l[0],d=l[1],f={isSnackBarOpen:n,snackBar:function(t,e){s(!0),u(t),d(e),setTimeout((function(){s(!1)}),2e3)},snackBarMsg:c,snackBarSeverity:h};return(0,r.jsx)(o.Provider,{value:f,children:t.children})}},742:function(t,e,n){"use strict";n.d(e,{y:function(){return c},X:function(){return u}});var r=n(5893),i=n(7294),o=n(9273),s=n(1153),a=(0,i.createContext)(),c=function(){return(0,i.useContext)(a)},u=function(t){var e=t.children,n=function(t,e){return new Promise((function(n,r){var i;if("image/jpeg"===t.type&&(i=".jpg"),"image/png"===t.type&&(i=".png"),null!=i){var a=(0,s.iH)(o.tO,"users/".concat(e,"/pfps/pfp").concat(i));(0,s.KV)(a,t,{cacheControl:"public,max-age=0"}).then((function(t){n(t)})).catch((function(t){r(t)}))}}))},i=function(t,e){var n,r=[],i=[],a={cacheControl:"public,max-age=0"};return t.forEach((function(t,a){if(t&&("image/jpeg"===t.type&&(n=".jpg"),"image/png"===t.type&&(n=".png"),n)){var c=(0,s.iH)(o.tO,"/users/".concat(e,"/listingImgs/").concat(a).concat(n));r.push(c),i.push(t)}})),Promise.all(i.map((function(t,e){return(0,s.KV)(r[e],i[e],a)})))},c={uploadImg:function(t,e,r){return"pfp"===r?n(e,t):"listingImgs"===r?i(e,t):void 0}};return(0,r.jsx)(a.Provider,{value:c,children:e})}},8418:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.default=void 0;var o,s=(o=n(7294))&&o.__esModule?o:{default:o},a=n(6273),c=n(387),u=n(7190);var l={};function h(t,e,n,r){if(t&&a.isLocalURL(e)){t.prefetch(e,n,r).catch((function(t){0}));var i=r&&"undefined"!==typeof r.locale?r.locale:t&&t.locale;l[e+"%"+n+(i?"%"+i:"")]=!0}}var d=function(t){var e,n=!1!==t.prefetch,r=c.useRouter(),o=s.default.useMemo((function(){var e=i(a.resolveHref(r,t.href,!0),2),n=e[0],o=e[1];return{href:n,as:t.as?a.resolveHref(r,t.as):o||n}}),[r,t.href,t.as]),d=o.href,f=o.as,p=t.children,m=t.replace,g=t.shallow,v=t.scroll,y=t.locale;"string"===typeof p&&(p=s.default.createElement("a",null,p));var b=(e=s.default.Children.only(p))&&"object"===typeof e&&e.ref,w=i(u.useIntersection({rootMargin:"200px"}),2),T=w[0],E=w[1],I=s.default.useCallback((function(t){T(t),b&&("function"===typeof b?b(t):"object"===typeof b&&(b.current=t))}),[b,T]);s.default.useEffect((function(){var t=E&&n&&a.isLocalURL(d),e="undefined"!==typeof y?y:r&&r.locale,i=l[d+"%"+f+(e?"%"+e:"")];t&&!i&&h(r,d,f,{locale:e})}),[f,d,E,y,n,r]);var S={ref:I,onClick:function(t){e.props&&"function"===typeof e.props.onClick&&e.props.onClick(t),t.defaultPrevented||function(t,e,n,r,i,o,s,c){("A"!==t.currentTarget.nodeName||!function(t){var e=t.currentTarget.target;return e&&"_self"!==e||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which}(t)&&a.isLocalURL(n))&&(t.preventDefault(),null==s&&r.indexOf("#")>=0&&(s=!1),e[i?"replace":"push"](n,r,{shallow:o,locale:c,scroll:s}))}(t,r,d,f,m,g,v,y)},onMouseEnter:function(t){e.props&&"function"===typeof e.props.onMouseEnter&&e.props.onMouseEnter(t),a.isLocalURL(d)&&h(r,d,f,{priority:!0})}};if(t.passHref||"a"===e.type&&!("href"in e.props)){var k="undefined"!==typeof y?y:r&&r.locale,x=r&&r.isLocaleDomain&&a.getDomainLocale(f,k,r&&r.locales,r&&r.domainLocales);S.href=x||a.addBasePath(a.addLocale(f,k,r&&r.defaultLocale))}return s.default.cloneElement(e,S)};e.default=d},7190:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.useIntersection=function(t){var e=t.rootRef,n=t.rootMargin,r=t.disabled||!a,u=o.useRef(),l=i(o.useState(!1),2),h=l[0],d=l[1],f=i(o.useState(e?e.current:null),2),p=f[0],m=f[1],g=o.useCallback((function(t){u.current&&(u.current(),u.current=void 0),r||h||t&&t.tagName&&(u.current=function(t,e,n){var r=function(t){var e=t.rootMargin||"",n=c.get(e);if(n)return n;var r=new Map,i=new IntersectionObserver((function(t){t.forEach((function(t){var e=r.get(t.target),n=t.isIntersecting||t.intersectionRatio>0;e&&n&&e(n)}))}),t);return c.set(e,n={id:e,observer:i,elements:r}),n}(n),i=r.id,o=r.observer,s=r.elements;return s.set(t,e),o.observe(t),function(){s.delete(t),o.unobserve(t),0===s.size&&(o.disconnect(),c.delete(i))}}(t,(function(t){return t&&d(t)}),{root:p,rootMargin:n}))}),[r,p,n,h]);return o.useEffect((function(){if(!a&&!h){var t=s.requestIdleCallback((function(){return d(!0)}));return function(){return s.cancelIdleCallback(t)}}}),[h]),o.useEffect((function(){e&&m(e.current)}),[e]),[g,h]};var o=n(7294),s=n(9311),a="undefined"!==typeof IntersectionObserver;var c=new Map},1364:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return yt}});var r=n(5893),i=n(7294),o=n(1163),s=n(8418),a=n(1018),c=n(6934),u=n(5182),l=n(7595),h=n(5691),d=n(4823),f=n(7503),p=n(2690),m=(n(1664),n(387)),g=n(5906);function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(){var t=(0,m.useRouter)(),e=(0,a.a)(),n=e.currentUser,o=e.currentUserInfo,s=e.logOut,h=y((0,l.A)(),2),d=h[0],f=h[1],p=((0,c.s)().getUser,y((0,u.r)(),2)),v=(p[0],p[1]);return(0,i.useEffect)((function(){d?(window.scrollTo(0,0),document.body.classList.add("lock-scroll")):document.body.classList.remove("lock-scroll")}),[d]),(0,r.jsx)(g.E.div,{animate:d?{y:0,opacity:1,display:"flex",pointerEvents:"all"}:"",initial:{y:"-100px",opacity:0,display:"none",pointerEvents:"none"},transition:{duration:.5},className:"nav-overlay",children:n?(0,r.jsxs)("ul",{className:"overlay-nav-logged",children:[(0,r.jsxs)("li",{onClick:function(){t.push("/".concat("offerer"===o.mainInfo.type?"flat":"flatmate"===o.mainInfo.type?"flatmate":"","/").concat(o.listing.id)),f(!1)},className:"nav-logged-item",children:[(0,r.jsx)("i",{className:"item-icon fas fa-home"}),"M\u016fj inzer\xe1t"]}),(0,r.jsxs)("li",{onClick:function(){f(!1),t.push("/friends")},className:"nav-logged-item",children:[(0,r.jsx)("i",{className:"fas fa-users item-icon"})," P\u0159\xe1tel\xe9"]}),(0,r.jsxs)("li",{onClick:function(){f(!1),t.push("/requests/recieved")},className:"nav-logged-item",children:[(0,r.jsx)("i",{className:"fas fa-envelope item-icon"})," \u017d\xe1dosti"]}),(0,r.jsxs)("li",{onClick:function(){f(!1),t.push("/liked")},className:"nav-logged-item",children:[(0,r.jsx)("i",{className:"fas fa-heart"})," Obl\xedben\xe9"]}),(0,r.jsxs)("li",{className:"nav-logged-item",onClick:function(){t.push("/edit-profile"),f(!1)},children:[" ",(0,r.jsx)("i",{className:"item-icon fas fa-pen"})," \xda\u010det a soukrom\xed"]}),(0,r.jsxs)("li",{onClick:function(){v(!0),f(!1),s().then((function(e){t.push("/"),v(!1)})).catch((function(t){console.log(t),v(!1)}))},className:"nav-logged-item",children:[(0,r.jsx)("i",{className:"item-icon fas fa-sign-out-alt"}),"Odhl\xe1sit"]})]}):(0,r.jsxs)("ul",{className:"overlay-nav",children:[(0,r.jsx)("li",{onClick:function(){t.push("/login"),f(!1)},children:"P\u0159ihl\xe1sit se"}),(0,r.jsx)("li",{onClick:function(){t.push("/register"),f(!1)},children:"Registrovat"})]})})},w=n(7227),T=n(8456);function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(){var t=I((0,u.r)(),2),e=t[0];t[1];return(0,r.jsx)(w.Z,{sx:{color:"#fff",zIndex:function(t){return t.zIndex.drawer+1}},open:e,children:(0,r.jsx)(T.Z,{color:"inherit"})})},k=n(9029),x=n(9008),A=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.default,{children:(0,r.jsx)("title",{children:"Roomie - port\xe1l pro hled\xe1n\xed spolubydlen\xed"})}),(0,r.jsxs)("div",{className:"under-construction",children:[(0,r.jsx)("h1",{children:"Roomie"}),(0,r.jsx)("h2",{children:"Nejlep\u0161\xed port\xe1l pro spolubydlen\xed"}),(0,r.jsx)("p",{children:"Ji\u017e brzy"}),(0,r.jsx)("img",{src:"/img/bad-results/under-con.png",alt:""}),(0,r.jsxs)("div",{className:"wip-socials",children:[(0,r.jsx)("div",{onClick:function(){return window.location.href="https://instagram.com/roomiecz"},className:"socials-social",children:(0,r.jsx)("i",{className:"fab fa-instagram"})}),(0,r.jsx)("div",{onClick:function(){return window.location.href="https://www.facebook.com/roomiecz/"},className:"socials-social",children:(0,r.jsx)("i",{className:"fab fa-facebook"})}),(0,r.jsx)("div",{onClick:function(){return window.location.href="https://www.linkedin.com/company/roomie-cz/about/"},className:"socials-social",children:(0,r.jsx)("i",{className:"fab fa-linkedin"})})]})]})]})},_=n(3366),C=n(7462),R=n(6010),P=n(7192),O=n(67),N=n(3633),D=n(7094);function L(t){return t.substring(2).toLowerCase()}var M=function(t){const{children:e,disableReactTree:n=!1,mouseEvent:o="onClick",onClickAway:s,touchEvent:a="onTouchEnd"}=t,c=i.useRef(!1),u=i.useRef(null),l=i.useRef(!1),h=i.useRef(!1);i.useEffect((()=>(setTimeout((()=>{l.current=!0}),0),()=>{l.current=!1})),[]);const d=(0,O.Z)(e.ref,u),f=(0,N.Z)((t=>{const e=h.current;h.current=!1;const r=(0,D.Z)(u.current);if(!l.current||!u.current||"clientX"in t&&function(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}(t,r))return;if(c.current)return void(c.current=!1);let i;i=t.composedPath?t.composedPath().indexOf(u.current)>-1:!r.documentElement.contains(t.target)||u.current.contains(t.target),i||!n&&e||s(t)})),p=t=>n=>{h.current=!0;const r=e.props[t];r&&r(n)},m={ref:d};return!1!==a&&(m[a]=p(a)),i.useEffect((()=>{if(!1!==a){const t=L(a),e=(0,D.Z)(u.current),n=()=>{c.current=!0};return e.addEventListener(t,f),e.addEventListener("touchmove",n),()=>{e.removeEventListener(t,f),e.removeEventListener("touchmove",n)}}}),[f,a]),!1!==o&&(m[o]=p(o)),i.useEffect((()=>{if(!1!==o){const t=L(o),e=(0,D.Z)(u.current);return e.addEventListener(t,f),()=>{e.removeEventListener(t,f)}}}),[f,o]),(0,r.jsx)(i.Fragment,{children:i.cloneElement(e,m)})},j=n(2151),V=n(2734),U=n(7623),F=n(6067),$=n(2068),B=n(8216),q=n(6514),Z=n(1796),z=n(5113),H=n(3620),K=n(6087);function W(t){return(0,H.Z)("MuiSnackbarContent",t)}(0,K.Z)("MuiSnackbarContent",["root","message","action"]);const G=["action","className","message","role"],X=(0,j.ZP)(z.Z,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})((({theme:t})=>{const e="light"===t.palette.mode?.8:.98,n=(0,Z._4)(t.palette.background.default,e);return(0,C.Z)({},t.typography.body2,{color:t.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:t.shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),Y=(0,j.ZP)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),J=(0,j.ZP)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8});var Q=i.forwardRef((function(t,e){const n=(0,U.Z)({props:t,name:"MuiSnackbarContent"}),{action:i,className:o,message:s,role:a="alert"}=n,c=(0,_.Z)(n,G),u=n,l=(t=>{const{classes:e}=t;return(0,P.Z)({root:["root"],action:["action"],message:["message"]},W,e)})(u);return(0,r.jsxs)(X,(0,C.Z)({role:a,square:!0,elevation:6,className:(0,R.Z)(l.root,o),ownerState:u,ref:e},c,{children:[(0,r.jsx)(Y,{className:l.message,ownerState:u,children:s}),i?(0,r.jsx)(J,{className:l.action,ownerState:u,children:i}):null]}))}));function tt(t){return(0,H.Z)("MuiSnackbar",t)}(0,K.Z)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const et=["onEnter","onExited"],nt=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],rt=(0,j.ZP)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${(0,B.Z)(n.anchorOrigin.vertical)}${(0,B.Z)(n.anchorOrigin.horizontal)}`]]}})((({theme:t,ownerState:e})=>{const n=(0,C.Z)({},!e.isRtl&&{left:"50%",right:"auto",transform:"translateX(-50%)"},e.isRtl&&{right:"50%",left:"auto",transform:"translateX(50%)"});return(0,C.Z)({zIndex:t.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===e.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===e.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===e.anchorOrigin.horizontal&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:(0,C.Z)({},"top"===e.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===e.anchorOrigin.horizontal&&n,"left"===e.anchorOrigin.horizontal&&(0,C.Z)({},!e.isRtl&&{left:24,right:"auto"},e.isRtl&&{right:24,left:"auto"}),"right"===e.anchorOrigin.horizontal&&(0,C.Z)({},!e.isRtl&&{right:24,left:"auto"},e.isRtl&&{left:24,right:"auto"}))})}));var it=i.forwardRef((function(t,e){const n=(0,U.Z)({props:t,name:"MuiSnackbar"}),{action:o,anchorOrigin:{vertical:s,horizontal:a}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:l,ClickAwayListenerProps:h,ContentProps:d,disableWindowBlurListener:f=!1,message:p,onBlur:m,onClose:g,onFocus:v,onMouseEnter:y,onMouseLeave:b,open:w,resumeHideDuration:T,TransitionComponent:E=q.Z,transitionDuration:I={enter:F.x9.enteringScreen,exit:F.x9.leavingScreen},TransitionProps:{onEnter:S,onExited:k}={}}=n,x=(0,_.Z)(n.TransitionProps,et),A=(0,_.Z)(n,nt),O="rtl"===(0,V.Z)().direction,N=(0,C.Z)({},n,{anchorOrigin:{vertical:s,horizontal:a},isRtl:O}),D=(t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${(0,B.Z)(n.vertical)}${(0,B.Z)(n.horizontal)}`]};return(0,P.Z)(r,tt,e)})(N),L=i.useRef(),[j,Z]=i.useState(!0),z=(0,$.Z)(((...t)=>{g&&g(...t)})),H=(0,$.Z)((t=>{g&&null!=t&&(clearTimeout(L.current),L.current=setTimeout((()=>{z(null,"timeout")}),t))}));i.useEffect((()=>(w&&H(c),()=>{clearTimeout(L.current)})),[w,c,H]);const K=()=>{clearTimeout(L.current)},W=i.useCallback((()=>{null!=c&&H(null!=T?T:.5*c)}),[c,T,H]);return i.useEffect((()=>{if(!f&&w)return window.addEventListener("focus",W),window.addEventListener("blur",K),()=>{window.removeEventListener("focus",W),window.removeEventListener("blur",K)}}),[f,W,w]),i.useEffect((()=>{if(w)return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)};function t(t){t.defaultPrevented||"Escape"!==t.key&&"Esc"!==t.key||g&&g(t,"escapeKeyDown")}}),[j,w,g]),!w&&j?null:(0,r.jsx)(M,(0,C.Z)({onClickAway:t=>{g&&g(t,"clickaway")}},h,{children:(0,r.jsx)(rt,(0,C.Z)({className:(0,R.Z)(D.root,l),onBlur:t=>{m&&m(t),W()},onFocus:t=>{v&&v(t),K()},onMouseEnter:t=>{y&&y(t),K()},onMouseLeave:t=>{b&&b(t),W()},ownerState:N,ref:e},A,{children:(0,r.jsx)(E,(0,C.Z)({appear:!0,in:w,timeout:I,direction:"top"===s?"down":"up",onEnter:(t,e)=>{Z(!1),S&&S(t,e)},onExited:t=>{Z(!0),k&&k(t)}},x,{children:u||(0,r.jsx)(Q,(0,C.Z)({message:p,action:o},d))}))}))}))})),ot=n(5568);function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function at(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return st(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ct=function(t){var e=t.children,n=(0,o.useRouter)(),c=(0,a.a)().currentUser,m=(0,i.useState)(!1),g=m[0],v=m[1],y=(0,f.i)(),w=y.isSnackBarOpen,T=y.snackBarSeverity,E=y.snackBarMsg,I=at((0,u.r)(),2),x=(I[0],I[1],at((0,p.t)(),2)),_=x[0],C=x[1];return(0,i.useEffect)((function(){(c||"/login/"===n.asPath)&&v(!1)}),[c]),(0,r.jsx)(r.Fragment,{children:g?(0,r.jsx)(A,{}):(0,r.jsx)(u.P,{children:(0,r.jsx)(d.N,{children:(0,r.jsx)(l.F,{children:(0,r.jsxs)(h.l,{children:[(0,r.jsx)(b,{}),(0,r.jsx)(S,{}),(0,r.jsx)(it,{open:w,children:(0,r.jsx)(ot.Z,{sx:{width:"100%"},severity:T||"error",children:E})}),(0,r.jsxs)(k.Z,{image:"/img/dialogs/welcome-dialog.png",heading:"Co v\xe1m roomie m\u016f\u017ee nab\xeddnout?",open:_,setOpen:C,children:[(0,r.jsxs)("div",{className:"dialog-body",children:["Zde si m\u016f\u017eete prohl\xe9dnout existuj\xedc\xed inzer\xe1ty, pokud v\u0161ak chcete u\u017eivatele kontaktovat a zalo\u017eit si vlastn\xed inzer\xe1t, je nutn\xe9 se ",(0,r.jsx)(s.default,{href:"/register",children:"zaregistrovat"})," nebo"," ",(0,r.jsx)(s.default,{href:"/login",children:"p\u0159ihl\xe1sit."})]}),(0,r.jsxs)("div",{className:"dialog-action",children:[(0,r.jsx)("button",{onClick:function(){return C(!1)},className:"main-btn",children:"Jen se d\xedv\xe1m"}),(0,r.jsx)("button",{onClick:function(){C(!1),n.push("/register")},className:"acc-btn",children:"Registrovat"})]})]}),e]})})})})})},ut=n(4298),lt=n(4865),ht=n.n(lt),dt=n(9273),ft=n(1614),pt=n(742),mt=n(6155);n(7284);function gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){gt(t,e,n[e])}))}return t}ht().configure({minimum:.3,easing:"ease",speed:800,showSpinner:!1}),o.default.events.on("routeChangeStart",(function(){return ht().start()})),o.default.events.on("routeChangeComplete",(function(){return ht().done()})),o.default.events.on("routeChangeError",(function(){return ht().done()}));var yt=function(t){var e=t.Component,n=t.pageProps;return(0,i.useEffect)((function(){(0,dt.co)()}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(x.default,{children:[(0,r.jsx)("meta",{name:"google-site-verification",content:"3KNnGjbrFKY2McWJDSNTsaSfH5hTx6wJfTjhxCWs8og"}),(0,r.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css",integrity:"sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA==",crossOrigin:"anonymous",referrerPolicy:"no-referrer"}),(0,r.jsx)("link",{rel:"icon",type:"image/png",href:"/img/logos/logo-small.png"}),(0,r.jsx)("meta",{property:"og:site_name",content:"Roomie"}),(0,r.jsx)("meta",{property:"og:image",content:"/img/poster/poster-mobile.png"}),(0,r.jsx)("meta",{property:"twitter:image",content:"/img/poster/poster-mobile.png"}),(0,r.jsx)("meta",{name:"description",content:"Port\xe1l Roomie se zam\u011b\u0159uje na zprost\u0159edkov\xe1n\xed modern\xed platformy pro hled\xe1n\xed spolubydl\xedc\xedch \u010di byt\u016f ke spolubydlen\xed. Hledejte spolubydlen\xed a spolubydl\xedc\xed jednodu\u0161e a podle va\u0161ich p\u0159edstav. Jsme soci\xe1ln\xed s\xedt\xed pro spolubydlen\xed."}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{property:"og:url",content:"https://roomie.cz/"}),(0,r.jsx)("meta",{property:"og:description",content:"Port\xe1l Roomie se zam\u011b\u0159uje na zprost\u0159edkov\xe1n\xed modern\xed platformy pro hled\xe1n\xed spolubydl\xedc\xedch \u010di byt\u016f ke spolubydlen\xed. Hledejte spolubydlen\xed a spolubydl\xedc\xed jednodu\u0161e a podle va\u0161ich p\u0159edstav. Jsme soci\xe1ln\xed s\xedt\xed pro spolubydlen\xed."}),(0,r.jsx)("meta",{property:"og:image",content:"https://roomie.cz/img/poster/poster-mobile.png"}),(0,r.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{property:"twitter:url",content:"https://roomie.cz/"}),(0,r.jsx)("meta",{property:"twitter:description",content:"Port\xe1l Roomie se zam\u011b\u0159uje na zprost\u0159edkov\xe1n\xed modern\xed platformy pro hled\xe1n\xed spolubydl\xedc\xedch \u010di byt\u016f ke spolubydlen\xed. Hledejte spolubydlen\xed a spolubydl\xedc\xed jednodu\u0161e a podle va\u0161ich p\u0159edstav. Jsme soci\xe1ln\xed s\xedt\xed pro spolubydlen\xed."}),(0,r.jsx)("meta",{property:"twitter:image",content:"https://roomie.cz/img/poster/poster-mobile.png"})]}),(0,r.jsx)(ut.default,{id:"Cookiebot",src:"https://consent.cookiebot.com/uc.js","data-cbid":"3d818e39-653d-4a0d-b674-7e1099e97f24","data-blockingmode":"auto",type:"text/javascript"}),(0,r.jsx)(c.W,{children:(0,r.jsx)(ft.Z,{children:(0,r.jsx)(a.H,{children:(0,r.jsx)(u.P,{children:(0,r.jsx)(f.J,{children:(0,r.jsx)(pt.X,{children:(0,r.jsx)(p.I,{children:(0,r.jsx)(mt.Q,{children:(0,r.jsx)(ct,{children:(0,r.jsx)(e,vt({},n))})})})})})})})})})]})}},7284:function(){},7663:function(t){!function(){var e={162:function(t){var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"===typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,c=[],u=!1,l=-1;function h(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!u){var t=s(h);u=!0;for(var e=c.length;e;){for(a=c,c=[];++l<e;)a&&a[l].run();l=-1,e=c.length}a=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}},s=!0;try{e[t](o,o.exports,r),s=!1}finally{s&&delete n[t]}return o.exports}r.ab="//";var i=r(162);t.exports=i}()},9008:function(t,e,n){t.exports=n(5443)},1664:function(t,e,n){t.exports=n(8418)},1163:function(t,e,n){t.exports=n(387)},4298:function(t,e,n){t.exports=n(699)},4865:function(t,e,n){var r,i;void 0===(i="function"===typeof(r=function(){var t={version:"0.2.0"},e=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function n(t,e,n){return t<e?e:t>n?n:t}function r(t){return 100*(-1+t)}function i(t,n,i){var o;return(o="translate3d"===e.positionUsing?{transform:"translate3d("+r(t)+"%,0,0)"}:"translate"===e.positionUsing?{transform:"translate("+r(t)+"%,0)"}:{"margin-left":r(t)+"%"}).transition="all "+n+"ms "+i,o}t.configure=function(t){var n,r;for(n in t)void 0!==(r=t[n])&&t.hasOwnProperty(n)&&(e[n]=r);return this},t.status=null,t.set=function(r){var a=t.isStarted();r=n(r,e.minimum,1),t.status=1===r?null:r;var c=t.render(!a),u=c.querySelector(e.barSelector),l=e.speed,h=e.easing;return c.offsetWidth,o((function(n){""===e.positionUsing&&(e.positionUsing=t.getPositioningCSS()),s(u,i(r,l,h)),1===r?(s(c,{transition:"none",opacity:1}),c.offsetWidth,setTimeout((function(){s(c,{transition:"all "+l+"ms linear",opacity:0}),setTimeout((function(){t.remove(),n()}),l)}),l)):setTimeout(n,l)})),this},t.isStarted=function(){return"number"===typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),e.trickleSpeed)};return e.trickle&&n(),this},t.done=function(e){return e||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(e){var r=t.status;return r?("number"!==typeof e&&(e=(1-r)*n(Math.random()*r,.1,.95)),r=n(r+e,0,.994),t.set(r)):t.start()},t.trickle=function(){return t.inc(Math.random()*e.trickleRate)},function(){var e=0,n=0;t.promise=function(r){return r&&"resolved"!==r.state()?(0===n&&t.start(),e++,n++,r.always((function(){0===--n?(e=0,t.done()):t.set((e-n)/e)})),this):this}}(),t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var i=document.createElement("div");i.id="nprogress",i.innerHTML=e.template;var o,a=i.querySelector(e.barSelector),u=n?"-100":r(t.status||0),l=document.querySelector(e.parent);return s(a,{transition:"all 0 linear",transform:"translate3d("+u+"%,0,0)"}),e.showSpinner||(o=i.querySelector(e.spinnerSelector))&&h(o),l!=document.body&&c(l,"nprogress-custom-parent"),l.appendChild(i),i},t.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(e.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&h(t)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var o=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),1==t.length&&e()}}(),s=function(){var t=["Webkit","O","Moz","ms"],e={};function n(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,e){return e.toUpperCase()}))}function r(e){var n=document.body.style;if(e in n)return e;for(var r,i=t.length,o=e.charAt(0).toUpperCase()+e.slice(1);i--;)if((r=t[i]+o)in n)return r;return e}function i(t){return t=n(t),e[t]||(e[t]=r(t))}function o(t,e,n){e=i(e),t.style[e]=n}return function(t,e){var n,r,i=arguments;if(2==i.length)for(n in e)void 0!==(r=e[n])&&e.hasOwnProperty(n)&&o(t,n,r);else o(t,i[1],i[2])}}();function a(t,e){return("string"==typeof t?t:l(t)).indexOf(" "+e+" ")>=0}function c(t,e){var n=l(t),r=n+e;a(n,e)||(t.className=r.substring(1))}function u(t,e){var n,r=l(t);a(t,e)&&(n=r.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function l(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function h(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return t})?r.call(e,n,e,t):r)||(t.exports=i)},8885:function(t,e,n){"use strict";n.d(e,{ZP:function(){return g}});var r=n(3366),i=n(5068),o=n(7294),s=n(3935),a=!1,c=n(220),u="unmounted",l="exited",h="entering",d="entered",f="exiting",p=function(t){function e(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=l,r.appearStatus=h):i=d:i=e.unmountOnExit||e.mountOnEnter?u:l,r.state={status:i},r.nextCallback=null,r}(0,i.Z)(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===u?{status:l}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==d&&(e=h):n!==h&&n!==d||(e=f)}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===h?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===l&&this.setState({status:u})},n.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,i=this.props.nodeRef?[r]:[s.findDOMNode(this),r],o=i[0],c=i[1],u=this.getTimeouts(),l=r?u.appear:u.enter;!t&&!n||a?this.safeSetState({status:d},(function(){e.props.onEntered(o)})):(this.props.onEnter(o,c),this.safeSetState({status:h},(function(){e.props.onEntering(o,c),e.onTransitionEnd(l,(function(){e.safeSetState({status:d},(function(){e.props.onEntered(o,c)}))}))})))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);e&&!a?(this.props.onExit(r),this.safeSetState({status:f},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:l},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:l},(function(){t.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===u)return null;var e=this.props,n=e.children,i=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,(0,r.Z)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(c.Z.Provider,{value:null},"function"===typeof n?n(t,i):o.cloneElement(o.Children.only(n),i))},e}(o.Component);function m(){}p.contextType=c.Z,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},p.UNMOUNTED=u,p.EXITED=l,p.ENTERING=h,p.ENTERED=d,p.EXITING=f;var g=p},220:function(t,e,n){"use strict";var r=n(7294);e.Z=r.createContext(null)},655:function(t,e,n){"use strict";n.d(e,{ZT:function(){return i},pi:function(){return o},_T:function(){return s},CR:function(){return a},ev:function(){return c}});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;function a(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function c(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create},7462:function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,{Z:function(){return r}})},5068:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}n.d(e,{Z:function(){return i}})},3366:function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,{Z:function(){return r}})},2238:function(t,e,n){"use strict";n.d(e,{Jn:function(){return w},qX:function(){return g},Xd:function(){return m},Mq:function(){return E},ZF:function(){return T},KN:function(){return I}});var r=n(8463),i=n(3333),o=n(4444);class s{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const a="@firebase/app",c="0.7.15",u=new i.Yd("@firebase/app"),l="[DEFAULT]",h={[a]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,f=new Map;function p(t,e){try{t.container.addComponent(e)}catch(n){u.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function m(t){const e=t.name;if(f.has(e))return u.debug(`There were multiple attempts to register component ${e}.`),!1;f.set(e,t);for(const n of d.values())p(n,t);return!0}function g(t,e){return t.container.getProvider(e)}const v={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."},y=new o.LL("app","Firebase",v);class b{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw y.create("app-deleted",{appName:this._name})}}const w="9.6.5";function T(t,e={}){if("object"!==typeof e){e={name:e}}const n=Object.assign({name:l,automaticDataCollectionEnabled:!1},e),i=n.name;if("string"!==typeof i||!i)throw y.create("bad-app-name",{appName:String(i)});const s=d.get(i);if(s){if((0,o.vZ)(t,s.options)&&(0,o.vZ)(n,s.config))return s;throw y.create("duplicate-app",{appName:i})}const a=new r.H0(i);for(const r of f.values())a.addComponent(r);const c=new b(t,n,a);return d.set(i,c),c}function E(t="[DEFAULT]"){const e=d.get(t);if(!e)throw y.create("no-app",{appName:t});return e}function I(t,e,n){var i;let o=null!==(i=h[t])&&void 0!==i?i:t;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const t=[`Unable to register library "${o}" with version "${e}":`];return s&&t.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void u.warn(t.join(" "))}m(new r.wA(`${o}-version`,(()=>({library:o,version:e})),"VERSION"))}var S;S="",m(new r.wA("platform-logger",(t=>new s(t)),"PRIVATE")),I(a,c,S),I(a,c,"esm2017"),I("fire-js","")},8463:function(t,e,n){"use strict";n.d(e,{wA:function(){return i},H0:function(){return a}});var r=n(4444);class i{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const o="[DEFAULT]";class s{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new r.BH;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:r});n.resolve(t)}catch(e){}}}}clearInstance(t="[DEFAULT]"){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t="[DEFAULT]"){return this.instances.has(t)}getOptions(t="[DEFAULT]"){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===o?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(t="[DEFAULT]"){return this.component?this.component.multipleInstances?t:o:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new s(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},3333:function(t,e,n){"use strict";n.d(e,{in:function(){return i},Yd:function(){return u}});const r=[];var i;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=a[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class u{constructor(t){this.name=t,this._logLevel=s,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in i))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?o[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},5906:function(t,e,n){"use strict";n.d(e,{E:function(){return bs}});var r=n(655),i=n(7294),o=function(t){return{isEnabled:function(e){return t.some((function(t){return!!e[t]}))}}},s={measureLayout:o(["layout","layoutId","drag"]),animation:o(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:o(["exit"]),drag:o(["drag","dragControls"]),focus:o(["whileFocus"]),hover:o(["whileHover","onHoverStart","onHoverEnd"]),tap:o(["whileTap","onTap","onTapStart","onTapCancel"]),pan:o(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:o(["whileInView","onViewportEnter","onViewportLeave"])};var a=(0,i.createContext)({strict:!1}),c=Object.keys(s),u=c.length;var l=(0,i.createContext)({transformPagePoint:function(t){return t},isStatic:!1}),h=(0,i.createContext)({});var d=(0,i.createContext)(null),f="undefined"!==typeof window,p=f?i.useLayoutEffect:i.useEffect;function m(t,e,n,r){var o=(0,i.useContext)(a),s=(0,i.useContext)(h).visualElement,c=(0,i.useContext)(d),u=(0,i.useRef)(void 0);r||(r=o.renderer),!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceId:null===c||void 0===c?void 0:c.id,blockInitialAnimation:!1===(null===c||void 0===c?void 0:c.initial)}));var l=u.current;return p((function(){null===l||void 0===l||l.syncRender()})),(0,i.useEffect)((function(){var t;null===(t=null===l||void 0===l?void 0:l.animationState)||void 0===t||t.animateChanges()})),p((function(){return function(){return null===l||void 0===l?void 0:l.notifyUnmount()}}),[]),l}function g(t){return"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function v(t){return Array.isArray(t)}function y(t){return"string"===typeof t||v(t)}function b(t,e,n,r,i){var o;return void 0===r&&(r={}),void 0===i&&(i={}),"function"===typeof e&&(e=e(null!==n&&void 0!==n?n:t.custom,r,i)),"string"===typeof e&&(e=null===(o=t.variants)||void 0===o?void 0:o[e]),"function"===typeof e&&(e=e(null!==n&&void 0!==n?n:t.custom,r,i)),e}function w(t,e,n){var r=t.getProps();return b(r,e,null!==n&&void 0!==n?n:r.custom,function(t){var e={};return t.forEachValue((function(t,n){return e[n]=t.get()})),e}(t),function(t){var e={};return t.forEachValue((function(t,n){return e[n]=t.getVelocity()})),e}(t))}function T(t){var e;return"function"===typeof(null===(e=t.animate)||void 0===e?void 0:e.start)||y(t.initial)||y(t.animate)||y(t.whileHover)||y(t.whileDrag)||y(t.whileTap)||y(t.whileFocus)||y(t.exit)}function E(t){return Boolean(T(t)||t.variants)}function I(t){var e=function(t,e){if(T(t)){var n=t.initial,r=t.animate;return{initial:!1===n||y(n)?n:void 0,animate:y(r)?r:void 0}}return!1!==t.inherit?e:{}}(t,(0,i.useContext)(h)),n=e.initial,r=e.animate;return(0,i.useMemo)((function(){return{initial:n,animate:r}}),[S(n),S(r)])}function S(t){return Array.isArray(t)?t.join(" "):t}function k(t){var e=(0,i.useRef)(null);return null===e.current&&(e.current=t()),e.current}const x=1/60*1e3,A="undefined"!==typeof performance?()=>performance.now():()=>Date.now(),_="undefined"!==typeof window?t=>window.requestAnimationFrame(t):t=>setTimeout((()=>t(A())),x);let C=!0,R=!1,P=!1;const O={delta:0,timestamp:0},N=["read","update","preRender","render","postRender"],D=N.reduce(((t,e)=>(t[e]=function(t){let e=[],n=[],r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(t,o=!1,a=!1)=>{const c=a&&i,u=c?e:n;return o&&s.add(t),-1===u.indexOf(t)&&(u.push(t),c&&i&&(r=e.length)),t},cancel:t=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1),s.delete(t)},process:c=>{if(i)o=!0;else{if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let n=0;n<r;n++){const r=e[n];r(c),s.has(r)&&(a.schedule(r),t())}i=!1,o&&(o=!1,a.process(c))}}};return a}((()=>R=!0)),t)),{}),L=N.reduce(((t,e)=>{const n=D[e];return t[e]=(t,e=!1,r=!1)=>(R||F(),n.schedule(t,e,r)),t}),{}),M=N.reduce(((t,e)=>(t[e]=D[e].cancel,t)),{}),j=N.reduce(((t,e)=>(t[e]=()=>D[e].process(O),t)),{}),V=t=>D[t].process(O),U=t=>{R=!1,O.delta=C?x:Math.max(Math.min(t-O.timestamp,40),1),O.timestamp=t,P=!0,N.forEach(V),P=!1,R&&(C=!1,_(U))},F=()=>{R=!0,C=!0,P||_(U)},$=()=>O;var B=L;const q=(t,e,n)=>-n*t+n*e+t;function Z(t,e){return e?t*(1e3/e):0}function z(t,e){-1===t.indexOf(e)&&t.push(e)}function H(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var K=function(){function t(){this.subscriptions=[]}return t.prototype.add=function(t){var e=this;return z(this.subscriptions,t),function(){return H(e.subscriptions,t)}},t.prototype.notify=function(t,e,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(var i=0;i<r;i++){var o=this.subscriptions[i];o&&o(t,e,n)}},t.prototype.getSize=function(){return this.subscriptions.length},t.prototype.clear=function(){this.subscriptions.length=0},t}(),W=function(){function t(t){var e,n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new K,this.velocityUpdateSubscribers=new K,this.renderSubscribers=new K,this.canTrackVelocity=!1,this.updateAndNotify=function(t,e){void 0===e&&(e=!0),n.prev=n.current,n.current=t;var r=$(),i=r.delta,o=r.timestamp;n.lastUpdated!==o&&(n.timeDelta=i,n.lastUpdated=o,B.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),e&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return B.postRender(n.velocityCheck)},this.velocityCheck=function(t){t.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e)))}return t.prototype.onChange=function(t){return this.updateSubscribers.add(t)},t.prototype.clearListeners=function(){this.updateSubscribers.clear()},t.prototype.onRenderRequest=function(t){return t(this.get()),this.renderSubscribers.add(t)},t.prototype.attach=function(t){this.passiveEffect=t},t.prototype.set=function(t,e){void 0===e&&(e=!0),e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)},t.prototype.get=function(){return this.current},t.prototype.getPrevious=function(){return this.prev},t.prototype.getVelocity=function(){return this.canTrackVelocity?Z(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},t.prototype.start=function(t){var e=this;return this.stop(),new Promise((function(n){e.hasAnimated=!0,e.stopAnimation=t(n)})).then((function(){return e.clearAnimation()}))},t.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},t.prototype.isAnimating=function(){return!!this.stopAnimation},t.prototype.clearAnimation=function(){this.stopAnimation=null},t.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},t}();function G(t){return new W(t)}var X=function(t){return Boolean(null!==t&&"object"===typeof t&&t.getVelocity)};const Y=(t,e,n)=>Math.min(Math.max(n,t),e),J=.001;function Q({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o,s=1-e;s=Y(.05,1,s),t=Y(.01,10,t/1e3),s<1?(i=e=>{const r=e*s,i=r*t,o=r-n,a=tt(e,s),c=Math.exp(-i);return J-o/a*c},o=e=>{const r=e*s*t,o=r*n+n,a=Math.pow(s,2)*Math.pow(e,2)*t,c=Math.exp(-r),u=tt(Math.pow(e,2),s);return(-i(e)+J>0?-1:1)*((o-a)*c)/u}):(i=e=>Math.exp(-e*t)*((e-n)*t+1)-.001,o=e=>Math.exp(-e*t)*(t*t*(n-e)));const a=function(t,e,n){let r=n;for(let i=1;i<12;i++)r-=t(r)/e(r);return r}(i,o,5/t);if(t*=1e3,isNaN(a))return{stiffness:100,damping:10,duration:t};{const e=Math.pow(a,2)*r;return{stiffness:e,damping:2*s*Math.sqrt(r*e),duration:t}}}function tt(t,e){return t*Math.sqrt(1-e*e)}const et=["duration","bounce"],nt=["stiffness","damping","mass"];function rt(t,e){return e.some((e=>void 0!==t[e]))}function it(t){var{from:e=0,to:n=1,restSpeed:i=2,restDelta:o}=t,s=(0,r._T)(t,["from","to","restSpeed","restDelta"]);const a={done:!1,value:e};let{stiffness:c,damping:u,mass:l,velocity:h,duration:d,isResolvedFromDuration:f}=function(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!rt(t,nt)&&rt(t,et)){const n=Q(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}(s),p=ot,m=ot;function g(){const t=h?-h/1e3:0,r=n-e,i=u/(2*Math.sqrt(c*l)),s=Math.sqrt(c/l)/1e3;if(void 0===o&&(o=Math.min(Math.abs(n-e)/100,.4)),i<1){const e=tt(s,i);p=o=>{const a=Math.exp(-i*s*o);return n-a*((t+i*s*r)/e*Math.sin(e*o)+r*Math.cos(e*o))},m=n=>{const o=Math.exp(-i*s*n);return i*s*o*(Math.sin(e*n)*(t+i*s*r)/e+r*Math.cos(e*n))-o*(Math.cos(e*n)*(t+i*s*r)-e*r*Math.sin(e*n))}}else if(1===i)p=e=>n-Math.exp(-s*e)*(r+(t+s*r)*e);else{const e=s*Math.sqrt(i*i-1);p=o=>{const a=Math.exp(-i*s*o),c=Math.min(e*o,300);return n-a*((t+i*s*r)*Math.sinh(c)+e*r*Math.cosh(c))/e}}}return g(),{next:t=>{const e=p(t);if(f)a.done=t>=d;else{const r=1e3*m(t),s=Math.abs(r)<=i,c=Math.abs(n-e)<=o;a.done=s&&c}return a.value=a.done?n:e,a},flipTarget:()=>{h=-h,[e,n]=[n,e],g()}}}it.needsInterpolation=(t,e)=>"string"===typeof t||"string"===typeof e;const ot=t=>0,st=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r},at=(t,e)=>n=>Math.max(Math.min(n,e),t),ct=t=>t%1?Number(t.toFixed(5)):t,ut=/(-)?([\d]*\.?[\d])+/g,lt=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,ht=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function dt(t){return"string"===typeof t}const ft={test:t=>"number"===typeof t,parse:parseFloat,transform:t=>t},pt=Object.assign(Object.assign({},ft),{transform:at(0,1)}),mt=Object.assign(Object.assign({},ft),{default:1}),gt=(t,e)=>n=>Boolean(dt(n)&&ht.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),vt=(t,e,n)=>r=>{if(!dt(r))return r;const[i,o,s,a]=r.match(ut);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},yt=at(0,255),bt=Object.assign(Object.assign({},ft),{transform:t=>Math.round(yt(t))}),wt={test:gt("rgb","red"),parse:vt("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+bt.transform(t)+", "+bt.transform(e)+", "+bt.transform(n)+", "+ct(pt.transform(r))+")"};const Tt={test:gt("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),i=t.substr(4,1),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:wt.transform},Et=t=>({test:e=>dt(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),It=Et("deg"),St=Et("%"),kt=Et("px"),xt=Et("vh"),At=Et("vw"),_t=Object.assign(Object.assign({},St),{parse:t=>St.parse(t)/100,transform:t=>St.transform(100*t)}),Ct={test:gt("hsl","hue"),parse:vt("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+St.transform(ct(e))+", "+St.transform(ct(n))+", "+ct(pt.transform(r))+")"};function Rt(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Pt({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,n/=100;let i=0,o=0,s=0;if(e/=100){const r=n<.5?n*(1+e):n+e-n*e,a=2*n-r;i=Rt(a,r,t+1/3),o=Rt(a,r,t),s=Rt(a,r,t-1/3)}else i=o=s=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*s),alpha:r}}const Ot=(t,e,n)=>{const r=t*t,i=e*e;return Math.sqrt(Math.max(0,n*(i-r)+r))},Nt=[Tt,wt,Ct],Dt=t=>Nt.find((e=>e.test(t))),Lt=t=>`'${t}' is not an animatable color. Use the equivalent color code instead.`,Mt=(t,e)=>{let n=Dt(t),r=Dt(e);Lt(t),Lt(e);let i=n.parse(t),o=r.parse(e);n===Ct&&(i=Pt(i),n=wt),r===Ct&&(o=Pt(o),r=wt);const s=Object.assign({},i);return t=>{for(const e in s)"alpha"!==e&&(s[e]=Ot(i[e],o[e],t));return s.alpha=q(i.alpha,o.alpha,t),n.transform(s)}},jt={test:t=>wt.test(t)||Tt.test(t)||Ct.test(t),parse:t=>wt.test(t)?wt.parse(t):Ct.test(t)?Ct.parse(t):Tt.parse(t),transform:t=>dt(t)?t:t.hasOwnProperty("red")?wt.transform(t):Ct.transform(t)},Vt="${c}",Ut="${n}";function Ft(t){"number"===typeof t&&(t=`${t}`);const e=[];let n=0;const r=t.match(lt);r&&(n=r.length,t=t.replace(lt,Vt),e.push(...r.map(jt.parse)));const i=t.match(ut);return i&&(t=t.replace(ut,Ut),e.push(...i.map(ft.parse))),{values:e,numColors:n,tokenised:t}}function $t(t){return Ft(t).values}function Bt(t){const{values:e,numColors:n,tokenised:r}=Ft(t),i=e.length;return t=>{let e=r;for(let r=0;r<i;r++)e=e.replace(r<n?Vt:Ut,r<n?jt.transform(t[r]):ct(t[r]));return e}}const qt=t=>"number"===typeof t?0:t;const Zt={test:function(t){var e,n,r,i;return isNaN(t)&&dt(t)&&(null!==(n=null===(e=t.match(ut))||void 0===e?void 0:e.length)&&void 0!==n?n:0)+(null!==(i=null===(r=t.match(lt))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:$t,createTransformer:Bt,getAnimatableNone:function(t){const e=$t(t);return Bt(t)(e.map(qt))}},zt=t=>"number"===typeof t,Ht=(t,e)=>n=>e(t(n)),Kt=(...t)=>t.reduce(Ht);function Wt(t,e){return zt(t)?n=>q(t,e,n):jt.test(t)?Mt(t,e):Jt(t,e)}const Gt=(t,e)=>{const n=[...t],r=n.length,i=t.map(((t,n)=>Wt(t,e[n])));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}},Xt=(t,e)=>{const n=Object.assign(Object.assign({},t),e),r={};for(const i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=Wt(t[i],e[i]));return t=>{for(const e in r)n[e]=r[e](t);return n}};function Yt(t){const e=Zt.parse(t),n=e.length;let r=0,i=0,o=0;for(let s=0;s<n;s++)r||"number"===typeof e[s]?r++:void 0!==e[s].hue?o++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:o}}const Jt=(t,e)=>{const n=Zt.createTransformer(e),r=Yt(t),i=Yt(e);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?Kt(Gt(r.parsed,i.parsed),n):n=>`${n>0?e:t}`},Qt=(t,e)=>n=>q(t,e,n);function te(t,e,n){const r=[],i=n||("number"===typeof(o=t[0])?Qt:"string"===typeof o?jt.test(o)?Mt:Jt:Array.isArray(o)?Gt:"object"===typeof o?Xt:void 0);var o;const s=t.length-1;for(let a=0;a<s;a++){let n=i(t[a],t[a+1]);if(e){const t=Array.isArray(e)?e[a]:e;n=Kt(t,n)}r.push(n)}return r}function ee(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;e.length,!r||!Array.isArray(r)||r.length,t[0]>t[o-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const s=te(e,r,i),a=2===o?function([t,e],[n]){return r=>n(st(t,e,r))}(t,s):function(t,e){const n=t.length,r=n-1;return i=>{let o=0,s=!1;if(i<=t[0]?s=!0:i>=t[r]&&(o=r-1,s=!0),!s){let e=1;for(;e<n&&!(t[e]>i||e===r);e++);o=e-1}const a=st(t[o],t[o+1],i);return e[o](a)}}(t,s);return n?e=>a(Y(t[0],t[o-1],e)):a}const ne=t=>e=>1-t(1-e),re=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ie=t=>e=>e*e*((t+1)*e-t),oe=t=>t,se=(ae=2,t=>Math.pow(t,ae));var ae;const ce=ne(se),ue=re(se),le=t=>1-Math.sin(Math.acos(t)),he=ne(le),de=re(he),fe=ie(1.525),pe=ne(fe),me=re(fe),ge=(t=>{const e=ie(t);return t=>(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))})(1.525),ve=t=>{if(1===t||0===t)return t;const e=t*t;return t<.36363636363636365?7.5625*e:t<.7272727272727273?9.075*e-9.9*t+3.4:t<.9?12.066481994459833*e-19.63545706371191*t+8.898060941828255:10.8*t*t-20.52*t+10.72},ye=ne(ve);function be(t,e){return t.map((()=>e||ue)).splice(0,t.length-1)}function we({from:t=0,to:e=1,ease:n,offset:r,duration:i=300}){const o={done:!1,value:t},s=Array.isArray(e)?e:[t,e],a=function(t,e){return t.map((t=>t*e))}(r&&r.length===s.length?r:function(t){const e=t.length;return t.map(((t,n)=>0!==n?n/(e-1):0))}(s),i);function c(){return ee(a,s,{ease:Array.isArray(n)?n:be(s,n)})}let u=c();return{next:t=>(o.value=u(t),o.done=t>=i,o),flipTarget:()=>{s.reverse(),u=c()}}}const Te={keyframes:we,spring:it,decay:function({velocity:t=0,from:e=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){const s={done:!1,value:e};let a=n*t;const c=e+a,u=void 0===o?c:o(c);return u!==c&&(a=u-e),{next:t=>{const e=-a*Math.exp(-t/r);return s.done=!(e>i||e<-i),s.value=s.done?u:u+e,s},flipTarget:()=>{}}}};function Ee(t,e,n=0){return t-e-n}const Ie=t=>{const e=({delta:e})=>t(e);return{start:()=>B.update(e,!0),stop:()=>M.update(e)}};function Se(t){var e,n,{from:i,autoplay:o=!0,driver:s=Ie,elapsed:a=0,repeat:c=0,repeatType:u="loop",repeatDelay:l=0,onPlay:h,onStop:d,onComplete:f,onRepeat:p,onUpdate:m}=t,g=(0,r._T)(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let v,y,b,{to:w}=g,T=0,E=g.duration,I=!1,S=!0;const k=function(t){if(Array.isArray(t.to))return we;if(Te[t.type])return Te[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?we:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?it:we}(g);(null===(n=(e=k).needsInterpolation)||void 0===n?void 0:n.call(e,i,w))&&(b=ee([0,100],[i,w],{clamp:!1}),i=0,w=100);const x=k(Object.assign(Object.assign({},g),{from:i,to:w}));function A(){T++,"reverse"===u?(S=T%2===0,a=function(t,e,n=0,r=!0){return r?Ee(e+-t,e,n):e-(t-e)+n}(a,E,l,S)):(a=Ee(a,E,l),"mirror"===u&&x.flipTarget()),I=!1,p&&p()}function _(t){if(S||(t=-t),a+=t,!I){const t=x.next(Math.max(0,a));y=t.value,b&&(y=b(y)),I=S?t.done:a<=0}null===m||void 0===m||m(y),I&&(0===T&&(null!==E&&void 0!==E||(E=a)),T<c?function(t,e,n,r){return r?t>=e+n:t<=-n}(a,E,l,S)&&A():(v.stop(),f&&f()))}return o&&(null===h||void 0===h||h(),v=s(_),v.start()),{stop:()=>{null===d||void 0===d||d(),v.stop()}}}var ke=function(t){return 1e3*t};const xe=(t,e)=>1-3*e+3*t,Ae=(t,e)=>3*e-6*t,_e=t=>3*t,Ce=(t,e,n)=>((xe(e,n)*t+Ae(e,n))*t+_e(e))*t,Re=(t,e,n)=>3*xe(e,n)*t*t+2*Ae(e,n)*t+_e(e);const Pe=.1;function Oe(t,e,n,r){if(t===e&&n===r)return oe;const i=new Float32Array(11);for(let s=0;s<11;++s)i[s]=Ce(s*Pe,t,n);function o(e){let r=0,o=1;for(;10!==o&&i[o]<=e;++o)r+=Pe;--o;const s=r+(e-i[o])/(i[o+1]-i[o])*Pe,a=Re(s,t,n);return a>=.001?function(t,e,n,r){for(let i=0;i<8;++i){const i=Re(e,n,r);if(0===i)return e;e-=(Ce(e,n,r)-t)/i}return e}(e,s,t,n):0===a?s:function(t,e,n,r,i){let o,s,a=0;do{s=e+(n-e)/2,o=Ce(s,r,i)-t,o>0?n=s:e=s}while(Math.abs(o)>1e-7&&++a<10);return s}(e,r,r+Pe,t,n)}return t=>0===t||1===t?t:Ce(o(t),e,r)}var Ne={linear:oe,easeIn:se,easeInOut:ue,easeOut:ce,circIn:le,circInOut:de,circOut:he,backIn:fe,backInOut:me,backOut:pe,anticipate:ge,bounceIn:ye,bounceInOut:t=>t<.5?.5*(1-ve(1-2*t)):.5*ve(2*t-1)+.5,bounceOut:ve},De=function(t){if(Array.isArray(t)){t.length;var e=(0,r.CR)(t,4);return Oe(e[0],e[1],e[2],e[3])}return"string"===typeof t?("Invalid easing type '".concat(t,"'"),Ne[t]):t},Le=function(t,e){return"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Zt.test(e)||e.startsWith("url(")))},Me=function(t){return Array.isArray(t)},je=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},Ve=function(t){return{type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restSpeed:10}},Ue=function(){return{type:"keyframes",ease:"linear",duration:.3}},Fe=function(t){return{type:"keyframes",duration:.8,values:t}},$e={x:je,y:je,z:je,rotate:je,rotateX:je,rotateY:je,rotateZ:je,scaleX:Ve,scaleY:Ve,scale:Ve,opacity:Ue,backgroundColor:Ue,color:Ue,default:Ve};const Be=new Set(["brightness","contrast","saturate","opacity"]);function qe(t){let[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[r]=n.match(ut)||[];if(!r)return t;const i=n.replace(r,"");let o=Be.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const Ze=/([a-z-]*)\(.*?\)/g,ze=Object.assign(Object.assign({},Zt),{getAnimatableNone:t=>{const e=t.match(Ze);return e?e.map(qe).join(" "):t}});var He=(0,r.pi)((0,r.pi)({},ft),{transform:Math.round}),Ke={borderWidth:kt,borderTopWidth:kt,borderRightWidth:kt,borderBottomWidth:kt,borderLeftWidth:kt,borderRadius:kt,radius:kt,borderTopLeftRadius:kt,borderTopRightRadius:kt,borderBottomRightRadius:kt,borderBottomLeftRadius:kt,width:kt,maxWidth:kt,height:kt,maxHeight:kt,size:kt,top:kt,right:kt,bottom:kt,left:kt,padding:kt,paddingTop:kt,paddingRight:kt,paddingBottom:kt,paddingLeft:kt,margin:kt,marginTop:kt,marginRight:kt,marginBottom:kt,marginLeft:kt,rotate:It,rotateX:It,rotateY:It,rotateZ:It,scale:mt,scaleX:mt,scaleY:mt,scaleZ:mt,skew:It,skewX:It,skewY:It,distance:kt,translateX:kt,translateY:kt,translateZ:kt,x:kt,y:kt,z:kt,perspective:kt,transformPerspective:kt,opacity:pt,originX:_t,originY:_t,originZ:kt,zIndex:He,fillOpacity:pt,strokeOpacity:pt,numOctaves:He},We=(0,r.pi)((0,r.pi)({},Ke),{color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:ze,WebkitFilter:ze}),Ge=function(t){return We[t]};function Xe(t,e){var n,r=Ge(t);return r!==ze&&(r=Zt),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,e)}var Ye=!1,Je=function(t){return Me(t)?t[t.length-1]||0:t};function Qe(t){var e=t.ease,n=t.times,i=t.yoyo,o=t.flip,s=t.loop,a=(0,r._T)(t,["ease","times","yoyo","flip","loop"]),c=(0,r.pi)({},a);return n&&(c.offset=n),a.duration&&(c.duration=ke(a.duration)),a.repeatDelay&&(c.repeatDelay=ke(a.repeatDelay)),e&&(c.ease=function(t){return Array.isArray(t)&&"number"!==typeof t[0]}(e)?e.map(De):De(e)),"tween"===a.type&&(c.type="keyframes"),(i||s||o)&&(!0,i?c.repeatType="reverse":s?c.repeatType="loop":o&&(c.repeatType="mirror"),c.repeat=s||i||o||a.repeat),"spring"!==a.type&&(c.type="keyframes"),c}function tn(t,e,n){var i;return Array.isArray(e.to)&&(null!==(i=t.duration)&&void 0!==i||(t.duration=.8)),function(t){Array.isArray(t.to)&&null===t.to[0]&&(t.to=(0,r.ev)([],(0,r.CR)(t.to),!1),t.to[0]=t.from)}(e),function(t){t.when,t.delay,t.delayChildren,t.staggerChildren,t.staggerDirection,t.repeat,t.repeatType,t.repeatDelay,t.from;var e=(0,r._T)(t,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(e).length}(t)||(t=(0,r.pi)((0,r.pi)({},t),function(t,e){var n;return n=Me(e)?Fe:$e[t]||$e.default,(0,r.pi)({to:e},n(e))}(n,e.to))),(0,r.pi)((0,r.pi)({},e),Qe(t))}function en(t,e,n,i,o){var s,a=on(i,t),c=null!==(s=a.from)&&void 0!==s?s:e.get(),u=Le(t,n);"none"===c&&u&&"string"===typeof n?c=Xe(t,n):nn(c)&&"string"===typeof n?c=rn(n):!Array.isArray(n)&&nn(n)&&"string"===typeof c&&(n=rn(c));var l=Le(t,c);return"You are trying to animate ".concat(t,' from "').concat(c,'" to "').concat(n,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(n," via the `style` property."),l&&u&&!1!==a.type?function(){var i={from:c,to:n,velocity:e.getVelocity(),onComplete:o,onUpdate:function(t){return e.set(t)}};return"inertia"===a.type||"decay"===a.type?function({from:t=0,velocity:e=0,min:n,max:r,power:i=.8,timeConstant:o=750,bounceStiffness:s=500,bounceDamping:a=10,restDelta:c=1,modifyTarget:u,driver:l,onUpdate:h,onComplete:d,onStop:f}){let p;function m(t){return void 0!==n&&t<n||void 0!==r&&t>r}function g(t){return void 0===n?r:void 0===r||Math.abs(n-t)<Math.abs(r-t)?n:r}function v(t){null===p||void 0===p||p.stop(),p=Se(Object.assign(Object.assign({},t),{driver:l,onUpdate:e=>{var n;null===h||void 0===h||h(e),null===(n=t.onUpdate)||void 0===n||n.call(t,e)},onComplete:d,onStop:f}))}function y(t){v(Object.assign({type:"spring",stiffness:s,damping:a,restDelta:c},t))}if(m(t))y({from:t,velocity:e,to:g(t)});else{let r=i*e+t;"undefined"!==typeof u&&(r=u(r));const s=g(r),a=s===n?-1:1;let l,h;const d=t=>{l=h,h=t,e=Z(t-l,$().delta),(1===a&&t>s||-1===a&&t<s)&&y({from:t,to:s,velocity:e})};v({type:"decay",from:t,velocity:e,timeConstant:o,power:i,restDelta:c,modifyTarget:u,onUpdate:m(r)?d:void 0})}return{stop:()=>null===p||void 0===p?void 0:p.stop()}}((0,r.pi)((0,r.pi)({},i),a)):Se((0,r.pi)((0,r.pi)({},tn(a,i,t)),{onUpdate:function(t){var e;i.onUpdate(t),null===(e=a.onUpdate)||void 0===e||e.call(a,t)},onComplete:function(){var t;i.onComplete(),null===(t=a.onComplete)||void 0===t||t.call(a)}}))}:function(){var t,r,i=Je(n);return e.set(i),o(),null===(t=null===a||void 0===a?void 0:a.onUpdate)||void 0===t||t.call(a,i),null===(r=null===a||void 0===a?void 0:a.onComplete)||void 0===r||r.call(a),{stop:function(){}}}}function nn(t){return 0===t||"string"===typeof t&&0===parseFloat(t)&&-1===t.indexOf(" ")}function rn(t){return"number"===typeof t?0:Xe("",t)}function on(t,e){return t[e]||t.default||t}function sn(t,e,n,r){return void 0===r&&(r={}),Ye&&(r={type:!1}),e.start((function(i){var o,s,a=en(t,e,n,r,i),c=function(t,e){var n,r;return null!==(r=null!==(n=(on(t,e)||{}).delay)&&void 0!==n?n:t.delay)&&void 0!==r?r:0}(r,t),u=function(){return s=a()};return c?o=setTimeout(u,ke(c)):u(),function(){clearTimeout(o),null===s||void 0===s||s.stop()}}))}var an=["TopLeft","TopRight","BottomLeft","BottomRight"],cn=an.length,un=function(t){return"string"===typeof t?parseFloat(t):t},ln=function(t){return"number"===typeof t||kt.test(t)};function hn(t,e){var n;return null!==(n=t[e])&&void 0!==n?n:t.borderRadius}var dn=pn(0,.5,he),fn=pn(.5,.95,oe);function pn(t,e,n){return function(r){return r<t?0:r>e?1:n(st(t,e,r))}}function mn(t,e){t.min=e.min,t.max=e.max}function gn(t,e){mn(t.x,e.x),mn(t.y,e.y)}function vn(t){return void 0===t||1===t}function yn(t){var e=t.scale,n=t.scaleX,r=t.scaleY;return!vn(e)||!vn(n)||!vn(r)}function bn(t){return yn(t)||wn(t.x)||wn(t.y)||t.z||t.rotate||t.rotateX||t.rotateY}function wn(t){return t&&"0%"!==t}function Tn(t,e,n){return n+e*(t-n)}function En(t,e,n,r,i){return void 0!==i&&(t=Tn(t,i,r)),Tn(t,n,r)+e}function In(t,e,n,r,i){void 0===e&&(e=0),void 0===n&&(n=1),t.min=En(t.min,e,n,r,i),t.max=En(t.max,e,n,r,i)}function Sn(t,e){var n=e.x,r=e.y;In(t.x,n.translate,n.scale,n.originPoint),In(t.y,r.translate,r.scale,r.originPoint)}function kn(t,e){t.min=t.min+e,t.max=t.max+e}function xn(t,e,n){var i=(0,r.CR)(n,3),o=i[0],s=i[1],a=i[2],c=void 0!==e[a]?e[a]:.5,u=q(t.min,t.max,c);In(t,e[o],e[s],u,e.scale)}var An=["x","scaleX","originX"],_n=["y","scaleY","originY"];function Cn(t,e){xn(t.x,e,An),xn(t.y,e,_n)}const Rn=t=>t.hasOwnProperty("x")&&t.hasOwnProperty("y"),Pn=t=>Rn(t)&&t.hasOwnProperty("z"),On=(t,e)=>Math.abs(t-e);function Nn(t,e){if(zt(t)&&zt(e))return On(t,e);if(Rn(t)&&Rn(e)){const n=On(t.x,e.x),r=On(t.y,e.y),i=Pn(t)&&Pn(e)?On(t.z,e.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}function Dn(t){return t.max-t.min}function Ln(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=.01),Nn(t,e)<n}function Mn(t,e,n,r){void 0===r&&(r=.5),t.origin=r,t.originPoint=q(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),(Ln(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=q(n.min,n.max,t.origin)-t.originPoint,(Ln(t.translate)||isNaN(t.translate))&&(t.translate=0)}function jn(t,e,n,r){Mn(t.x,e.x,n.x,null===r||void 0===r?void 0:r.originX),Mn(t.y,e.y,n.y,null===r||void 0===r?void 0:r.originY)}function Vn(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function Un(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function Fn(t,e,n){Un(t.x,e.x,n.x),Un(t.y,e.y,n.y)}function $n(t,e,n,r,i){return t=Tn(t-=e,1/n,r),void 0!==i&&(t=Tn(t,1/i,r)),t}function Bn(t,e,n,i,o){var s=(0,r.CR)(n,3),a=s[0],c=s[1],u=s[2];!function(t,e,n,r,i,o,s){if(void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===o&&(o=t),void 0===s&&(s=t),St.test(e)&&(e=parseFloat(e),e=q(s.min,s.max,e/100)-s.min),"number"===typeof e){var a=q(o.min,o.max,r);t===o&&(a-=e),t.min=$n(t.min,e,n,a,i),t.max=$n(t.max,e,n,a,i)}}(t,e[a],e[c],e[u],e.scale,i,o)}var qn=["x","scaleX","originX"],Zn=["y","scaleY","originY"];function zn(t,e,n,r){Bn(t.x,e,qn,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),Bn(t.y,e,Zn,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function Hn(t){return 0===t.translate&&1===t.scale}function Kn(t){return Hn(t.x)&&Hn(t.y)}function Wn(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}var Gn=function(){function t(){this.members=[]}return t.prototype.add=function(t){z(this.members,t),t.scheduleRender()},t.prototype.remove=function(t){if(H(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){var e=this.members[this.members.length-1];e&&this.promote(e)}},t.prototype.relegate=function(t){var e,n=this.members.findIndex((function(e){return t===e}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){e=i;break}}return!!e&&(this.promote(e),!0)},t.prototype.promote=function(t,e){var n,r=this.lead;t!==r&&(this.prevLead=r,this.lead=t,t.show(),r&&(r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues,t.snapshot.isShared=!0),(null===(n=t.root)||void 0===n?void 0:n.isUpdating)&&(t.isLayoutDirty=!0),!1===t.options.crossfade&&r.hide()))},t.prototype.exitAnimationComplete=function(){this.members.forEach((function(t){var e,n,r,i,o;null===(n=(e=t.options).onExitComplete)||void 0===n||n.call(e),null===(o=null===(r=t.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===o||o.call(i)}))},t.prototype.scheduleRender=function(){this.members.forEach((function(t){t.instance&&t.scheduleRender(!1)}))},t.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},t}(),Xn={};function Yn(t,e,n){var r=t.x.translate/e.x,i=t.y.translate/e.y,o="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(n){var s=n.rotate,a=n.rotateX,c=n.rotateY;s&&(o+="rotate(".concat(s,"deg) ")),a&&(o+="rotateX(".concat(a,"deg) ")),c&&(o+="rotateY(".concat(c,"deg) "))}return"translate3d(0px, 0px, 0) scale(1, 1)"===(o+="scale(".concat(t.x.scale,", ").concat(t.y.scale,")"))?"none":o}function Jn(t){return[t("x"),t("y")]}var Qn=["","X","Y","Z"],tr=["transformPerspective","x","y","z"];function er(t,e){return tr.indexOf(t)-tr.indexOf(e)}["translate","scale","rotate","skew"].forEach((function(t){return Qn.forEach((function(e){return tr.push(t+e)}))}));var nr=new Set(tr);function rr(t){return nr.has(t)}var ir=new Set(["originX","originY","originZ"]);function or(t){return ir.has(t)}var sr=function(t,e){return t.depth-e.depth},ar=function(){function t(){this.children=[],this.isDirty=!1}return t.prototype.add=function(t){z(this.children,t),this.isDirty=!0},t.prototype.remove=function(t){H(this.children,t),this.isDirty=!0},t.prototype.forEach=function(t){this.isDirty&&this.children.sort(sr),this.isDirty=!1,this.children.forEach(t)},t}();function cr(t){var e,n=X(t)?t.get():t;return e=n,Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)?n.toValue():n}var ur={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lr(t){var e=t.attachResizeListener,n=t.defaultParent,i=t.measureScroll,o=t.resetTransform;return function(){function t(t,e,i){var o=this;void 0===e&&(e={}),void 0===i&&(i=null===n||void 0===n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){o.isUpdating&&(o.isUpdating=!1,o.clearAllSnapshots())},this.updateProjection=function(){o.nodes.forEach(vr),o.nodes.forEach(yr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=t,this.latestValues=e,this.root=i?i.root||i:this,this.path=i?(0,r.ev)((0,r.ev)([],(0,r.CR)(i.path),!1),[i],!1):[],this.parent=i,this.depth=i?i.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(var s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new ar)}return t.prototype.addEventListener=function(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new K),this.eventHandlers.get(t).add(e)},t.prototype.notifyListeners=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this.eventHandlers.get(t);null===i||void 0===i||i.notify.apply(i,(0,r.ev)([],(0,r.CR)(e),!1))},t.prototype.hasListeners=function(t){return this.eventHandlers.has(t)},t.prototype.registerPotentialNode=function(t,e){this.potentialNodes.set(t,e)},t.prototype.mount=function(t,n){var i,o=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;var s=this.options,a=s.layoutId,c=s.layout,u=s.visualElement;if(u&&!u.getInstance()&&u.mount(t),this.root.nodes.add(this),null===(i=this.parent)||void 0===i||i.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(c||a)&&(this.isLayoutDirty=!0),e){var l,h=function(){return o.root.updateBlockedByResize=!1};e(t,(function(){o.root.updateBlockedByResize=!0,clearTimeout(l),l=setTimeout(h,250),ur.hasAnimatedSinceResize&&(ur.hasAnimatedSinceResize=!1,o.nodes.forEach(gr))}))}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&u&&(a||c)&&this.addEventListener("didUpdate",(function(t){var e,n,i,s,a,c=t.delta,l=t.hasLayoutChanged,h=t.hasRelativeTargetChanged,d=t.layout;if(o.isTreeAnimationBlocked())return o.target=void 0,void(o.relativeTarget=void 0);var f=null!==(n=null!==(e=o.options.transition)&&void 0!==e?e:u.getDefaultTransition())&&void 0!==n?n:Sr,p=u.getProps().onLayoutAnimationComplete,m=!o.targetLayout||!Wn(o.targetLayout,d)||h,g=!l&&h;(null===(i=o.resumeFrom)||void 0===i?void 0:i.instance)||g||l&&(m||!o.currentAnimation)?(o.resumeFrom&&(o.resumingFrom=o.resumeFrom,o.resumingFrom.resumingFrom=void 0),o.setAnimationOrigin(c,g),o.startAnimation((0,r.pi)((0,r.pi)({},on(f,"layout")),{onComplete:p}))):o.isLead()&&(null===(a=(s=o.options).onExitComplete)||void 0===a||a.call(s)),o.targetLayout=d}))}},t.prototype.unmount=function(){var t,e;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(t=this.getStack())||void 0===t||t.remove(this),null===(e=this.parent)||void 0===e||e.children.delete(this),this.instance=void 0,M.preRender(this.updateProjection)},t.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},t.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},t.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},t.prototype.isTreeAnimationBlocked=function(){var t;return this.isAnimationBlocked||(null===(t=this.parent)||void 0===t?void 0:t.isTreeAnimationBlocked())||!1},t.prototype.startUpdate=function(){var t;this.isUpdateBlocked()||(this.isUpdating=!0,null===(t=this.nodes)||void 0===t||t.forEach(br))},t.prototype.willUpdate=function(t){var e,n,r;if(void 0===t&&(t=!0),this.root.isUpdateBlocked())null===(n=(e=this.options).onExitComplete)||void 0===n||n.call(e);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var o=this.path[i];o.shouldResetTransform=!0,o.updateScroll()}var s=this.options,a=s.layoutId,c=s.layout;if(void 0!==a||c){var u=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null===u||void 0===u?void 0:u(this.latestValues,""),this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}}},t.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(pr);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(kr),this.potentialNodes.clear()),this.nodes.forEach(mr),this.nodes.forEach(hr),this.nodes.forEach(dr),this.clearAllSnapshots(),j.update(),j.preRender(),j.render())},t.prototype.clearAllSnapshots=function(){this.nodes.forEach(fr),this.sharedNodes.forEach(wr)},t.prototype.scheduleUpdateProjection=function(){B.preRender(this.updateProjection,!1,!0)},t.prototype.scheduleCheckAfterUnmount=function(){var t=this;B.postRender((function(){t.isLayoutDirty?t.root.didUpdate():t.root.checkUpdateFailed()}))},t.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var t=this.measure(),e=this.removeTransform(this.removeElementScroll(t));Ar(e),this.snapshot={measured:t,layout:e,latestValues:{}}}},t.prototype.updateLayout=function(){var t;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++){this.path[e].updateScroll()}var n=this.measure();Ar(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(t=this.options.visualElement)||void 0===t||t.notifyLayoutMeasure(this.layout.actual,null===r||void 0===r?void 0:r.actual)}},t.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=i(this.instance))},t.prototype.resetTransform=function(){var t;if(o){var e=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!Kn(this.projectionDelta),r=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate,i=null===r||void 0===r?void 0:r(this.latestValues,""),s=i!==this.prevTransformTemplateValue;e&&(n||bn(this.latestValues)||s)&&(o(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}},t.prototype.measure=function(){var t=this.options.visualElement;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};var e=t.measureViewportBox(),n=this.root.scroll;return n&&(kn(e.x,n.x),kn(e.y,n.y)),e},t.prototype.removeElementScroll=function(t){var e={x:{min:0,max:0},y:{min:0,max:0}};gn(e,t);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,o=r.options;r!==this.root&&i&&o.layoutScroll&&(kn(e.x,i.x),kn(e.y,i.y))}return e},t.prototype.applyTransform=function(t,e){void 0===e&&(e=!1);var n={x:{min:0,max:0},y:{min:0,max:0}};gn(n,t);for(var r=0;r<this.path.length;r++){var i=this.path[r];!e&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Cn(n,{x:-i.scroll.x,y:-i.scroll.y}),bn(i.latestValues)&&Cn(n,i.latestValues)}return bn(this.latestValues)&&Cn(n,this.latestValues),n},t.prototype.removeTransform=function(t){var e,n={x:{min:0,max:0},y:{min:0,max:0}};gn(n,t);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&bn(i.latestValues)){yn(i.latestValues)&&i.updateSnapshot();var o={x:{min:0,max:0},y:{min:0,max:0}};gn(o,i.measure()),zn(n,i.latestValues,null===(e=i.snapshot)||void 0===e?void 0:e.layout,o)}}return bn(this.latestValues)&&zn(n,this.latestValues),n},t.prototype.setTargetDelta=function(t){this.targetDelta=t,this.root.scheduleUpdateProjection()},t.prototype.setOptions=function(t){var e;this.options=(0,r.pi)((0,r.pi)((0,r.pi)({},this.options),t),{crossfade:null===(e=t.crossfade)||void 0===e||e})},t.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},t.prototype.resolveTargetDelta=function(){var t,e,n,r,i=this.options,o=i.layout,s=i.layoutId;this.layout&&(o||s)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Fn(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),gn(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(t=this.relativeParent)||void 0===t?void 0:t.target)?(e=this.target,n=this.relativeTarget,r=this.relativeParent.target,Vn(e.x,n.x,r.x),Vn(e.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):gn(this.target,this.layout.actual),Sn(this.target,this.targetDelta)):gn(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Fn(this.relativeTargetOrigin,this.target,this.relativeParent.target),gn(this.relativeTarget,this.relativeTargetOrigin)))))},t.prototype.getClosestProjectingParent=function(){if(this.parent&&!bn(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},t.prototype.calcProjection=function(){var t,e=this.options,n=e.layout,r=e.layoutId;if(this.isTreeAnimating=Boolean((null===(t=this.parent)||void 0===t?void 0:t.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();gn(this.layoutCorrected,this.layout.actual),function(t,e,n,r){var i,o;void 0===r&&(r=!1);var s=n.length;if(s){var a,c;e.x=e.y=1;for(var u=0;u<s;u++)c=(a=n[u]).projectionDelta,"contents"!==(null===(o=null===(i=a.instance)||void 0===i?void 0:i.style)||void 0===o?void 0:o.display)&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Cn(t,{x:-a.scroll.x,y:-a.scroll.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Sn(t,c)),r&&bn(a.latestValues)&&Cn(t,a.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var o=i.target;if(o){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var s=this.treeScale.x,a=this.treeScale.y,c=this.projectionTransform;jn(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.projectionTransform=Yn(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===s&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}}},t.prototype.hide=function(){this.isVisible=!1},t.prototype.show=function(){this.isVisible=!0},t.prototype.scheduleRender=function(t){var e,n,r;void 0===t&&(t=!0),null===(n=(e=this.options).scheduleRender)||void 0===n||n.call(e),t&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},t.prototype.setAnimationOrigin=function(t,e){var n,i=this;void 0===e&&(e=!1);var o=this.snapshot,s=(null===o||void 0===o?void 0:o.latestValues)||{},a=(0,r.pi)({},this.latestValues),c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!e;var u={x:{min:0,max:0},y:{min:0,max:0}},l=null===o||void 0===o?void 0:o.isShared,h=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,d=Boolean(l&&!h&&!0===this.options.crossfade&&!this.path.some(Ir));this.mixTargetDelta=function(e){var n,r=e/1e3;Tr(c.x,t.x,r),Tr(c.y,t.y,r),i.setTargetDelta(c),i.relativeTarget&&i.relativeTargetOrigin&&i.layout&&(null===(n=i.relativeParent)||void 0===n?void 0:n.layout)&&(Fn(u,i.layout.actual,i.relativeParent.layout.actual),function(t,e,n,r){Er(t.x,e.x,n.x,r),Er(t.y,e.y,n.y,r)}(i.relativeTarget,i.relativeTargetOrigin,u,r)),l&&(i.animationValues=a,function(t,e,n,r,i,o){var s,a,c,u;i?(t.opacity=q(0,null!==(s=n.opacity)&&void 0!==s?s:1,dn(r)),t.opacityExit=q(null!==(a=e.opacity)&&void 0!==a?a:1,0,fn(r))):o&&(t.opacity=q(null!==(c=e.opacity)&&void 0!==c?c:1,null!==(u=n.opacity)&&void 0!==u?u:1,r));for(var l=0;l<cn;l++){var h="border".concat(an[l],"Radius"),d=hn(e,h),f=hn(n,h);void 0===d&&void 0===f||(d||(d=0),f||(f=0),0===d||0===f||ln(d)===ln(f)?(t[h]=Math.max(q(un(d),un(f),r),0),(St.test(f)||St.test(d))&&(t[h]+="%")):t[h]=f)}(e.rotate||n.rotate)&&(t.rotate=q(e.rotate||0,n.rotate||0,r))}(a,s,i.latestValues,r,d,h)),i.root.scheduleUpdateProjection(),i.scheduleRender()},this.mixTargetDelta(0)},t.prototype.startAnimation=function(t){var e,n,i=this;null===(e=this.currentAnimation)||void 0===e||e.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(M.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=B.update((function(){ur.hasAnimatedSinceResize=!0,i.currentAnimation=function(t,e,n){void 0===n&&(n={});var r=X(t)?t:G(t);return sn("",r,e,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,1e3,(0,r.pi)((0,r.pi)({},t),{onUpdate:function(e){var n;i.mixTargetDelta(e),null===(n=t.onUpdate)||void 0===n||n.call(t,e)},onComplete:function(){var e;null===(e=t.onComplete)||void 0===e||e.call(t),i.completeAnimation()}})),i.resumingFrom&&(i.resumingFrom.currentAnimation=i.currentAnimation),i.pendingAnimation=void 0}))},t.prototype.completeAnimation=function(){var t;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(t=this.getStack())||void 0===t||t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},t.prototype.finishAnimation=function(){var t;this.currentAnimation&&(null===(t=this.mixTargetDelta)||void 0===t||t.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},t.prototype.applyTransformsToTarget=function(){var t=this.getLead(),e=t.targetWithTransforms,n=t.target,r=t.layout,i=t.latestValues;e&&n&&r&&(gn(e,n),Cn(e,i),jn(this.projectionDeltaWithTransform,this.layoutCorrected,e,i))},t.prototype.registerSharedNode=function(t,e){var n,r,i;this.sharedNodes.has(t)||this.sharedNodes.set(t,new Gn),this.sharedNodes.get(t).add(e),e.promote({transition:null===(n=e.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=e.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,e)})},t.prototype.isLead=function(){var t=this.getStack();return!t||t.lead===this},t.prototype.getLead=function(){var t;return this.options.layoutId&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this},t.prototype.getPrevLead=function(){var t;return this.options.layoutId?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0},t.prototype.getStack=function(){var t=this.options.layoutId;if(t)return this.root.sharedNodes.get(t)},t.prototype.promote=function(t){var e=void 0===t?{}:t,n=e.needsReset,r=e.transition,i=e.preserveFollowOpacity,o=this.getStack();o&&o.promote(this,i),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},t.prototype.relegate=function(){var t=this.getStack();return!!t&&t.relegate(this)},t.prototype.resetRotation=function(){var t=this.options.visualElement;if(t){for(var e=!1,n={},r=0;r<Qn.length;r++){var i="rotate"+Qn[r];t.getStaticValue(i)&&(e=!0,n[i]=t.getStaticValue(i),t.setStaticValue(i,0))}if(e){for(var i in null===t||void 0===t||t.syncRender(),n)t.setStaticValue(i,n[i]);t.scheduleRender()}}},t.prototype.getProjectionStyles=function(t){var e,n,r,i,o,s;void 0===t&&(t={});var a={};if(!this.instance||this.isSVG)return a;if(!this.isVisible)return{visibility:"hidden"};a.visibility="";var c=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=cr(t.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none",a;var u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){var l={};return this.options.layoutId&&(l.opacity=null!==(n=this.latestValues.opacity)&&void 0!==n?n:1,l.pointerEvents=cr(t.pointerEvents)||""),this.hasProjected&&!bn(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1),l}var h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=Yn(this.projectionDeltaWithTransform,this.treeScale,h),c&&(a.transform=c(h,a.transform));var d=this.projectionDelta,f=d.x,p=d.y;for(var m in a.transformOrigin="".concat(100*f.origin,"% ").concat(100*p.origin,"% 0"),u.animationValues?a.opacity=u===this?null!==(i=null!==(r=h.opacity)&&void 0!==r?r:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=u===this?null!==(o=h.opacity)&&void 0!==o?o:"":null!==(s=h.opacityExit)&&void 0!==s?s:0,Xn)if(void 0!==h[m]){var g=Xn[m],v=g.correct,y=g.applyTo,b=v(h[m],u);if(y)for(var w=y.length,T=0;T<w;T++)a[y[T]]=b;else a[m]=b}return this.options.layoutId&&(a.pointerEvents=u===this?cr(t.pointerEvents)||"":"none"),a},t.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},t.prototype.resetTree=function(){this.root.nodes.forEach((function(t){var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()})),this.root.nodes.forEach(pr),this.root.sharedNodes.clear()},t}()}function hr(t){t.updateLayout()}function dr(t){var e,n,r,i,o=null!==(n=null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)&&void 0!==n?n:t.snapshot;if(t.isLead()&&t.layout&&o&&t.hasListeners("didUpdate")){var s=t.layout,a=s.actual,c=s.measured;"size"===t.options.animationType?Jn((function(t){var e=o.isShared?o.measured[t]:o.layout[t],n=Dn(e);e.min=a[t].min,e.max=e.min+n})):"position"===t.options.animationType&&Jn((function(t){var e=o.isShared?o.measured[t]:o.layout[t],n=Dn(a[t]);e.max=e.min+n}));var u={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};jn(u,a,o.layout);var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o.isShared?jn(l,t.applyTransform(c,!0),o.measured):jn(l,a,o.layout);var h=!Kn(u),d=!1;if(!t.resumeFrom&&(t.relativeParent=t.getClosestProjectingParent(),t.relativeParent&&!t.relativeParent.resumeFrom)){var f=t.relativeParent,p=f.snapshot,m=f.layout;if(p&&m){var g={x:{min:0,max:0},y:{min:0,max:0}};Fn(g,o.layout,p.layout);var v={x:{min:0,max:0},y:{min:0,max:0}};Fn(v,a,m.actual),Wn(g,v)||(d=!0)}}t.notifyListeners("didUpdate",{layout:a,snapshot:o,delta:l,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:d})}else t.isLead()&&(null===(i=(r=t.options).onExitComplete)||void 0===i||i.call(r));t.options.transition=void 0}function fr(t){t.clearSnapshot()}function pr(t){t.clearMeasurements()}function mr(t){t.resetTransform()}function gr(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function vr(t){t.resolveTargetDelta()}function yr(t){t.calcProjection()}function br(t){t.resetRotation()}function wr(t){t.removeLeadSnapshot()}function Tr(t,e,n){t.translate=q(e.translate,0,n),t.scale=q(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Er(t,e,n,r){t.min=q(e.min,n.min,r),t.max=q(e.max,n.max,r)}function Ir(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}var Sr={duration:.45,ease:[.4,0,.1,1]};function kr(t,e){for(var n=t.root,r=t.path.length-1;r>=0;r--)if(Boolean(t.path[r].instance)){n=t.path[r];break}var i=(n&&n!==t.root?n.instance:document).querySelector('[data-projection-id="'.concat(e,'"]'));i&&t.mount(i,!0)}function xr(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function Ar(t){xr(t.x),xr(t.y)}var _r=1;var Cr=(0,i.createContext)({}),Rr=(0,i.createContext)({});var Pr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},e.prototype.componentDidUpdate=function(){},e.prototype.updateProps=function(){var t=this.props,e=t.visualElement,n=t.props;e&&e.setProps(n)},e.prototype.render=function(){return this.props.children},e}(i.Component);function Or(t){var e=t.preloadedFeatures,n=t.createVisualElement,o=t.projectionNodeConstructor,d=t.useRender,p=t.useVisualState,v=t.Component;return e&&function(t){for(var e in t)null!==t[e]&&("projectionNodeConstructor"===e?s.projectionNodeConstructor=t[e]:s[e].Component=t[e])}(e),(0,i.forwardRef)((function(t,e){var y=function(t){var e,n=t.layoutId,r=null===(e=(0,i.useContext)(Cr))||void 0===e?void 0:e.id;return r&&void 0!==n?r+"-"+n:n}(t);t=(0,r.pi)((0,r.pi)({},t),{layoutId:y});var b=(0,i.useContext)(l),w=null,T=I(t),E=b.isStatic?void 0:k((function(){if(ur.hasEverUpdated)return _r++})),S=p(t,b.isStatic);return!b.isStatic&&f&&(T.visualElement=m(v,S,(0,r.pi)((0,r.pi)({},b),t),n),function(t,e,n,r){var o,s=e.layoutId,a=e.layout,c=e.drag,u=e.dragConstraints,l=e.layoutScroll,h=(0,i.useContext)(Rr);r&&n&&!(null===n||void 0===n?void 0:n.projection)&&(n.projection=new r(t,n.getLatestValues(),null===(o=n.parent)||void 0===o?void 0:o.projection),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:Boolean(c)||u&&g(u),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:"string"===typeof a?a:"both",initialPromotionConfig:h,layoutScroll:l}))}(E,t,T.visualElement,o||s.projectionNodeConstructor),w=function(t,e,n){var o=[];if((0,i.useContext)(a),!e)return null;for(var l=0;l<u;l++){var h=c[l],d=s[h],f=d.isEnabled,p=d.Component;f(t)&&p&&o.push(i.createElement(p,(0,r.pi)({key:h},t,{visualElement:e})))}return o}(t,T.visualElement)),i.createElement(Pr,{visualElement:T.visualElement,props:(0,r.pi)((0,r.pi)({},b),t)},w,i.createElement(h.Provider,{value:T},d(v,t,E,function(t,e,n){return(0,i.useCallback)((function(r){var i;r&&(null===(i=t.mount)||void 0===i||i.call(t,r)),e&&(r?e.mount(r):e.unmount()),n&&("function"===typeof n?n(r):g(n)&&(n.current=r))}),[e])}(S,T.visualElement,e),S,b.isStatic,T.visualElement)))}))}function Nr(t){function e(e,n){return void 0===n&&(n={}),Or(t(e,n))}if("undefined"===typeof Proxy)return e;var n=new Map;return new Proxy(e,{get:function(t,r){return n.has(r)||n.set(r,e(r)),n.get(r)}})}var Dr=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function Lr(t){return"string"===typeof t&&!t.includes("-")&&!!(Dr.indexOf(t)>-1||/[A-Z]/.test(t))}function Mr(t,e){var n=e.layout,r=e.layoutId;return rr(t)||or(t)||(n||void 0!==r)&&(!!Xn[t]||"opacity"===t)}var jr={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Vr(t){return t.startsWith("--")}var Ur=function(t,e){return e&&"number"===typeof t?e.transform(t):t};function Fr(t,e,n,r){var i,o=t.style,s=t.vars,a=t.transform,c=t.transformKeys,u=t.transformOrigin;c.length=0;var l=!1,h=!1,d=!0;for(var f in e){var p=e[f];if(Vr(f))s[f]=p;else{var m=Ke[f],g=Ur(p,m);if(rr(f)){if(l=!0,a[f]=g,c.push(f),!d)continue;p!==(null!==(i=m.default)&&void 0!==i?i:0)&&(d=!1)}else or(f)?(u[f]=g,h=!0):o[f]=g}}l?o.transform=function(t,e,n,r){var i=t.transform,o=t.transformKeys,s=e.enableHardwareAcceleration,a=void 0===s||s,c=e.allowTransformNone,u=void 0===c||c,l="";o.sort(er);for(var h=!1,d=o.length,f=0;f<d;f++){var p=o[f];l+="".concat(jr[p]||p,"(").concat(i[p],") "),"z"===p&&(h=!0)}return!h&&a?l+="translateZ(0)":l=l.trim(),r?l=r(i,n?"":l):u&&n&&(l="none"),l}(t,n,d,r):r?o.transform=r({},""):!e.transform&&o.transform&&(o.transform="none"),h&&(o.transformOrigin=function(t){var e=t.originX,n=void 0===e?"50%":e,r=t.originY,i=void 0===r?"50%":r,o=t.originZ,s=void 0===o?0:o;return"".concat(n," ").concat(i," ").concat(s)}(u))}var $r=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Br(t,e,n){for(var r in e)X(e[r])||Mr(r,n)||(t[r]=e[r])}function qr(t,e,n){var o={};return Br(o,t.style||{},t),Object.assign(o,function(t,e,n){var o=t.transformTemplate;return(0,i.useMemo)((function(){var t={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};Fr(t,e,{enableHardwareAcceleration:!n},o);var i=t.vars,s=t.style;return(0,r.pi)((0,r.pi)({},i),s)}),[e])}(t,e,n)),t.transformValues&&(o=t.transformValues(o)),o}function Zr(t,e,n){var r={},i=qr(t,e,n);return Boolean(t.drag)&&!1!==t.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":"pan-".concat("x"===t.drag?"y":"x")),r.style=i,r}var zr=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function Hr(t){return zr.has(t)}var Kr,Wr=function(t){return!Hr(t)};try{(Kr=require("@emotion/is-prop-valid").default)&&(Wr=function(t){return t.startsWith("on")?!Hr(t):Kr(t)})}catch(ws){}function Gr(t,e,n){return"string"===typeof t?t:kt.transform(e+n*t)}var Xr={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yr={offset:"strokeDashoffset",array:"strokeDasharray"};function Jr(t,e,n,i){var o=e.attrX,s=e.attrY,a=e.originX,c=e.originY,u=e.pathLength,l=e.pathSpacing,h=void 0===l?1:l,d=e.pathOffset,f=void 0===d?0:d;Fr(t,(0,r._T)(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,i),t.attrs=t.style,t.style={};var p=t.attrs,m=t.style,g=t.dimensions;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==a||void 0!==c||m.transform)&&(m.transformOrigin=function(t,e,n){var r=Gr(e,t.x,t.width),i=Gr(n,t.y,t.height);return"".concat(r," ").concat(i)}(g,void 0!==a?a:.5,void 0!==c?c:.5)),void 0!==o&&(p.x=o),void 0!==s&&(p.y=s),void 0!==u&&function(t,e,n,r,i){void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=!0),t.pathLength=1;var o=i?Xr:Yr;t[o.offset]=kt.transform(-r);var s=kt.transform(e),a=kt.transform(n);t[o.array]="".concat(s," ").concat(a)}(p,u,h,f,!1)}var Qr=function(){return(0,r.pi)((0,r.pi)({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function ti(t,e){var n=(0,i.useMemo)((function(){var n=Qr();return Jr(n,e,{enableHardwareAcceleration:!1},t.transformTemplate),(0,r.pi)((0,r.pi)({},n.attrs),{style:(0,r.pi)({},n.style)})}),[e]);if(t.style){var o={};Br(o,t.style,t),n.style=(0,r.pi)((0,r.pi)({},o),n.style)}return n}function ei(t){void 0===t&&(t=!1);return function(e,n,o,s,a,c){var u=a.latestValues,l=(Lr(e)?ti:Zr)(n,u,c),h=function(t,e,n){var r={};for(var i in t)(Wr(i)||!0===n&&Hr(i)||!e&&!Hr(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}(n,"string"===typeof e,t),d=(0,r.pi)((0,r.pi)((0,r.pi)({},h),l),{ref:s});return o&&(d["data-projection-id"]=o),(0,i.createElement)(e,d)}}var ni=/([a-z])([A-Z])/g,ri=function(t){return t.replace(ni,"$1-$2").toLowerCase()};function ii(t,e,n,r){var i=e.style,o=e.vars;for(var s in Object.assign(t.style,i,r&&r.getProjectionStyles(n)),o)t.style.setProperty(s,o[s])}var oi=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function si(t,e){for(var n in ii(t,e),e.attrs)t.setAttribute(oi.has(n)?n:ri(n),e.attrs[n])}function ai(t){var e=t.style,n={};for(var r in e)(X(e[r])||Mr(r,t))&&(n[r]=e[r]);return n}function ci(t){var e=ai(t);for(var n in t){if(X(t[n]))e["x"===n||"y"===n?"attr"+n.toUpperCase():n]=t[n]}return e}function ui(t){return"object"===typeof t&&"function"===typeof t.start}function li(t,e,n,r){var i=t.scrapeMotionValuesFromProps,o=t.createRenderState,s=t.onMount,a={latestValues:di(e,n,r,i),renderState:o()};return s&&(a.mount=function(t){return s(e,t,a)}),a}var hi=function(t){return function(e,n){var r=(0,i.useContext)(h),o=(0,i.useContext)(d);return n?li(t,e,r,o):k((function(){return li(t,e,r,o)}))}};function di(t,e,n,i){var o={},s=!1===(null===n||void 0===n?void 0:n.initial),a=i(t);for(var c in a)o[c]=cr(a[c]);var u=t.initial,l=t.animate,h=T(t),d=E(t);e&&d&&!h&&!1!==t.inherit&&(null!==u&&void 0!==u||(u=e.initial),null!==l&&void 0!==l||(l=e.animate));var f=s||!1===u,p=f?l:u;p&&"boolean"!==typeof p&&!ui(p)&&(Array.isArray(p)?p:[p]).forEach((function(e){var n=b(t,e);if(n){var i=n.transitionEnd;n.transition;var s=(0,r._T)(n,["transitionEnd","transition"]);for(var a in s){var c=s[a];if(Array.isArray(c))c=c[f?c.length-1:0];null!==c&&(o[a]=c)}for(var a in i)o[a]=i[a]}}));return o}var fi,pi={useVisualState:hi({scrapeMotionValuesFromProps:ci,createRenderState:Qr,onMount:function(t,e,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(o){r.dimensions={x:0,y:0,width:0,height:0}}Jr(r,i,{enableHardwareAcceleration:!1},t.transformTemplate),si(e,r)}})},mi={useVisualState:hi({scrapeMotionValuesFromProps:ai,createRenderState:$r})};function gi(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function vi(t,e,n,r){(0,i.useEffect)((function(){var i=t.current;if(n&&i)return gi(i,e,n,r)}),[t,e,n,r])}function yi(t){return"undefined"!==typeof PointerEvent&&t instanceof PointerEvent?!("mouse"!==t.pointerType):t instanceof MouseEvent}function bi(t){return!!t.touches}!function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"}(fi||(fi={}));var wi={pageX:0,pageY:0};function Ti(t,e){void 0===e&&(e="page");var n=t.touches[0]||t.changedTouches[0]||wi;return{x:n[e+"X"],y:n[e+"Y"]}}function Ei(t,e){return void 0===e&&(e="page"),{x:t[e+"X"],y:t[e+"Y"]}}function Ii(t,e){return void 0===e&&(e="page"),{point:bi(t)?Ti(t,e):Ei(t,e)}}var Si=function(t,e){void 0===e&&(e=!1);var n,r=function(e){return t(e,Ii(e))};return e?(n=r,function(t){var e=t instanceof MouseEvent;(!e||e&&0===t.button)&&n(t)}):r},ki={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},xi={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Ai(t){return f&&null===window.onpointerdown?t:f&&null===window.ontouchstart?xi[t]:f&&null===window.onmousedown?ki[t]:t}function _i(t,e,n,r){return gi(t,Ai(e),Si(n,"pointerdown"===e),r)}function Ci(t,e,n,r){return vi(t,Ai(e),n&&Si(n,"pointerdown"===e),r)}function Ri(t){var e=null;return function(){return null===e&&(e=t,function(){e=null})}}var Pi=Ri("dragHorizontal"),Oi=Ri("dragVertical");function Ni(t){var e=!1;if("y"===t)e=Oi();else if("x"===t)e=Pi();else{var n=Pi(),r=Oi();n&&r?e=function(){n(),r()}:(n&&n(),r&&r())}return e}function Di(){var t=Ni(!0);return!t||(t(),!1)}function Li(t,e,n){return function(r,i){var o;yi(r)&&!Di()&&(null===(o=t.animationState)||void 0===o||o.setActive(fi.Hover,e),null===n||void 0===n||n(r,i))}}var Mi=function(t,e){return!!e&&(t===e||Mi(t,e.parentElement))};function ji(t){return(0,i.useEffect)((function(){return function(){return t()}}),[])}var Vi=new WeakMap,Ui=new WeakMap,Fi=function(t){var e;null===(e=Vi.get(t.target))||void 0===e||e(t)},$i=function(t){t.forEach(Fi)};function Bi(t,e,n){var i=function(t){var e=t.root,n=(0,r._T)(t,["root"]),i=e||document;Ui.has(i)||Ui.set(i,{});var o=Ui.get(i),s=JSON.stringify(n);return o[s]||(o[s]=new IntersectionObserver($i,(0,r.pi)({root:e},n))),o[s]}(e);return Vi.set(t,n),i.observe(t),function(){Vi.delete(t),i.unobserve(t)}}var qi={some:0,all:1};function Zi(t,e,n,r){var o=r.root,s=r.margin,a=r.amount,c=void 0===a?"some":a,u=r.once;(0,i.useEffect)((function(){if(t){var r={root:null===o||void 0===o?void 0:o.current,rootMargin:s,threshold:"number"===typeof c?c:qi[c]};return Bi(n.getInstance(),r,(function(t){var r,i=t.isIntersecting;if(e.isInView!==i&&(e.isInView=i,!u||i||!e.hasEnteredView)){i&&(e.hasEnteredView=!0),null===(r=n.animationState)||void 0===r||r.setActive(fi.InView,i);var o=n.getProps(),s=i?o.onViewportEnter:o.onViewportLeave;null===s||void 0===s||s(t)}}))}}),[t,o,s,c])}function zi(t,e,n){(0,i.useEffect)((function(){t&&requestAnimationFrame((function(){var t;e.hasEnteredView=!0;var r=n.getProps().onViewportEnter;null===r||void 0===r||r(null),null===(t=n.animationState)||void 0===t||t.setActive(fi.InView,!0)}))}),[t])}var Hi=function(t){return function(e){return t(e),null}},Ki={inView:Hi((function(t){var e=t.visualElement,n=t.whileInView,r=t.onViewportEnter,o=t.onViewportLeave,s=t.viewport,a=void 0===s?{}:s,c=(0,i.useRef)({hasEnteredView:!1,isInView:!1}),u=Boolean(n||r||o);a.once&&c.current.hasEnteredView&&(u=!1),("undefined"===typeof IntersectionObserver?zi:Zi)(u,c.current,e,a)})),tap:Hi((function(t){var e=t.onTap,n=t.onTapStart,r=t.onTapCancel,o=t.whileTap,s=t.visualElement,a=e||n||r||o,c=(0,i.useRef)(!1),u=(0,i.useRef)(null);function l(){var t;null===(t=u.current)||void 0===t||t.call(u),u.current=null}function h(){var t;return l(),c.current=!1,null===(t=s.animationState)||void 0===t||t.setActive(fi.Tap,!1),!Di()}function d(t,n){h()&&(Mi(s.getInstance(),t.target)?null===e||void 0===e||e(t,n):null===r||void 0===r||r(t,n))}function f(t,e){h()&&(null===r||void 0===r||r(t,e))}Ci(s,"pointerdown",a?function(t,e){var r;l(),c.current||(c.current=!0,u.current=Kt(_i(window,"pointerup",d),_i(window,"pointercancel",f)),null===(r=s.animationState)||void 0===r||r.setActive(fi.Tap,!0),null===n||void 0===n||n(t,e))}:void 0),ji(l)})),focus:Hi((function(t){var e=t.whileFocus,n=t.visualElement;vi(n,"focus",e?function(){var t;null===(t=n.animationState)||void 0===t||t.setActive(fi.Focus,!0)}:void 0),vi(n,"blur",e?function(){var t;null===(t=n.animationState)||void 0===t||t.setActive(fi.Focus,!1)}:void 0)})),hover:Hi((function(t){var e=t.onHoverStart,n=t.onHoverEnd,r=t.whileHover,i=t.visualElement;Ci(i,"pointerenter",e||r?Li(i,!0,e):void 0),Ci(i,"pointerleave",n||r?Li(i,!1,n):void 0)}))};function Wi(){var t=(0,i.useContext)(d);if(null===t)return[!0,null];var e=t.isPresent,n=t.onExitComplete,r=t.register,o=Yi();(0,i.useEffect)((function(){return r(o)}),[]);return!e&&n?[!1,function(){return null===n||void 0===n?void 0:n(o)}]:[!0]}var Gi=0,Xi=function(){return Gi++},Yi=function(){return k(Xi)};function Ji(t,e){if(!Array.isArray(e))return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}var Qi=function(t){return/^0[^.\s]+$/.test(t)},to=function(t){return function(e){return e.test(t)}},eo=[ft,kt,St,It,At,xt,{test:function(t){return"auto"===t},parse:function(t){return t}}],no=function(t){return eo.find(to(t))},ro=(0,r.ev)((0,r.ev)([],(0,r.CR)(eo),!1),[jt,Zt],!1),io=function(t){return ro.find(to(t))};function oo(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,G(n))}function so(t,e){var n=w(t,e),i=n?t.makeTargetAnimatable(n,!1):{},o=i.transitionEnd,s=void 0===o?{}:o;i.transition;var a=(0,r._T)(i,["transitionEnd","transition"]);for(var c in a=(0,r.pi)((0,r.pi)({},a),s)){oo(t,c,Je(a[c]))}}function ao(t,e){if(e)return(e[t]||e.default||e).from}function co(t,e,n){var i;void 0===n&&(n={});var o=w(t,e,n.custom),s=(o||{}).transition,a=void 0===s?t.getDefaultTransition()||{}:s;n.transitionOverride&&(a=n.transitionOverride);var c=o?function(){return uo(t,o,n)}:function(){return Promise.resolve()},u=(null===(i=t.variantChildren)||void 0===i?void 0:i.size)?function(i){void 0===i&&(i=0);var o=a.delayChildren,s=void 0===o?0:o,c=a.staggerChildren,u=a.staggerDirection;return function(t,e,n,i,o,s){void 0===n&&(n=0);void 0===i&&(i=0);void 0===o&&(o=1);var a=[],c=(t.variantChildren.size-1)*i,u=1===o?function(t){return void 0===t&&(t=0),t*i}:function(t){return void 0===t&&(t=0),c-t*i};return Array.from(t.variantChildren).sort(lo).forEach((function(t,i){a.push(co(t,e,(0,r.pi)((0,r.pi)({},s),{delay:n+u(i)})).then((function(){return t.notifyAnimationComplete(e)})))})),Promise.all(a)}(t,e,s+i,c,u,n)}:function(){return Promise.resolve()},l=a.when;if(l){var h=(0,r.CR)("beforeChildren"===l?[c,u]:[u,c],2),d=h[0],f=h[1];return d().then(f)}return Promise.all([c(),u(n.delay)])}function uo(t,e,n){var i,o=void 0===n?{}:n,s=o.delay,a=void 0===s?0:s,c=o.transitionOverride,u=o.type,l=t.makeTargetAnimatable(e),h=l.transition,d=void 0===h?t.getDefaultTransition():h,f=l.transitionEnd,p=(0,r._T)(l,["transition","transitionEnd"]);c&&(d=c);var m=[],g=u&&(null===(i=t.animationState)||void 0===i?void 0:i.getState()[u]);for(var v in p){var y=t.getValue(v),b=p[v];if(!(!y||void 0===b||g&&ho(g,v))){var w=sn(v,y,b,(0,r.pi)({delay:a},d));m.push(w)}}return Promise.all(m).then((function(){f&&so(t,f)}))}function lo(t,e){return t.sortNodePosition(e)}function ho(t,e){var n=t.protectedKeys,r=t.needsAnimating,i=n.hasOwnProperty(e)&&!0!==r[e];return r[e]=!1,i}var fo=[fi.Animate,fi.InView,fi.Focus,fi.Hover,fi.Tap,fi.Drag,fi.Exit],po=(0,r.ev)([],(0,r.CR)(fo),!1).reverse(),mo=fo.length;function go(t){return function(e){return Promise.all(e.map((function(e){var n=e.animation,r=e.options;return function(t,e,n){var r;if(void 0===n&&(n={}),t.notifyAnimationStart(e),Array.isArray(e)){var i=e.map((function(e){return co(t,e,n)}));r=Promise.all(i)}else if("string"===typeof e)r=co(t,e,n);else{var o="function"===typeof e?w(t,e,n.custom):e;r=uo(t,o,n)}return r.then((function(){return t.notifyAnimationComplete(e)}))}(t,n,r)})))}}function vo(t){var e=go(t),n=function(){var t;return(t={})[fi.Animate]=yo(!0),t[fi.InView]=yo(),t[fi.Hover]=yo(),t[fi.Tap]=yo(),t[fi.Drag]=yo(),t[fi.Focus]=yo(),t[fi.Exit]=yo(),t}(),i={},o=!0,s=function(e,n){var i=w(t,n);if(i){i.transition;var o=i.transitionEnd,s=(0,r._T)(i,["transition","transitionEnd"]);e=(0,r.pi)((0,r.pi)((0,r.pi)({},e),s),o)}return e};function a(a,c){for(var u,l=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set,p={},m=1/0,g=function(e){var i=po[e],g=n[i],b=null!==(u=l[i])&&void 0!==u?u:h[i],w=y(b),T=i===c?g.isActive:null;!1===T&&(m=e);var E=b===h[i]&&b!==l[i]&&w;if(E&&o&&t.manuallyAnimateOnMount&&(E=!1),g.protectedKeys=(0,r.pi)({},p),!g.isActive&&null===T||!b&&!g.prevProp||ui(b)||"boolean"===typeof b)return"continue";var I=function(t,e){if("string"===typeof e)return e!==t;if(v(e))return!Ji(e,t);return!1}(g.prevProp,b),S=I||i===c&&g.isActive&&!E&&w||e>m&&w,k=Array.isArray(b)?b:[b],x=k.reduce(s,{});!1===T&&(x={});var A=g.prevResolvedValues,_=void 0===A?{}:A,C=(0,r.pi)((0,r.pi)({},_),x),R=function(t){S=!0,f.delete(t),g.needsAnimating[t]=!0};for(var P in C){var O=x[P],N=_[P];p.hasOwnProperty(P)||(O!==N?Me(O)&&Me(N)?!Ji(O,N)||I?R(P):g.protectedKeys[P]=!0:void 0!==O?R(P):f.add(P):void 0!==O&&f.has(P)?R(P):g.protectedKeys[P]=!0)}g.prevProp=b,g.prevResolvedValues=x,g.isActive&&(p=(0,r.pi)((0,r.pi)({},p),x)),o&&t.blockInitialAnimation&&(S=!1),S&&!E&&d.push.apply(d,(0,r.ev)([],(0,r.CR)(k.map((function(t){return{animation:t,options:(0,r.pi)({type:i},a)}}))),!1))},b=0;b<mo;b++)g(b);if(i=(0,r.pi)({},p),f.size){var w={};f.forEach((function(e){var n=t.getBaseTarget(e);void 0!==n&&(w[e]=n)})),d.push({animation:w})}var T=Boolean(d.length);return o&&!1===l.initial&&!t.manuallyAnimateOnMount&&(T=!1),o=!1,T?e(d):Promise.resolve()}return{isAnimated:function(t){return void 0!==i[t]},animateChanges:a,setActive:function(e,r,i){var o;return n[e].isActive===r?Promise.resolve():(null===(o=t.variantChildren)||void 0===o||o.forEach((function(t){var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)})),n[e].isActive=r,a(i,e))},setAnimateFunction:function(n){e=n(t)},getState:function(){return n}}}function yo(t){return void 0===t&&(t=!1),{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var bo={animation:Hi((function(t){var e=t.visualElement,n=t.animate;e.animationState||(e.animationState=vo(e)),ui(n)&&(0,i.useEffect)((function(){return n.subscribe(e)}),[n])})),exit:Hi((function(t){var e=t.custom,n=t.visualElement,o=(0,r.CR)(Wi(),2),s=o[0],a=o[1],c=(0,i.useContext)(d);(0,i.useEffect)((function(){var t,r;n.isPresent=s;var i=null===(t=n.animationState)||void 0===t?void 0:t.setActive(fi.Exit,!s,{custom:null!==(r=null===c||void 0===c?void 0:c.custom)&&void 0!==r?r:e});!s&&(null===i||void 0===i||i.then(a))}),[s])}))},wo=function(){function t(t,e,n){var i=this,o=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(i.lastMoveEvent&&i.lastMoveEventInfo){var t=Io(i.lastMoveEventInfo,i.history),e=null!==i.startEvent,n=Nn(t.offset,{x:0,y:0})>=3;if(e||n){var o=t.point,s=$().timestamp;i.history.push((0,r.pi)((0,r.pi)({},o),{timestamp:s}));var a=i.handlers,c=a.onStart,u=a.onMove;e||(c&&c(i.lastMoveEvent,t),i.startEvent=i.lastMoveEvent),u&&u(i.lastMoveEvent,t)}}},this.handlePointerMove=function(t,e){i.lastMoveEvent=t,i.lastMoveEventInfo=To(e,i.transformPagePoint),yi(t)&&0===t.buttons?i.handlePointerUp(t,e):B.update(i.updatePoint,!0)},this.handlePointerUp=function(t,e){i.end();var n=i.handlers,r=n.onEnd,o=n.onSessionEnd,s=Io(To(e,i.transformPagePoint),i.history);i.startEvent&&r&&r(t,s),o&&o(t,s)},!(bi(t)&&t.touches.length>1)){this.handlers=e,this.transformPagePoint=o;var s=To(Ii(t),this.transformPagePoint),a=s.point,c=$().timestamp;this.history=[(0,r.pi)((0,r.pi)({},a),{timestamp:c})];var u=e.onSessionStart;u&&u(t,Io(s,this.history)),this.removeListeners=Kt(_i(window,"pointermove",this.handlePointerMove),_i(window,"pointerup",this.handlePointerUp),_i(window,"pointercancel",this.handlePointerUp))}}return t.prototype.updateHandlers=function(t){this.handlers=t},t.prototype.end=function(){this.removeListeners&&this.removeListeners(),M.update(this.updatePoint)},t}();function To(t,e){return e?{point:e(t.point)}:t}function Eo(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Io(t,e){var n=t.point;return{point:n,delta:Eo(n,ko(e)),offset:Eo(n,So(e)),velocity:xo(e,.1)}}function So(t){return t[0]}function ko(t){return t[t.length-1]}function xo(t,e){if(t.length<2)return{x:0,y:0};for(var n=t.length-1,r=null,i=ko(t);n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ke(e)));)n--;if(!r)return{x:0,y:0};var o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};var s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ao(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function _o(t,e){var n,i=e.min-t.min,o=e.max-t.max;return e.max-e.min<t.max-t.min&&(i=(n=(0,r.CR)([o,i],2))[0],o=n[1]),{min:i,max:o}}var Co=.35;function Ro(t,e,n){return{min:Po(t,e),max:Po(t,n)}}function Po(t,e){var n;return"number"===typeof t?t:null!==(n=t[e])&&void 0!==n?n:0}function Oo(t){var e=t.top;return{x:{min:t.left,max:t.right},y:{min:e,max:t.bottom}}}function No(t,e){return Oo(function(t,e){if(!e)return t;var n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}var Do=new WeakMap,Lo=function(){function t(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}return t.prototype.start=function(t,e){var n=this,r=(void 0===e?{}:e).snapToCursor,i=void 0!==r&&r;if(!1!==this.visualElement.isPresent){this.panSession=new wo(t,{onSessionStart:function(t){n.stopAnimation(),i&&n.snapToCursor(Ii(t,"page").point)},onStart:function(t,e){var r,i=n.getProps(),o=i.drag,s=i.dragPropagation,a=i.onDragStart;(!o||s||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=Ni(o),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),Jn((function(t){var e,r,i=n.getAxisMotionValue(t).get()||0;if(St.test(i)){var o=null===(r=null===(e=n.visualElement.projection)||void 0===e?void 0:e.layout)||void 0===r?void 0:r.actual[t];if(o)i=Dn(o)*(parseFloat(i)/100)}n.originPoint[t]=i})),null===a||void 0===a||a(t,e),null===(r=n.visualElement.animationState)||void 0===r||r.setActive(fi.Drag,!0))},onMove:function(t,e){var r=n.getProps(),i=r.dragPropagation,o=r.dragDirectionLock,s=r.onDirectionLock,a=r.onDrag;if(i||n.openGlobalLock){var c=e.offset;if(o&&null===n.currentDirection)return n.currentDirection=function(t,e){void 0===e&&(e=10);var n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(c),void(null!==n.currentDirection&&(null===s||void 0===s||s(n.currentDirection)));n.updateAxis("x",e.point,c),n.updateAxis("y",e.point,c),n.visualElement.syncRender(),null===a||void 0===a||a(t,e)}},onSessionEnd:function(t,e){return n.stop(t,e)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},t.prototype.stop=function(t,e){var n=this.isDragging;if(this.cancel(),n){var r=e.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null===i||void 0===i||i(t,e)}},t.prototype.cancel=function(){var t,e;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(t=this.panSession)||void 0===t||t.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(e=this.visualElement.animationState)||void 0===e||e.setActive(fi.Drag,!1)},t.prototype.updateAxis=function(t,e,n){var r=this.getProps().drag;if(n&&Mo(t,r,this.currentDirection)){var i=this.getAxisMotionValue(t),o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=function(t,e,n){var r=e.min,i=e.max;return void 0!==r&&t<r?t=n?q(r,t,n.min):Math.max(t,r):void 0!==i&&t>i&&(t=n?q(i,t,n.max):Math.min(t,i)),t}(o,this.constraints[t],this.elastic[t])),i.set(o)}},t.prototype.resolveConstraints=function(){var t=this,e=this.getProps(),n=e.dragConstraints,r=e.dragElastic,i=(this.visualElement.projection||{}).layout,o=this.constraints;n&&g(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(t,e){var n=e.top,r=e.left,i=e.bottom,o=e.right;return{x:Ao(t.x,r,o),y:Ao(t.y,n,i)}}(i.actual,n),this.elastic=function(t){return void 0===t&&(t=Co),!1===t?t=0:!0===t&&(t=Co),{x:Ro(t,"left","right"),y:Ro(t,"top","bottom")}}(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Jn((function(e){t.getAxisMotionValue(e)&&(t.constraints[e]=function(t,e){var n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(i.actual[e],t.constraints[e]))}))},t.prototype.resolveRefConstraints=function(){var t=this.getProps(),e=t.dragConstraints,n=t.onMeasureDragConstraints;if(!e||!g(e))return!1;var r=e.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var o=function(t,e,n){var r=No(t,n),i=e.scroll;return i&&(kn(r.x,i.x),kn(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),s=function(t,e){return{x:_o(t.x,e.x),y:_o(t.y,e.y)}}(i.layout.actual,o);if(n){var a=n(function(t){var e=t.x,n=t.y;return{top:n.min,right:e.max,bottom:n.max,left:e.min}}(s));this.hasMutatedConstraints=!!a,a&&(s=Oo(a))}return s},t.prototype.startAnimation=function(t){var e=this,n=this.getProps(),i=n.drag,o=n.dragMomentum,s=n.dragElastic,a=n.dragTransition,c=n.dragSnapToOrigin,u=n.onDragTransitionEnd,l=this.constraints||{},h=Jn((function(n){var u;if(Mo(n,i,e.currentDirection)){var h=null!==(u=null===l||void 0===l?void 0:l[n])&&void 0!==u?u:{};c&&(h={min:0,max:0});var d=s?200:1e6,f=s?40:1e7,p=(0,r.pi)((0,r.pi)({type:"inertia",velocity:o?t[n]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10},a),h);return e.startAxisValueAnimation(n,p)}}));return Promise.all(h).then(u)},t.prototype.startAxisValueAnimation=function(t,e){return sn(t,this.getAxisMotionValue(t),0,e)},t.prototype.stopAnimation=function(){var t=this;Jn((function(e){return t.getAxisMotionValue(e).stop()}))},t.prototype.getAxisMotionValue=function(t){var e,n,r="_drag"+t.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(t,null!==(n=null===(e=this.visualElement.getProps().initial)||void 0===e?void 0:e[t])&&void 0!==n?n:0)},t.prototype.snapToCursor=function(t){var e=this;Jn((function(n){if(Mo(n,e.getProps().drag,e.currentDirection)){var r=e.visualElement.projection,i=e.getAxisMotionValue(n);if(r&&r.layout){var o=r.layout.actual[n],s=o.min,a=o.max;i.set(t[n]-q(s,a,.5))}}}))},t.prototype.scalePositionWithinConstraints=function(){var t,e=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,o=this.visualElement.projection;if(g(i)&&o&&this.constraints){this.stopAnimation();var s={x:0,y:0};Jn((function(t){var n=e.getAxisMotionValue(t);if(n){var r=n.get();s[t]=function(t,e){var n=.5,r=Dn(t),i=Dn(e);return i>r?n=st(e.min,e.max-r,t.min):r>i&&(n=st(t.min,t.max-i,e.min)),Y(0,1,n)}({min:r,max:r},e.constraints[t])}}));var a=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=a?a({},""):"none",null===(t=o.root)||void 0===t||t.updateScroll(),o.updateLayout(),this.resolveConstraints(),Jn((function(t){if(Mo(t,r,null)){var n=e.getAxisMotionValue(t),i=e.constraints[t],o=i.min,a=i.max;n.set(q(o,a,s[t]))}}))}},t.prototype.addListeners=function(){var t,e=this;Do.set(this.visualElement,this);var n=_i(this.visualElement.getInstance(),"pointerdown",(function(t){var n=e.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&e.start(t)})),r=function(){g(e.getProps().dragConstraints)&&(e.constraints=e.resolveRefConstraints())},i=this.visualElement.projection,o=i.addEventListener("measure",r);i&&!i.layout&&(null===(t=i.root)||void 0===t||t.updateScroll(),i.updateLayout()),r();var s=gi(window,"resize",(function(){e.scalePositionWithinConstraints()}));return i.addEventListener("didUpdate",(function(t){var n=t.delta,r=t.hasLayoutChanged;e.isDragging&&r&&(Jn((function(t){var r=e.getAxisMotionValue(t);r&&(e.originPoint[t]+=n[t].translate,r.set(r.get()+n[t].translate))})),e.visualElement.syncRender())})),function(){s(),n(),o()}},t.prototype.getProps=function(){var t=this.visualElement.getProps(),e=t.drag,n=void 0!==e&&e,i=t.dragDirectionLock,o=void 0!==i&&i,s=t.dragPropagation,a=void 0!==s&&s,c=t.dragConstraints,u=void 0!==c&&c,l=t.dragElastic,h=void 0===l?Co:l,d=t.dragMomentum,f=void 0===d||d;return(0,r.pi)((0,r.pi)({},t),{drag:n,dragDirectionLock:o,dragPropagation:a,dragConstraints:u,dragElastic:h,dragMomentum:f})},t}();function Mo(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}var jo={pan:Hi((function(t){var e=t.onPan,n=t.onPanStart,r=t.onPanEnd,o=t.onPanSessionStart,s=t.visualElement,a=e||n||r||o,c=(0,i.useRef)(null),u=(0,i.useContext)(l).transformPagePoint,h={onSessionStart:o,onStart:n,onMove:e,onEnd:function(t,e){c.current=null,r&&r(t,e)}};(0,i.useEffect)((function(){null!==c.current&&c.current.updateHandlers(h)})),Ci(s,"pointerdown",a&&function(t){c.current=new wo(t,h,{transformPagePoint:u})}),ji((function(){return c.current&&c.current.end()}))})),drag:Hi((function(t){var e=t.dragControls,n=t.visualElement,r=k((function(){return new Lo(n)}));(0,i.useEffect)((function(){return e&&e.subscribe(r)}),[r,e]),(0,i.useEffect)((function(){return r.addListeners()}),[r])}))},Vo=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];var Uo=function(t){var e=t.treeType,n=void 0===e?"":e,i=t.build,o=t.getBaseTarget,s=t.makeTargetAnimatable,a=t.measureViewportBox,c=t.render,u=t.readValueFromInstance,l=t.removeValueFromRenderState,h=t.sortNodePosition,d=t.scrapeMotionValuesFromProps;return function(t,e){var f=t.parent,p=t.props,m=t.presenceId,g=t.blockInitialAnimation,v=t.visualState;void 0===e&&(e={});var b,w,I=!1,S=v.latestValues,k=v.renderState,x=function(){var t=Vo.map((function(){return new K})),e={},n={clearAllListeners:function(){return t.forEach((function(t){return t.clear()}))},updatePropListeners:function(t){Vo.forEach((function(r){var i,o="on"+r,s=t[o];null===(i=e[r])||void 0===i||i.call(e),s&&(e[r]=n[o](s))}))}};return t.forEach((function(t,e){n["on"+Vo[e]]=function(e){return t.add(e)},n["notify"+Vo[e]]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.notify.apply(t,(0,r.ev)([],(0,r.CR)(e),!1))}})),n}(),A=new Map,_=new Map,C={},R=(0,r.pi)({},S);function P(){b&&I&&(O(),c(b,k,p.style,F.projection))}function O(){i(F,k,S,e,p)}function N(){x.notifyUpdate(S)}var D=d(p);for(var L in D){var j=D[L];void 0!==S[L]&&X(j)&&j.set(S[L],!1)}var V=T(p),U=E(p),F=(0,r.pi)((0,r.pi)({treeType:n,current:null,depth:f?f.depth+1:0,parent:f,children:new Set,presenceId:m,variantChildren:U?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===f||void 0===f?void 0:f.isMounted()),blockInitialAnimation:g,isMounted:function(){return Boolean(b)},mount:function(t){I=!0,b=F.current=t,F.projection&&F.projection.mount(t),U&&f&&!V&&(w=null===f||void 0===f?void 0:f.addVariantChild(F)),null===f||void 0===f||f.children.add(F),F.setProps(p)},unmount:function(){var t;null===(t=F.projection)||void 0===t||t.unmount(),M.update(N),M.render(P),_.forEach((function(t){return t()})),null===w||void 0===w||w(),null===f||void 0===f||f.children.delete(F),x.clearAllListeners(),b=void 0,I=!1},addVariantChild:function(t){var e,n=F.getClosestVariantNode();if(n)return null===(e=n.variantChildren)||void 0===e||e.add(t),function(){return n.variantChildren.delete(t)}},sortNodePosition:function(t){return h&&n===t.treeType?h(F.getInstance(),t.getInstance()):0},getClosestVariantNode:function(){return U?F:null===f||void 0===f?void 0:f.getClosestVariantNode()},getLayoutId:function(){return p.layoutId},getInstance:function(){return b},getStaticValue:function(t){return S[t]},setStaticValue:function(t,e){return S[t]=e},getLatestValues:function(){return S},setVisibility:function(t){F.isVisible!==t&&(F.isVisible=t,F.scheduleRender())},makeTargetAnimatable:function(t,e){return void 0===e&&(e=!0),s(F,t,p,e)},measureViewportBox:function(){return a(b,p)},addValue:function(t,e){F.hasValue(t)&&F.removeValue(t),A.set(t,e),S[t]=e.get(),function(t,e){var n=e.onChange((function(e){S[t]=e,p.onUpdate&&B.update(N,!1,!0)})),r=e.onRenderRequest(F.scheduleRender);_.set(t,(function(){n(),r()}))}(t,e)},removeValue:function(t){var e;A.delete(t),null===(e=_.get(t))||void 0===e||e(),_.delete(t),delete S[t],l(t,k)},hasValue:function(t){return A.has(t)},getValue:function(t,e){var n=A.get(t);return void 0===n&&void 0!==e&&(n=G(e),F.addValue(t,n)),n},forEachValue:function(t){return A.forEach(t)},readValue:function(t){var n;return null!==(n=S[t])&&void 0!==n?n:u(b,t,e)},setBaseTarget:function(t,e){R[t]=e},getBaseTarget:function(t){if(o){var e=o(p,t);if(void 0!==e&&!X(e))return e}return R[t]}},x),{build:function(){return O(),k},scheduleRender:function(){B.render(P,!1,!0)},syncRender:P,setProps:function(t){(t.transformTemplate||p.transformTemplate)&&F.scheduleRender(),p=t,x.updatePropListeners(t),C=function(t,e,n){var r;for(var i in e){var o=e[i],s=n[i];if(X(o))t.addValue(i,o);else if(X(s))t.addValue(i,G(o));else if(s!==o)if(t.hasValue(i)){var a=t.getValue(i);!a.hasAnimated&&a.set(o)}else t.addValue(i,G(null!==(r=t.getStaticValue(i))&&void 0!==r?r:o))}for(var i in n)void 0===e[i]&&t.removeValue(i);return e}(F,d(p),C)},getProps:function(){return p},getVariant:function(t){var e;return null===(e=p.variants)||void 0===e?void 0:e[t]},getDefaultTransition:function(){return p.transition},getTransformPagePoint:function(){return p.transformPagePoint},getVariantContext:function(t){if(void 0===t&&(t=!1),t)return null===f||void 0===f?void 0:f.getVariantContext();if(!V){var e=(null===f||void 0===f?void 0:f.getVariantContext())||{};return void 0!==p.initial&&(e.initial=p.initial),e}for(var n={},r=0;r<$o;r++){var i=Fo[r],o=p[i];(y(o)||!1===o)&&(n[i]=o)}return n}});return F}},Fo=(0,r.ev)(["initial"],(0,r.CR)(fo),!1),$o=Fo.length;function Bo(t){return"string"===typeof t&&t.startsWith("var(--")}var qo=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Zo(t,e,n){void 0===n&&(n=1),'Max CSS variable fallback depth detected in property "'.concat(t,'". This may indicate a circular fallback dependency.');var i=(0,r.CR)(function(t){var e=qo.exec(t);if(!e)return[,];var n=(0,r.CR)(e,3);return[n[1],n[2]]}(t),2),o=i[0],s=i[1];if(o){var a=window.getComputedStyle(e).getPropertyValue(o);return a?a.trim():Bo(s)?Zo(s,e,n+1):s}}var zo,Ho=new Set(["width","height","top","left","right","bottom","x","y"]),Ko=function(t){return Ho.has(t)},Wo=function(t,e){t.set(e,!1),t.set(e)},Go=function(t){return t===ft||t===kt};!function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"}(zo||(zo={}));var Xo=function(t,e){return parseFloat(t.split(", ")[e])},Yo=function(t,e){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return Xo(o[1],e);var s=i.match(/^matrix\((.+)\)$/);return s?Xo(s[1],t):0}},Jo=new Set(["x","y","z"]),Qo=tr.filter((function(t){return!Jo.has(t)}));var ts={width:function(t,e){var n=t.x,r=e.paddingLeft,i=void 0===r?"0":r,o=e.paddingRight,s=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(s)},height:function(t,e){var n=t.y,r=e.paddingTop,i=void 0===r?"0":r,o=e.paddingBottom,s=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(s)},top:function(t,e){var n=e.top;return parseFloat(n)},left:function(t,e){var n=e.left;return parseFloat(n)},bottom:function(t,e){var n=t.y,r=e.top;return parseFloat(r)+(n.max-n.min)},right:function(t,e){var n=t.x,r=e.left;return parseFloat(r)+(n.max-n.min)},x:Yo(4,13),y:Yo(5,14)},es=function(t,e,n,i){void 0===n&&(n={}),void 0===i&&(i={}),e=(0,r.pi)({},e),i=(0,r.pi)({},i);var o=Object.keys(e).filter(Ko),s=[],a=!1,c=[];if(o.forEach((function(r){var o=t.getValue(r);if(t.hasValue(r)){var u,l=n[r],h=no(l),d=e[r];if(Me(d)){var f=d.length,p=null===d[0]?1:0;l=d[p],h=no(l);for(var m=p;m<f;m++)u?no(d[m]):(u=no(d[m]))===h||Go(h)&&Go(u)}else u=no(d);if(h!==u)if(Go(h)&&Go(u)){var g=o.get();"string"===typeof g&&o.set(parseFloat(g)),"string"===typeof d?e[r]=parseFloat(d):Array.isArray(d)&&u===kt&&(e[r]=d.map(parseFloat))}else(null===h||void 0===h?void 0:h.transform)&&(null===u||void 0===u?void 0:u.transform)&&(0===l||0===d)?0===l?o.set(u.transform(l)):e[r]=h.transform(d):(a||(s=function(t){var e=[];return Qo.forEach((function(n){var r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),e.length&&t.syncRender(),e}(t),a=!0),c.push(r),i[r]=void 0!==i[r]?i[r]:e[r],Wo(o,d))}})),c.length){var u=function(t,e,n){var r=e.measureViewportBox(),i=e.getInstance(),o=getComputedStyle(i),s=o.display,a={};"none"===s&&e.setStaticValue("display",t.display||"block"),n.forEach((function(t){a[t]=ts[t](r,o)})),e.syncRender();var c=e.measureViewportBox();return n.forEach((function(n){var r=e.getValue(n);Wo(r,a[n]),t[n]=ts[n](c,o)})),t}(e,t,c);return s.length&&s.forEach((function(e){var n=(0,r.CR)(e,2),i=n[0],o=n[1];t.getValue(i).set(o)})),t.syncRender(),{target:u,transitionEnd:i}}return{target:e,transitionEnd:i}};function ns(t,e,n,r){return function(t){return Object.keys(t).some(Ko)}(e)?es(t,e,n,r):{target:e,transitionEnd:r}}var rs=function(t,e,n,i){var o=function(t,e,n){var i,o=(0,r._T)(e,[]),s=t.getInstance();if(!(s instanceof Element))return{target:o,transitionEnd:n};for(var a in n&&(n=(0,r.pi)({},n)),t.forEachValue((function(t){var e=t.get();if(Bo(e)){var n=Zo(e,s);n&&t.set(n)}})),o){var c=o[a];if(Bo(c)){var u=Zo(c,s);u&&(o[a]=u,n&&(null!==(i=n[a])&&void 0!==i||(n[a]=c)))}}return{target:o,transitionEnd:n}}(t,e,i);return ns(t,e=o.target,n,i=o.transitionEnd)};var is={treeType:"dom",readValueFromInstance:function(t,e){if(rr(e)){var n=Ge(e);return n&&n.default||0}var r,i=(r=t,window.getComputedStyle(r));return(Vr(e)?i.getPropertyValue(e):i[e])||0},sortNodePosition:function(t,e){return 2&t.compareDocumentPosition(e)?1:-1},getBaseTarget:function(t,e){var n;return null===(n=t.style)||void 0===n?void 0:n[e]},measureViewportBox:function(t,e){return No(t,e.transformPagePoint)},resetTransform:function(t,e,n){var r=n.transformTemplate;e.style.transform=r?r({},""):"none",t.scheduleRender()},restoreTransform:function(t,e){t.style.transform=e.style.transform},removeValueFromRenderState:function(t,e){var n=e.vars,r=e.style;delete n[t],delete r[t]},makeTargetAnimatable:function(t,e,n,i){var o=n.transformValues;void 0===i&&(i=!0);var s=e.transition,a=e.transitionEnd,c=(0,r._T)(e,["transition","transitionEnd"]),u=function(t,e,n){var r,i,o={};for(var s in t)o[s]=null!==(r=ao(s,e))&&void 0!==r?r:null===(i=n.getValue(s))||void 0===i?void 0:i.get();return o}(c,s||{},t);if(o&&(a&&(a=o(a)),c&&(c=o(c)),u&&(u=o(u))),i){!function(t,e,n){var r,i,o,s,a=Object.keys(e).filter((function(e){return!t.hasValue(e)})),c=a.length;if(c)for(var u=0;u<c;u++){var l=a[u],h=e[l],d=null;Array.isArray(h)&&(d=h[0]),null===d&&(d=null!==(i=null!==(r=n[l])&&void 0!==r?r:t.readValue(l))&&void 0!==i?i:e[l]),void 0!==d&&null!==d&&("string"===typeof d&&(/^\-?\d*\.?\d+$/.test(d)||Qi(d))?d=parseFloat(d):!io(d)&&Zt.test(h)&&(d=Xe(l,h)),t.addValue(l,G(d)),null!==(o=(s=n)[l])&&void 0!==o||(s[l]=d),t.setBaseTarget(l,d))}}(t,c,u);var l=rs(t,c,u,a);a=l.transitionEnd,c=l.target}return(0,r.pi)({transition:s,transitionEnd:a},c)},scrapeMotionValuesFromProps:ai,build:function(t,e,n,r,i){void 0!==t.isVisible&&(e.style.visibility=t.isVisible?"visible":"hidden"),Fr(e,n,r,i.transformTemplate)},render:ii},os=Uo(is),ss=Uo((0,r.pi)((0,r.pi)({},is),{getBaseTarget:function(t,e){return t[e]},readValueFromInstance:function(t,e){var n;return rr(e)?(null===(n=Ge(e))||void 0===n?void 0:n.default)||0:(e=oi.has(e)?e:ri(e),t.getAttribute(e))},scrapeMotionValuesFromProps:ci,build:function(t,e,n,r,i){Jr(e,n,r,i.transformTemplate)},render:si})),as=function(t,e){return Lr(t)?ss(e,{enableHardwareAcceleration:!1}):os(e,{enableHardwareAcceleration:!0})};function cs(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}var us={correct:function(t,e){if(!e.target)return t;if("string"===typeof t){if(!kt.test(t))return t;t=parseFloat(t)}var n=cs(t,e.target.x),r=cs(t,e.target.y);return"".concat(n,"% ").concat(r,"%")}},ls="_$css",hs={correct:function(t,e){var n=e.treeScale,r=e.projectionDelta,i=t,o=t.includes("var("),s=[];o&&(t=t.replace(qo,(function(t){return s.push(t),ls})));var a=Zt.parse(t);if(a.length>5)return i;var c=Zt.createTransformer(t),u="number"!==typeof a[0]?1:0,l=r.x.scale*n.x,h=r.y.scale*n.y;a[0+u]/=l,a[1+u]/=h;var d=q(l,h,.5);"number"===typeof a[2+u]&&(a[2+u]/=d),"number"===typeof a[3+u]&&(a[3+u]/=d);var f=c(a);if(o){var p=0;f=f.replace(ls,(function(){var t=s[p];return p++,t}))}return f}},ds=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.componentDidMount=function(){var t,e=this,n=this.props,i=n.visualElement,o=n.layoutGroup,s=n.switchLayoutGroup,a=n.layoutId,c=i.projection;t=fs,Object.assign(Xn,t),c&&((null===o||void 0===o?void 0:o.group)&&o.group.add(c),(null===s||void 0===s?void 0:s.register)&&a&&s.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",(function(){e.safeToRemove()})),c.setOptions((0,r.pi)((0,r.pi)({},c.options),{onExitComplete:function(){return e.safeToRemove()}}))),ur.hasEverUpdated=!0},e.prototype.getSnapshotBeforeUpdate=function(t){var e=this,n=this.props,r=n.layoutDependency,i=n.visualElement,o=n.drag,s=n.isPresent,a=i.projection;return a?(a.isPresent=s,o||t.layoutDependency!==r||void 0===r?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||B.postRender((function(){var t;(null===(t=a.getStack())||void 0===t?void 0:t.members.length)||e.safeToRemove()}))),null):null},e.prototype.componentDidUpdate=function(){var t=this.props.visualElement.projection;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())},e.prototype.componentWillUnmount=function(){var t=this.props,e=t.visualElement,n=t.layoutGroup,r=t.switchLayoutGroup,i=e.projection;i&&(i.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(i),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(i))},e.prototype.safeToRemove=function(){var t=this.props.safeToRemove;null===t||void 0===t||t()},e.prototype.render=function(){return null},e}(i.Component);var fs={borderRadius:(0,r.pi)((0,r.pi)({},us),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:us,borderTopRightRadius:us,borderBottomLeftRadius:us,borderBottomRightRadius:us,boxShadow:hs},ps={measureLayout:function(t){var e=(0,r.CR)(Wi(),2),n=e[0],o=e[1],s=(0,i.useContext)(Cr);return i.createElement(ds,(0,r.pi)({},t,{layoutGroup:s,switchLayoutGroup:(0,i.useContext)(Rr),isPresent:n,safeToRemove:o}))}},ms=lr({attachResizeListener:function(t,e){return t.addEventListener("resize",e,{passive:!0}),function(){return t.removeEventListener("resize",e)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),gs={current:void 0},vs=lr({measureScroll:function(t){return{x:t.scrollLeft,y:t.scrollTop}},defaultParent:function(){if(!gs.current){var t=new ms(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),gs.current=t}return gs.current},resetTransform:function(t,e){t.style.transform=null!==e&&void 0!==e?e:"none"}}),ys=(0,r.pi)((0,r.pi)((0,r.pi)((0,r.pi)({},bo),Ki),jo),ps),bs=Nr((function(t,e){return function(t,e,n,i,o){var s=e.forwardMotionProps,a=void 0!==s&&s,c=Lr(t)?pi:mi;return(0,r.pi)((0,r.pi)({},c),{preloadedFeatures:n,useRender:ei(a),createVisualElement:i,projectionNodeConstructor:o,Component:t})}(t,e,ys,as,vs)}))}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],(function(){return e(1780),e(387)}));var n=t.O();_N_E=n}]);